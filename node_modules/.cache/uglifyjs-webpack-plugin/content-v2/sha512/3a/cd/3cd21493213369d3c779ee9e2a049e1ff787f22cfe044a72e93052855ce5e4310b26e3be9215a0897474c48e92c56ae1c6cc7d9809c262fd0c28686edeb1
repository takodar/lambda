{"code":"!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=210)}([function(e,t){e.exports=require(\"util\")},function(e,t,n){\"use strict\";var i=n(2).MongoError,r=n(15),o=n(2).ReadPreference,s=t.formatSortValue=function(e){switch((\"\"+e).toLowerCase()){case\"ascending\":case\"asc\":case\"1\":return 1;case\"descending\":case\"desc\":case\"-1\":return-1;default:throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\")}},a=t.formattedOrderClause=function(e){var t={};if(null==e)return null;if(Array.isArray(e)){if(0===e.length)return null;for(var n=0;n<e.length;n++)e[n].constructor==String?t[e[n]]=1:t[e[n][0]]=s(e[n][1])}else if(null!=e&&\"object\"==typeof e)t=e;else{if(\"string\"!=typeof e)throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");t[e]=1}return t},c=t.isObject=function(e){return\"[object Object]\"==Object.prototype.toString.call(e)},l=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r=Object.keys(Object(i)),o=0,s=r.length;o<s;o++){var a=r[o],c=Object.getOwnPropertyDescriptor(i,a);void 0!==c&&c.enumerable&&(t[a]=i[a])}}return t},p=[\"w\",\"j\",\"wtimeout\",\"fsync\"];t.filterOptions=function(e,t){var n={};for(var i in e)-1!=t.indexOf(i)&&(n[i]=e[i]);return n},t.mergeOptions=function(e,t){for(var n in t)e[n]=t[n];return e},t.translateOptions=function(e,t){var n={sslCA:\"ca\",sslCRL:\"crl\",sslValidate:\"rejectUnauthorized\",sslKey:\"key\",sslCert:\"cert\",sslPass:\"passphrase\",socketTimeoutMS:\"socketTimeout\",connectTimeoutMS:\"connectionTimeout\",replicaSet:\"setName\",rs_name:\"setName\",secondaryAcceptableLatencyMS:\"acceptableLatency\",connectWithNoPrimary:\"secondaryOnlyConnectionAllowed\",acceptableLatencyMS:\"localThresholdMS\"};for(var i in t)n[i]?e[n[i]]=t[i]:e[i]=t[i];return e},t.shallowClone=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.getSingleProperty=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},t.checkCollectionName=function(e){if(\"string\"!=typeof e)throw new i(\"collection name must be a String\");if(!e||-1!=e.indexOf(\"..\"))throw new i(\"collection names cannot be empty\");if(-1!=e.indexOf(\"$\")&&null==e.match(/((^\\$cmd)|(oplog\\.\\$main))/))throw new i(\"collection names must not contain '$'\");if(null!=e.match(/^\\.|\\.$/))throw new i(\"collection names must not start or end with '.'\");if(~e.indexOf(\"\\0\"))throw new i(\"collection names cannot contain a null character\")},t.toError=function(e){if(e instanceof Error)return e;for(var t=e.err||e.errmsg||e.errMessage||e,n=i.create({message:t,driver:!0}),r=\"object\"==typeof e?Object.keys(e):[],o=0;o<r.length;o++)try{n[r[o]]=e[r[o]]}catch(e){}return n},t.formattedOrderClause=a,t.parseIndexOptions=function(e){var t,n={},i=[];return\"string\"==typeof e?(i.push(e+\"_1\"),n[e]=1):Array.isArray(e)?e.forEach(function(e){\"string\"==typeof e?(i.push(e+\"_1\"),n[e]=1):Array.isArray(e)?(i.push(e[0]+\"_\"+(e[1]||1)),n[e[0]]=e[1]||1):c(e)&&(t=Object.keys(e)).forEach(function(t){i.push(t+\"_\"+e[t]),n[t]=e[t]})}):c(e)&&(t=Object.keys(e)).forEach(function(t){i.push(t+\"_\"+e[t]),n[t]=e[t]}),{name:i.join(\"_\"),keys:t,fieldHash:n}},t.normalizeHintField=function(e){var t=null;if(\"string\"==typeof e)t=e;else if(Array.isArray(e))t={},e.forEach(function(e){t[e]=1});else if(null!=e&&\"object\"==typeof e)for(var n in t={},e)t[n]=e[n];return t},t.handleCallback=function(e,t,n,i){try{if(null==e)return;if(e)return i?e(t,n,i):e(t,n)}catch(t){return process.nextTick(function(){throw t}),!1}return!0},t.decorateCommand=function(e,t,n){for(var i in t)null==n[i]&&(e[i]=t[i]);return e},t.isObject=c,t.debugOptions=function(e,t){var n={};return e.forEach(function(e){n[e]=t[e]}),n},t.MAX_JS_INT=9007199254740992,t.assign=l,t.mergeOptionsAndWriteConcern=function(e,t,n,i){for(var r=0;r<n.length;r++)e[n[r]]||void 0==t[n[r]]||(e[n[r]]=t[n[r]]);if(!i)return e;var o=!1;for(r=0;r<p.length;r++)if(e[p[r]]){o=!0;break}if(!o)for(r=0;r<p.length;r++)t[p[r]]&&(e[p[r]]=t[p[r]]);return e},t.getReadPreference=function(e){var t=null;if(!e.readPreference)return e;if((t=e.readPreference)instanceof r)e.readPreference=new o(t.mode,t.tags,{maxStalenessSeconds:t.maxStalenessSeconds});else if(\"string\"==typeof t)e.readPreference=new o(t);else if(t&&!(t instanceof r)&&\"object\"==typeof t){var n=t.mode||t.preference;n&&\"string\"==typeof n&&(e.readPreference=new o(n,t.tags,{maxStalenessSeconds:t.maxStalenessSeconds}))}return e}},function(e,t,n){var i=n(103),r=n(52);try{var o=r(\"bson-ext\");o&&(i=o)}catch(e){}e.exports={MongoError:n(4),Connection:n(105),Server:n(70),ReplSet:n(191),Mongos:n(193),Logger:n(21),Cursor:n(59),ReadPreference:n(36),BSON:i,Query:n(5).Query,MongoCR:n(54),X509:n(55),Plain:n(56),GSSAPI:n(57),ScramSHA1:n(58)}},function(e,t){e.exports=require(\"events\")},function(e,t,n){\"use strict\";function i(e){this.name=\"MongoError\",this.message=e,Error.captureStackTrace(this,i)}i.create=function(e){var t=null;if(e instanceof Error)(t=new i(e.message)).stack=e.stack;else if(\"string\"==typeof e)t=new i(e);else for(var n in t=new i(e.message||e.errmsg||e.$err||\"n/a\"),e)t[n]=e[n];return t},i.prototype=new Error,e.exports=i},function(e,t,n){\"use strict\";var i=(0,n(8).retrieveBSON)().Long,r=0,o=function(e,t,n,i){if(null==t)throw new Error(\"ns must be specified for query\");if(null==n)throw new Error(\"query must be specified for query\");if(~t.indexOf(\"\\0\"))throw new Error(\"namespace cannot contain a null character\");this.bson=e,this.ns=t,this.query=n,this.options=i||{},this.numberToSkip=i.numberToSkip||0,this.numberToReturn=i.numberToReturn||0,this.returnFieldSelector=i.returnFieldSelector||null,this.requestId=o.getRequestId(),this.serializeFunctions=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.maxBsonSize=i.maxBsonSize||16777216,this.checkKeys=\"boolean\"!=typeof i.checkKeys||i.checkKeys,this.batchSize=this.numberToReturn,this.tailable=!1,this.slaveOk=\"boolean\"==typeof i.slaveOk&&i.slaveOk,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1};o.prototype.incRequestId=function(){this.requestId=r++},o.nextRequestId=function(){return r+1},o.prototype.toBin=function(){var e=[],t=null,n=0;this.tailable&&(n|=2),this.slaveOk&&(n|=4),this.oplogReplay&&(n|=8),this.noCursorTimeout&&(n|=16),this.awaitData&&(n|=32),this.exhaust&&(n|=64),this.partial&&(n|=128),this.batchSize!=this.numberToReturn&&(this.numberToReturn=this.batchSize);var i=new Buffer(20+Buffer.byteLength(this.ns)+1+4+4);e.push(i);var r=this.bson.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(r),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(t=this.bson.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(t));var o=i.length+r.length+(t?t.length:0),s=4;return i[3]=o>>24&255,i[2]=o>>16&255,i[1]=o>>8&255,i[0]=255&o,i[s+3]=this.requestId>>24&255,i[s+2]=this.requestId>>16&255,i[s+1]=this.requestId>>8&255,i[s]=255&this.requestId,i[(s+=4)+3]=0,i[s+2]=0,i[s+1]=0,i[s]=0,i[(s+=4)+3]=0,i[s+2]=0,i[s+1]=7,i[s]=212,i[(s+=4)+3]=n>>24&255,i[s+2]=n>>16&255,i[s+1]=n>>8&255,i[s]=255&n,i[(s=(s+=4)+i.write(this.ns,s,\"utf8\")+1)-1]=0,i[s+3]=this.numberToSkip>>24&255,i[s+2]=this.numberToSkip>>16&255,i[s+1]=this.numberToSkip>>8&255,i[s]=255&this.numberToSkip,i[(s+=4)+3]=this.numberToReturn>>24&255,i[s+2]=this.numberToReturn>>16&255,i[s+1]=this.numberToReturn>>8&255,i[s]=255&this.numberToReturn,s+=4,e},o.getRequestId=function(){return++r};var s=function(e,t,n,i){i=i||{},this.numberToReturn=i.numberToReturn||0,this.requestId=r++,this.bson=e,this.ns=t,this.cursorId=n};s.prototype.toBin=function(){var e=4+Buffer.byteLength(this.ns)+1+4+8+16,t=0,n=new Buffer(e);return n[t+3]=e>>24&255,n[t+2]=e>>16&255,n[t+1]=e>>8&255,n[t]=255&e,n[(t+=4)+3]=this.requestId>>24&255,n[t+2]=this.requestId>>16&255,n[t+1]=this.requestId>>8&255,n[t]=255&this.requestId,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=7,n[t]=213,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t=(t+=4)+n.write(this.ns,t,\"utf8\")+1)-1]=0,n[t+3]=this.numberToReturn>>24&255,n[t+2]=this.numberToReturn>>16&255,n[t+1]=this.numberToReturn>>8&255,n[t]=255&this.numberToReturn,n[(t+=4)+3]=this.cursorId.getLowBits()>>24&255,n[t+2]=this.cursorId.getLowBits()>>16&255,n[t+1]=this.cursorId.getLowBits()>>8&255,n[t]=255&this.cursorId.getLowBits(),n[(t+=4)+3]=this.cursorId.getHighBits()>>24&255,n[t+2]=this.cursorId.getHighBits()>>16&255,n[t+1]=this.cursorId.getHighBits()>>8&255,n[t]=255&this.cursorId.getHighBits(),t+=4,n};var a=function(e,t){this.requestId=r++,this.cursorIds=t};a.prototype.toBin=function(){var e=24+8*this.cursorIds.length,t=0,n=new Buffer(e);n[t+3]=e>>24&255,n[t+2]=e>>16&255,n[t+1]=e>>8&255,n[t]=255&e,n[(t+=4)+3]=this.requestId>>24&255,n[t+2]=this.requestId>>16&255,n[t+1]=this.requestId>>8&255,n[t]=255&this.requestId,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=7,n[t]=215,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=this.cursorIds.length>>24&255,n[t+2]=this.cursorIds.length>>16&255,n[t+1]=this.cursorIds.length>>8&255,n[t]=255&this.cursorIds.length,t+=4;for(var i=0;i<this.cursorIds.length;i++)n[t+3]=this.cursorIds[i].getLowBits()>>24&255,n[t+2]=this.cursorIds[i].getLowBits()>>16&255,n[t+1]=this.cursorIds[i].getLowBits()>>8&255,n[t]=255&this.cursorIds[i].getLowBits(),n[(t+=4)+3]=this.cursorIds[i].getHighBits()>>24&255,n[t+2]=this.cursorIds[i].getHighBits()>>16&255,n[t+1]=this.cursorIds[i].getHighBits()>>8&255,n[t]=255&this.cursorIds[i].getHighBits(),t+=4;return n};var c=function(e,t,n){n=n||{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1},this.parsed=!1,this.index=0,this.raw=t,this.data=t,this.bson=e,this.opts=n,this.length=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.requestId=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.responseTo=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.index=this.index+4,this.responseFlags=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4;var r=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4;var o=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4,this.cursorId=new i(r,o),this.startingFrom=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.numberReturned=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.documents=new Array(this.numberReturned),this.cursorNotFound=0!=(0&this.responseFlags),this.queryFailure=0!=(2&this.responseFlags),this.shardConfigStale=0!=(4&this.responseFlags),this.awaitCapable=0!=(8&this.responseFlags),this.promoteLongs=\"boolean\"!=typeof n.promoteLongs||n.promoteLongs,this.promoteValues=\"boolean\"!=typeof n.promoteValues||n.promoteValues,this.promoteBuffers=\"boolean\"==typeof n.promoteBuffers&&n.promoteBuffers};c.prototype.isParsed=function(){return this.parsed},c.prototype.parse=function(e){if(!this.parsed){var t,n,r=(e=e||{}).raw||!1,o=e.documentsReturnedIn||null;if(n={promoteLongs:\"boolean\"==typeof e.promoteLongs?e.promoteLongs:this.opts.promoteLongs,promoteValues:\"boolean\"==typeof e.promoteValues?e.promoteValues:this.opts.promoteValues,promoteBuffers:\"boolean\"==typeof e.promoteBuffers?e.promoteBuffers:this.opts.promoteBuffers},1==this.numberReturned&&null!=o&&r){t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24;var s=this.data.slice(this.index,this.index+t),a={};a[o]=!0,n.fieldsAsRaw=a;var c=this.bson.deserialize(s,n);return this.documents=c.cursor[o],this.numberReturned=this.documents.length,this.cursorId=\"number\"==typeof c.cursor.id?i.fromNumber(c.cursor.id):c.cursor.id,this.index=this.index+t,void(this.parsed=!0)}for(var l=0;l<this.numberReturned;l++)t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,this.documents[l]=r?this.data.slice(this.index,this.index+t):this.bson.deserialize(this.data.slice(this.index,this.index+t),n),this.index=this.index+t;this.parsed=!0}},e.exports={Query:o,GetMore:s,Response:c,KillCursor:a}},function(e,t,n){var i;\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n(function(){\"use strict\";function r(e){return\"function\"==typeof e}var o,s,a=Array.isArray?Array.isArray:function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},c=0,l=function(e,t){g[c]=e,g[c+1]=t,2===(c+=2)&&(s?s(y):v())};var p=\"undefined\"!=typeof window?window:void 0,u=p||{},d=u.MutationObserver||u.WebKitMutationObserver,f=\"undefined\"==typeof self&&\"undefined\"!=typeof process&&\"[object process]\"==={}.toString.call(process),m=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function h(){return function(){setTimeout(y,1)}}var v,g=new Array(1e3);function y(){for(var e=0;e<c;e+=2){(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0}c=0}v=f?function(){process.nextTick(y)}:d?function(){var e=0,t=new d(y),n=document.createTextNode(\"\");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():m?function(){var e=new MessageChannel;return e.port1.onmessage=y,function(){e.port2.postMessage(0)}}():void 0===p?function(){try{var e=n(!function(){var e=new Error(\"Cannot find module 'vertx'\");throw e.code=\"MODULE_NOT_FOUND\",e}());return o=e.runOnLoop||e.runOnContext,function(){o(y)}}catch(e){return h()}}():h();var b=function(e,t){var n=this,i=new this.constructor(S);void 0===i[w]&&z(i);var r=n._state;if(r){var o=arguments[r-1];l(function(){R(r,i,o,n._result)})}else B(n,i,e,t);return i};var x=function(e){if(e&&\"object\"==typeof e&&e.constructor===this)return e;var t=new this(S);return T(t,e),t},w=Math.random().toString(36).substring(16);function S(){}var k=void 0,O=1,E=2,C=new P;function _(e){try{return e.then}catch(e){return C.error=e,C}}function I(e,t,n){t.constructor===e.constructor&&n===b&&constructor.resolve===x?function(e,t){t._state===O?A(e,t._result):t._state===E?M(e,t._result):B(t,void 0,function(t){T(e,t)},function(t){M(e,t)})}(e,t):n===C?M(e,C.error):void 0===n?A(e,t):r(n)?function(e,t,n){l(function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,function(n){i||(i=!0,t!==n?T(e,n):A(e,n))},function(t){i||(i=!0,M(e,t))},e._label);!i&&r&&(i=!0,M(e,r))},e)}(e,t,n):A(e,t)}function T(e,t){e===t?M(e,new TypeError(\"You cannot resolve a promise with itself\")):!function(e){return\"function\"==typeof e||\"object\"==typeof e&&null!==e}(t)?A(e,t):I(e,t,_(t))}function N(e){e._onerror&&e._onerror(e._result),j(e)}function A(e,t){e._state===k&&(e._result=t,e._state=O,0!==e._subscribers.length&&l(j,e))}function M(e,t){e._state===k&&(e._state=E,e._result=t,l(N,e))}function B(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+O]=n,r[o+E]=i,0===o&&e._state&&l(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?R(n,i,r,o):r(o);e._subscribers.length=0}}function P(){this.error=null}var D=new P;function R(e,t,n,i){var o,s,a,c,l=r(n);if(l){if((o=function(e,t){try{return e(t)}catch(e){return D.error=e,D}}(n,i))===D?(c=!0,s=o.error,o=null):a=!0,t===o)return void M(t,new TypeError(\"A promises callback cannot return that same promise.\"))}else o=i,a=!0;t._state!==k||(l&&a?T(t,o):c?M(t,s):e===O?A(t,o):e===E&&M(t,o))}var L=0;function z(e){e[w]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var q=function(e){return new $(this,e).promise};var U=function(e){var t=this;return a(e)?new t(function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}):new t(function(e,t){t(new TypeError(\"You must pass an array to race.\"))})};var K=function(e){var t=new this(S);return M(t,e),t};var F=H;function H(e){this[w]=L++,this._result=this._state=void 0,this._subscribers=[],S!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof H?function(e,t){try{t(function(t){T(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}H.all=q,H.race=U,H.resolve=x,H.reject=K,H._setScheduler=function(e){s=e},H._setAsap=function(e){l=e},H._asap=l,H.prototype={constructor:H,then:b,catch:function(e){return this.then(null,e)}};var $=V;function V(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[w]||z(this.promise),a(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):M(this.promise,new Error(\"Array Methods must be provided an Array\"))}V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===k&&n<e;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===x){var r=_(e);if(r===b&&e._state!==k)this._settledAt(e._state,t,e._result);else if(\"function\"!=typeof r)this._remaining--,this._result[t]=e;else if(n===F){var o=new n(S);I(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(i(e),t)},V.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===k&&(this._remaining--,e===E?M(i,n):this._result[t]=n),0===this._remaining&&A(i,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;B(e,void 0,function(e){n._settledAt(O,t,e)},function(e){n._settledAt(E,t,e)})};var W=function(){var e;if(\"undefined\"!=typeof global)e=global;else if(\"undefined\"!=typeof self)e=self;else try{e=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var t=e.Promise;t&&\"[object Promise]\"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=F)},Y={Promise:F,polyfill:W};void 0===(i=function(){return Y}.call(t,n,t,e))||(e.exports=i),W()}).call(this)},function(e,t){e.exports=require(\"path\")},function(e,t,n){\"use strict\";var i=n(0).format,r=n(52);t.setProperty=function(e,t,n,r){Object.defineProperty(e,t.name,{enumerable:!0,set:function(e){if(\"boolean\"!=typeof e)throw new Error(i(\"%s required a boolean\",t.name));1==e&&(r.flags|=n),0==e&&(r.flags&n)==n&&(r.flags^=n),t.value=e},get:function(){return t.value}})},t.getProperty=function(e,t,n,i,r){Object.defineProperty(e,t,{enumerable:!0,get:function(){return null==i[n]&&e.isParsed&&!e.isParsed()&&e.parse(),\"function\"==typeof r?r(i[n]):i[n]}})},t.getSingleProperty=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},t.copy=function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},t.debugOptions=function(e,t){var n={};return e.forEach(function(e){n[e]=t[e]}),n},t.retrieveBSON=function(){var e=n(103);e.native=!1;try{var t=r(\"bson-ext\");if(t)return t.native=!0,t}catch(e){}return e}},function(e,t){e.exports=require(\"stream\")},function(e,t,n){var i=n(0).format,r=function(e,t,n){this.name=e,this.object=t,this.stream=\"boolean\"==typeof n&&n,this.instrumentations={}};r.prototype.classMethod=function(e,t){var n=Object.keys(t).sort(),i=o(n,t);null==this.instrumentations[i]&&(this.instrumentations[i]={methods:[],options:t}),this.instrumentations[i].methods.push(e)};var o=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(i(\"%s=%s\",e[r],t[e[r]]));return n.join()};r.prototype.staticMethod=function(e,t){t.static=!0;var n=Object.keys(t).sort(),i=o(n,t);null==this.instrumentations[i]&&(this.instrumentations[i]={methods:[],options:t}),this.instrumentations[i].methods.push(e)},r.prototype.generate=function(){var e={name:this.name,obj:this.object,stream:this.stream,instrumentations:[]};for(var t in this.instrumentations)e.instrumentations.push(this.instrumentations[t]);return e},e.exports=r},function(e,t,n){\"use strict\";var i=n(60),r=n(0).format;function o(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}var s=n(190).version,a=r(\"Node.js %s, %s\",process.version,i.endianness()),c=i.type(),l=process.platform,p=process.arch,u=i.release();function d(e){return JSON.parse(JSON.stringify(e))}var f=function(e,t){e.listeners(\"serverDescriptionChanged\").length>0&&(e.emit(\"serverDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:function(e){return e.s.serverDescription||(e.s.serverDescription={address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),e.s.serverDescription}(e),newDescription:t}),e.s.serverDescription=t)},m=function(e,t){return t||(t=e.ismaster),t?t.ismaster&&\"isdbgrid\"==t.msg?\"Mongos\":t.ismaster&&!t.hosts?\"Standalone\":t.ismaster?\"RSPrimary\":t.secondary?\"RSSecondary\":t.arbiterOnly?\"RSArbiter\":\"Unknown\":\"Unknown\"},h=function(e){return function(t){if(\"destroyed\"!=e.s.state){var n=(new Date).getTime();o(e,\"serverHeartbeatStarted\",{connectionId:e.name}),e.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0},function(i,r){if(i)o(e,\"serverHeartbeatFailed\",{durationMS:s,failure:i,connectionId:e.name});else{e.emit(\"ismaster\",r,e);var s=(new Date).getTime()-n;o(e,\"serverHeartbeatSucceeded\",{durationMS:s,reply:r.result,connectionId:e.name}),function(e,t,n){var i=m(e,t);return m(e,n)!=i}(e,e.s.ismaster,r.result)&&f(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:e.s.inTopology?m(e):\"Standalone\"}),e.s.ismaster=r.result,e.s.isMasterLatencyMS=s}if(\"function\"==typeof t)return t(i,r);e.s.inquireServerStateTimeout=setTimeout(h(e),e.s.haInterval)})}}};e.exports.inquireServerState=h,e.exports.getTopologyType=m,e.exports.emitServerDescriptionChanged=f,e.exports.emitTopologyDescriptionChanged=function(e,t){e.listeners(\"topologyDescriptionChanged\").length>0&&(e.emit(\"topologyDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:function(e){return e.s.topologyDescription||(e.s.topologyDescription={topologyType:\"Unknown\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}]}),e.s.topologyDescription}(e),newDescription:t}),e.s.serverDescription=t)},e.exports.cloneOptions=function(e){var t={};for(var n in e)t[n]=e[n];return t},e.exports.createClientInfo=function(e){var t=e.clientInfo?d(e.clientInfo):{driver:{name:\"nodejs-core\",version:s},os:{type:c,name:l,architecture:p,version:u}};if(t.platform&&-1==t.platform.indexOf(\"mongodb-core\")?t.platform=r(\"%s, mongodb-core: %s\",t.platform,s):t.platform||(t.platform=a),e.appname){var n=new Buffer(e.appname),i=n.length>128?n.slice(0,128).toString(\"utf8\"):e.appname;t.application={name:i}}return t},e.exports.clone=d,e.exports.diff=function(e,t){var n={servers:[]};e||(e={servers:[]});for(var i=0;i<e.servers.length;i++){for(var r=!1,o=0;o<t.servers.length;o++)if(t.servers[o].address.toLowerCase()===e.servers[i].address.toLowerCase()){r=!0;break}r||n.servers.push({address:e.servers[i].address,from:e.servers[i].type,to:\"Unknown\"})}for(o=0;o<t.servers.length;o++){for(r=!1,i=0;i<e.servers.length;i++)if(e.servers[i].address.toLowerCase()===t.servers[o].address.toLowerCase()){r=!0;break}r||n.servers.push({address:t.servers[o].address,from:\"Unknown\",to:t.servers[o].type})}for(i=0;i<e.servers.length;i++){var s=e.servers[i];for(o=0;o<t.servers.length;o++){var a=t.servers[o];s.address.toLowerCase()===a.address.toLowerCase()&&s.type!=a.type&&n.servers.push({address:s.address,from:s.type,to:a.type})}}return n},e.exports.Interval=function(e,t){var n=!1;this.start=function(){return this.isRunning()||(n=setInterval(e,t)),this},this.stop=function(){return clearInterval(n),n=!1,this},this.isRunning=function(){return!1!==n}},e.exports.Timeout=function(e,t){var n=!1;this.start=function(){return this.isRunning()||(n=setTimeout(function(){e(),n&&void 0===n._called&&(n._called=!0)},t)),this},this.stop=function(){return clearTimeout(n),n=!1,this},this.isRunning=function(){return!(n&&n._called||!1===n)}}},function(e,t){e.exports=require(\"fs\")},function(e,t){e.exports=require(\"buffer\")},function(module,exports,__webpack_require__){\n/*!\n * depd\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\nvar callSiteToString=__webpack_require__(85).callSiteToString,eventListenerCount=__webpack_require__(85).eventListenerCount,relative=__webpack_require__(7).relative;module.exports=depd;var basePath=process.cwd();function containsNamespace(e,t){for(var n=e.split(/[ ,]+/),i=String(t).toLowerCase(),r=0;r<n.length;r++){var o=n[r];if(o&&(\"*\"===o||o.toLowerCase()===i))return!0}return!1}function convertDataDescriptorToAccessor(e,t,n){var i=Object.getOwnPropertyDescriptor(e,t),r=i.value;return i.get=function(){return r},i.writable&&(i.set=function(e){return r=e}),delete i.value,delete i.writable,Object.defineProperty(e,t,i),i}function createArgumentsString(e){for(var t=\"\",n=0;n<e;n++)t+=\", arg\"+n;return t.substr(2)}function createStackString(e){var t=this.name+\": \"+this.namespace;this.message&&(t+=\" deprecated \"+this.message);for(var n=0;n<e.length;n++)t+=\"\\n    at \"+callSiteToString(e[n]);return t}function depd(e){if(!e)throw new TypeError(\"argument namespace is required\");var t=callSiteLocation(getStack()[1])[0];function n(e){log.call(n,e)}return n._file=t,n._ignored=isignored(e),n._namespace=e,n._traced=istraced(e),n._warned=Object.create(null),n.function=wrapfunction,n.property=wrapproperty,n}function isignored(e){return!!process.noDeprecation||containsNamespace(process.env.NO_DEPRECATION||\"\",e)}function istraced(e){return!!process.traceDeprecation||containsNamespace(process.env.TRACE_DEPRECATION||\"\",e)}function log(e,t){var n=0!==eventListenerCount(process,\"deprecation\");if(n||!this._ignored){var i,r,o,s,a=0,c=!1,l=getStack(),p=this._file;for(t?(s=t,(o=callSiteLocation(l[1])).name=s.name,p=o[0]):o=s=callSiteLocation(l[a=2]);a<l.length;a++)if((r=(i=callSiteLocation(l[a]))[0])===p)c=!0;else if(r===this._file)p=this._file;else if(c)break;var u=i?s.join(\":\")+\"__\"+i.join(\":\"):void 0;if(!(void 0!==u&&u in this._warned)){this._warned[u]=!0;var d=e;if(d||(d=o!==s&&o.name?defaultMessage(o):defaultMessage(s)),n){var f=DeprecationError(this._namespace,d,l.slice(a));process.emit(\"deprecation\",f)}else{var m=(process.stderr.isTTY?formatColor:formatPlain).call(this,d,i,l.slice(a));process.stderr.write(m+\"\\n\",\"utf8\")}}}}function callSiteLocation(e){var t=e.getFileName()||\"<anonymous>\",n=e.getLineNumber(),i=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+\", \"+t);var r=[t,n,i];return r.callSite=e,r.name=e.getFunctionName(),r}function defaultMessage(e){var t=e.callSite,n=e.name;n||(n=\"<anonymous@\"+formatLocation(e)+\">\");var i=t.getThis(),r=i&&t.getTypeName();return\"Object\"===r&&(r=void 0),\"Function\"===r&&(r=i.name||r),r&&t.getMethodName()?r+\".\"+n:n}function formatPlain(e,t,n){var i=(new Date).toUTCString()+\" \"+this._namespace+\" deprecated \"+e;if(this._traced){for(var r=0;r<n.length;r++)i+=\"\\n    at \"+callSiteToString(n[r]);return i}return t&&(i+=\" at \"+formatLocation(t)),i}function formatColor(e,t,n){var i=\"\u001b[36;1m\"+this._namespace+\"\u001b[22;39m \u001b[33;1mdeprecated\u001b[22;39m \u001b[0m\"+e+\"\u001b[39m\";if(this._traced){for(var r=0;r<n.length;r++)i+=\"\\n    \u001b[36mat \"+callSiteToString(n[r])+\"\u001b[39m\";return i}return t&&(i+=\" \u001b[36m\"+formatLocation(t)+\"\u001b[39m\"),i}function formatLocation(e){return relative(basePath,e[0])+\":\"+e[1]+\":\"+e[2]}function getStack(){var e=Error.stackTraceLimit,t={},n=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var i=t.stack.slice(1);return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i}function prepareObjectStackTrace(e,t){return t}function wrapfunction(fn,message){if(\"function\"!=typeof fn)throw new TypeError(\"argument fn must be a function\");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval(\"(function (\"+args+') {\\n\"use strict\"\\nlog.call(deprecate, message, site)\\nreturn fn.apply(this, arguments)\\n})');return deprecatedfn}function wrapproperty(e,t,n){if(!e||\"object\"!=typeof e&&\"function\"!=typeof e)throw new TypeError(\"argument obj must be object\");var i=Object.getOwnPropertyDescriptor(e,t);if(!i)throw new TypeError(\"must call property on owner object\");if(!i.configurable)throw new TypeError(\"property must be configurable\");var r=this,o=callSiteLocation(getStack()[1]);o.name=t,\"value\"in i&&(i=convertDataDescriptorToAccessor(e,t,n));var s=i.get,a=i.set;\"function\"==typeof s&&(i.get=function(){return log.call(r,n,o),s.apply(this,arguments)}),\"function\"==typeof a&&(i.set=function(){return log.call(r,n,o),a.apply(this,arguments)}),Object.defineProperty(e,t,i)}function DeprecationError(e,t,n){var i,r=new Error;return Object.defineProperty(r,\"constructor\",{value:DeprecationError}),Object.defineProperty(r,\"message\",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(r,\"name\",{enumerable:!1,configurable:!0,value:\"DeprecationError\",writable:!0}),Object.defineProperty(r,\"namespace\",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,\"stack\",{configurable:!0,enumerable:!1,get:function(){return void 0!==i?i:i=createStackString.call(this,n)},set:function(e){i=e}}),r}},function(e,t,n){\"use strict\";var i=function(e,t,n){if(!(this instanceof i))return new i(e,t,n);this._type=\"ReadPreference\",this.mode=e,this.tags=t,this.options=n,t&&\"object\"==typeof t&&!Array.isArray(t)&&t.maxStalenessSeconds&&(this.options=t,this.tags=null),this.options&&this.options.maxStalenessSeconds&&(this.maxStalenessSeconds=this.options.maxStalenessSeconds)};i.isValid=function(e){return e==i.PRIMARY||e==i.PRIMARY_PREFERRED||e==i.SECONDARY||e==i.SECONDARY_PREFERRED||e==i.NEAREST||1==e||0==e||null==e},i.prototype.isValid=function(e){var t=\"string\"==typeof e?e:this.mode;return i.isValid(t)},i.prototype.toObject=function(){var e={mode:this.mode};return null!=this.tags&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},i.prototype.toJSON=function(){return this.toObject()},i.PRIMARY=\"primary\",i.PRIMARY_PREFERRED=\"primaryPreferred\",i.SECONDARY=\"secondary\",i.SECONDARY_PREFERRED=\"secondaryPreferred\",i.NEAREST=\"nearest\",e.exports=i},function(e,t,n){\"undefined\"!=typeof process&&\"renderer\"===process.type?e.exports=n(128):e.exports=n(129)},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(90),r=n(99),o=n(14)(\"express\"),s=n(31),a=n(42).mime,c=n(65),l=n(92),p=n(87),u=n(119);function d(e){return p.parse(e,{allowPrototypes:!0})}function f(){return{}}t.etag=function(e,t){var n=Buffer.isBuffer(e)?e:new Buffer(e,t);return c(n,{weak:!1})},t.wetag=function(e,t){var n=Buffer.isBuffer(e)?e:new Buffer(e,t);return c(n,{weak:!0})},t.isAbsolute=function(e){return\"/\"===e[0]||(\":\"===e[1]&&(\"\\\\\"===e[2]||\"/\"===e[2])||(\"\\\\\\\\\"===e.substring(0,2)||void 0))},t.flatten=o.function(s,\"utils.flatten: use array-flatten npm module instead\"),t.normalizeType=function(e){return~e.indexOf(\"/\")?function(e,t){for(var n=e.split(/ *; */),i={value:n[0],quality:1,params:{},originalIndex:t},r=1;r<n.length;++r){var o=n[r].split(/ *= */);\"q\"===o[0]?i.quality=parseFloat(o[1]):i.params[o[0]]=o[1]}return i}(e):{value:a.lookup(e),params:{}}},t.normalizeTypes=function(e){for(var n=[],i=0;i<e.length;++i)n.push(t.normalizeType(e[i]));return n},t.contentDisposition=o.function(i,\"utils.contentDisposition: use content-disposition npm module instead\"),t.compileETag=function(e){var n;if(\"function\"==typeof e)return e;switch(e){case!0:n=t.wetag;break;case!1:break;case\"strong\":n=t.etag;break;case\"weak\":n=t.wetag;break;default:throw new TypeError(\"unknown value for etag function: \"+e)}return n},t.compileQueryParser=function(e){var t;if(\"function\"==typeof e)return e;switch(e){case!0:t=u.parse;break;case!1:t=f;break;case\"extended\":t=d;break;case\"simple\":t=u.parse;break;default:throw new TypeError(\"unknown value for query parser function: \"+e)}return t},t.compileTrust=function(e){return\"function\"==typeof e?e:!0===e?function(){return!0}:\"number\"==typeof e?function(t,n){return n<e}:(\"string\"==typeof e&&(e=e.split(/ *, */)),l.compile(e||[]))},t.setCharset=function(e,t){if(!e||!t)return e;var n=r.parse(e);return n.parameters.charset=t,r.format(n)}},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(0).format,o=n(1).formattedOrderClause,s=n(1).handleCallback,a=n(15),c=n(2).MongoError,l=n(9).Readable||n(61).Readable,p=n(10),u=n(2).Cursor,d=n(2).BSON.Map,f=n(2).ReadPreference,m=[\"tailable\",\"oplogReplay\",\"noCursorTimeout\",\"awaitData\",\"exhaust\",\"partial\"],h=[\"numberOfRetries\",\"tailableRetryInterval\"],v=Array.prototype.push,g=function(e,t,i,r,o,s){u.apply(this,Array.prototype.slice.call(arguments,0));var a=g.INIT,c=r.numberOfRetries||5,p=r.tailableRetryInterval||500,d=c,f=r.promiseLibrary;f||(f=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),l.call(this,{objectMode:!0}),this.s={numberOfRetries:c,tailableRetryInterval:p,currentNumberOfRetries:d,state:a,streamOptions:{},bson:e,ns:t,cmd:i,options:r,topology:o,topologyOptions:s,promiseLibrary:f,currentDoc:null},1==this.s.options.noCursorTimeout&&this.addCursorFlag(\"noCursorTimeout\",!0),this.sortValue=this.s.cmd.sort;var m=i.cursor&&i.cursor.batchSize?i.cursor&&i.cursor.batchSize:r.cursor&&r.cursor.batchSize?r.cursor.batchSize:1e3;this.setCursorBatchSize(m)};for(var y in i(g,l),u.prototype._next=u.prototype.next,u.prototype)g.prototype[y]=u.prototype[y];var b=g.define=new p(\"Cursor\",g,!0);g.prototype.hasNext=function(e){var t=this;return\"function\"==typeof e?t.s.currentDoc?e(null,!0):x(t,function(n,i){return n?e(n,null):i?(t.s.currentDoc=i,void e(null,!0)):e(null,!1)}):new this.s.promiseLibrary(function(e,n){t.s.currentDoc?e(!0):x(t,function(i,r){return t.s.state==g.CLOSED||t.isDead()?e(!1):i?n(i):r?(t.s.currentDoc=r,void e(!0)):e(!1)})})},b.classMethod(\"hasNext\",{callback:!0,promise:!0}),g.prototype.next=function(e){var t=this;if(\"function\"==typeof e){if(t.s.currentDoc){var n=t.s.currentDoc;return t.s.currentDoc=null,e(null,n)}return x(t,e)}return new this.s.promiseLibrary(function(e,n){if(t.s.currentDoc){var i=t.s.currentDoc;return t.s.currentDoc=null,e(i)}x(t,function(t,i){if(t)return n(t);e(i)})})},b.classMethod(\"next\",{callback:!0,promise:!0}),g.prototype.filter=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.query=e,this},b.classMethod(\"filter\",{callback:!1,promise:!1,returns:[g]}),g.prototype.maxScan=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxScan=e,this},b.classMethod(\"maxScan\",{callback:!1,promise:!1,returns:[g]}),g.prototype.hint=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.hint=e,this},b.classMethod(\"hint\",{callback:!1,promise:!1,returns:[g]}),g.prototype.min=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.min=e,this},b.classMethod(\"min\",{callback:!1,promise:!1,returns:[g]}),g.prototype.max=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.max=e,this},b.classMethod(\"max\",{callback:!1,promise:!1,returns:[g]}),g.prototype.returnKey=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.returnKey=e,this},b.classMethod(\"returnKey\",{callback:!1,promise:!1,returns:[g]}),g.prototype.showRecordId=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.showDiskLoc=e,this},b.classMethod(\"showRecordId\",{callback:!1,promise:!1,returns:[g]}),g.prototype.snapshot=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.snapshot=e,this},b.classMethod(\"snapshot\",{callback:!1,promise:!1,returns:[g]}),g.prototype.setCursorOption=function(e,t){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(-1==h.indexOf(e))throw c.create({message:r(\"option %s not a supported option %s\",e,h),driver:!0});return this.s[e]=t,\"numberOfRetries\"==e&&(this.s.currentNumberOfRetries=t),this},b.classMethod(\"setCursorOption\",{callback:!1,promise:!1,returns:[g]}),g.prototype.addCursorFlag=function(e,t){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(-1==m.indexOf(e))throw c.create({message:r(\"flag %s not a supported flag %s\",e,m),driver:!0});if(\"boolean\"!=typeof t)throw c.create({message:r(\"flag %s must be a boolean value\",e),driver:!0});return this.s.cmd[e]=t,this},b.classMethod(\"addCursorFlag\",{callback:!1,promise:!1,returns:[g]}),g.prototype.addQueryModifier=function(e,t){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"$\"!=e[0])throw c.create({message:r(\"%s is not a valid query modifier\"),driver:!0});var n=e.substr(1);return this.s.cmd[n]=t,\"orderby\"==n&&(this.s.cmd.sort=this.s.cmd[n]),this},b.classMethod(\"addQueryModifier\",{callback:!1,promise:!1,returns:[g]}),g.prototype.comment=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.comment=e,this},b.classMethod(\"comment\",{callback:!1,promise:!1,returns:[g]}),g.prototype.maxAwaitTimeMS=function(e){if(\"number\"!=typeof e)throw c.create({message:\"maxAwaitTimeMS must be a number\",driver:!0});if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxAwaitTimeMS=e,this},b.classMethod(\"maxAwaitTimeMS\",{callback:!1,promise:!1,returns:[g]}),g.prototype.maxTimeMS=function(e){if(\"number\"!=typeof e)throw c.create({message:\"maxTimeMS must be a number\",driver:!0});if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxTimeMS=e,this},b.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[g]}),g.prototype.maxTimeMs=g.prototype.maxTimeMS,b.classMethod(\"maxTimeMs\",{callback:!1,promise:!1,returns:[g]}),g.prototype.project=function(e){if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.fields=e,this},b.classMethod(\"project\",{callback:!1,promise:!1,returns:[g]}),g.prototype.sort=function(e,t){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support sorting\",driver:!0});if(this.s.state==g.CLOSED||this.s.state==g.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});var n=e;return Array.isArray(n)&&Array.isArray(n[0])&&(n=new d(n.map(function(e){var t=[e[0],null];if(\"asc\"==e[1])t[1]=1;else if(\"desc\"==e[1])t[1]=-1;else{if(1!=e[1]&&-1!=e[1])throw new c(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");t[1]=e[1]}return t}))),null!=t&&(n=[[e,t]]),this.s.cmd.sort=n,this.sortValue=n,this},b.classMethod(\"sort\",{callback:!1,promise:!1,returns:[g]}),g.prototype.batchSize=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support batchSize\",driver:!0});if(this.s.state==g.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.batchSize=e,this.setCursorBatchSize(e),this},b.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[g]}),g.prototype.collation=function(e){return this.s.cmd.collation=e,this},b.classMethod(\"collation\",{callback:!1,promise:!1,returns:[g]}),g.prototype.limit=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support limit\",driver:!0});if(this.s.state==g.OPEN||this.s.state==g.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"limit requires an integer\",driver:!0});return this.s.cmd.limit=e,this.setCursorLimit(e),this},b.classMethod(\"limit\",{callback:!1,promise:!1,returns:[g]}),g.prototype.skip=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support skip\",driver:!0});if(this.s.state==g.OPEN||this.s.state==g.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"skip requires an integer\",driver:!0});return this.s.cmd.skip=e,this.setCursorSkip(e),this},b.classMethod(\"skip\",{callback:!1,promise:!1,returns:[g]}),g.prototype.nextObject=g.prototype.next;var x=function(e,t){if(e.s.state==g.CLOSED||e.isDead&&e.isDead())return s(t,c.create({message:\"Cursor is closed\",driver:!0}));if(e.s.state==g.INIT&&e.s.cmd.sort)try{e.s.cmd.sort=o(e.s.cmd.sort)}catch(e){return s(t,e)}e._next(function(n,i){if(e.s.state=g.OPEN,n)return s(t,n);s(t,null,i)})};b.classMethod(\"nextObject\",{callback:!0,promise:!0});var w=function(e,t){if(0!=e.bufferedCount())return e._next(t),w};g.prototype.next=g.prototype.nextObject,b.classMethod(\"next\",{callback:!0,promise:!0}),g.prototype.each=function(e){this.rewind(),this.s.state=g.INIT,S(this,e)},b.classMethod(\"each\",{callback:!0,promise:!1});var S=function(e,t){if(!t)throw c.create({message:\"callback is mandatory\",driver:!0});if(!e.isNotified()){if(e.s.state==g.CLOSED||e.isDead())return s(t,c.create({message:\"Cursor is closed\",driver:!0}));e.s.state==g.INIT&&(e.s.state=g.OPEN);var n=null;if(e.bufferedCount()>0){for(;n=w(e,t);)n(e,t);S(e,t)}else e.next(function(n,i){return n?s(t,n):null==i?(e.s.state=g.CLOSED,s(t,null,null)):void(0!=s(t,null,i)&&S(e,t))})}};g.prototype.forEach=function(e,t){this.each(function(n,i){if(n)return t(n),!1;if(null!=i)return e(i),!0;if(null==i&&t){var r=t;return t=null,r(null),!1}})},b.classMethod(\"forEach\",{callback:!0,promise:!1}),g.prototype.setReadPreference=function(e){if(this.s.state!=g.INIT)throw c.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return e instanceof a?this.s.options.readPreference=new f(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}):\"string\"==typeof e?this.s.options.readPreference=new f(e):e instanceof f&&(this.s.options.readPreference=e),this},b.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[g]}),g.prototype.toArray=function(e){var t=this;if(t.s.options.tailable)throw c.create({message:\"Tailable cursor cannot be converted to array\",driver:!0});return\"function\"==typeof e?k(t,e):new this.s.promiseLibrary(function(e,n){k(t,function(t,i){if(t)return n(t);e(i)})})};var k=function(e,t){var n=[];e.rewind(),e.s.state=g.INIT;var i=function(){e._next(function(r,o){if(r)return s(t,r);if(null==o)return e.s.state=g.CLOSED,s(t,null,n);if(n.push(o),e.bufferedCount()>0){var a=e.readBufferedDocuments(e.bufferedCount());e.s.transforms&&\"function\"==typeof e.s.transforms.doc&&(a=a.map(e.s.transforms.doc)),v.apply(n,a)}i()})};i()};b.classMethod(\"toArray\",{callback:!0,promise:!0}),g.prototype.count=function(e,t,n){var i=this;if(null==i.s.cmd.query)throw c.create({message:\"count can only be used with find command\",driver:!0});return\"function\"==typeof t&&(n=t,t={}),t=t||{},\"function\"==typeof n?O(i,e,t,n):new this.s.promiseLibrary(function(n,r){O(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var O=function(e,t,n,i){\"function\"==typeof t&&(i=t,t=!0),t&&(\"number\"==typeof e.cursorSkip()&&(n.skip=e.cursorSkip()),\"number\"==typeof e.cursorLimit()&&(n.limit=e.cursorLimit()));var o=e.s.ns.indexOf(\".\"),s={count:e.s.ns.substr(o+1),query:e.s.cmd.query};e.s.cmd.readConcern&&(s.readConcern=e.s.cmd.readConcern),e.s.cmd.hint&&(s.hint=e.s.cmd.hint),\"number\"==typeof n.maxTimeMS?s.maxTimeMS=n.maxTimeMS:e.s.cmd&&\"number\"==typeof e.s.cmd.maxTimeMS&&(s.maxTimeMS=e.s.cmd.maxTimeMS),n.skip&&(s.skip=n.skip),n.limit&&(s.limit=n.limit),e.s.options.hint&&(s.hint=e.s.options.hint),e.server=e.topology,e.topology.command(r(\"%s.$cmd\",e.s.ns.substr(0,o)),s,function(e,t){i(e,t?t.result.n:null)},e.options)};b.classMethod(\"count\",{callback:!0,promise:!0}),g.prototype.close=function(e){return this.s.state=g.CLOSED,this.kill(),this.emit(\"close\"),\"function\"==typeof e?s(e,null,this):new this.s.promiseLibrary(function(e){e()})},b.classMethod(\"close\",{callback:!0,promise:!0}),g.prototype.map=function(e){if(this.cursorState.transforms&&this.cursorState.transforms.doc){var t=this.cursorState.transforms.doc;this.cursorState.transforms.doc=function(n){return e(t(n))}}else this.cursorState.transforms={doc:e};return this},b.classMethod(\"map\",{callback:!1,promise:!1,returns:[g]}),g.prototype.isClosed=function(){return this.isDead()},b.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),g.prototype.destroy=function(e){e&&this.emit(\"error\",e),this.pause(),this.close()},b.classMethod(\"destroy\",{callback:!1,promise:!1}),g.prototype.stream=function(e){return this.s.streamOptions=e||{},this},b.classMethod(\"stream\",{callback:!1,promise:!1,returns:[g]}),g.prototype.explain=function(e){var t=this;return this.s.cmd.explain=!0,this.s.cmd.readConcern&&delete this.s.cmd.readConcern,\"function\"==typeof e?this._next(e):new this.s.promiseLibrary(function(e,n){t._next(function(t,i){if(t)return n(t);e(i)})})},b.classMethod(\"explain\",{callback:!0,promise:!0}),g.prototype._read=function(){var e=this;if(e.s.state==g.CLOSED||e.isDead())return e.push(null);e.nextObject(function(t,n){return t?(e.listeners(\"error\")&&e.listeners(\"error\").length>0&&e.emit(\"error\",t),e.isDead()||e.close(),e.emit(\"end\"),e.emit(\"finish\")):\"function\"==typeof e.s.streamOptions.transform&&null!=n?e.push(e.s.streamOptions.transform(n)):e.cursorState.transforms&&\"function\"==typeof e.cursorState.transforms.doc&&null!=n?e.push(e.cursorState.transforms.doc(n)):void e.push(n)})},Object.defineProperty(g.prototype,\"readPreference\",{enumerable:!0,get:function(){return this&&this.s?this.s.options.readPreference:null}}),Object.defineProperty(g.prototype,\"namespace\",{enumerable:!0,get:function(){if(!this||!this.s)return null;var e=this.s.ns||\"\",t=e.indexOf(\".\");return t<0?{database:this.s.ns,collection:\"\"}:{database:e.substr(0,t),collection:e.substr(t+1)}}}),g.INIT=0,g.OPEN=1,g.CLOSED=2,g.GET_MORE=3,e.exports=g},function(e,t){e.exports=require(\"http\")},function(e,t){e.exports=require(\"crypto\")},function(e,t,n){\"use strict\";var i=n(0).format,r=n(4),o={},s={},a=null,c=process.pid,l=null,p=function(e,t){if(!(this instanceof p))return new p(e,t);t=t||{},this.className=e,t.logger?l=t.logger:null==l&&(l=console.log),t.loggerLevel&&(a=t.loggerLevel||\"error\"),null==s[this.className]&&(o[this.className]=!0)};p.prototype.debug=function(e,t){if(this.isDebug()&&(Object.keys(s).length>0&&s[this.className]||0==Object.keys(s).length&&o[this.className])){var n=(new Date).getTime(),r=i(\"[%s-%s:%s] %s %s\",\"DEBUG\",this.className,c,n,e),a={type:\"debug\",message:e,className:this.className,pid:c,date:n};t&&(a.meta=t),l(r,a)}},p.prototype.warn=function(e,t){if(this.isWarn()&&(Object.keys(s).length>0&&s[this.className]||0==Object.keys(s).length&&o[this.className])){var n=(new Date).getTime(),r=i(\"[%s-%s:%s] %s %s\",\"WARN\",this.className,c,n,e),a={type:\"warn\",message:e,className:this.className,pid:c,date:n};t&&(a.meta=t),l(r,a)}},p.prototype.info=function(e,t){if(this.isInfo()&&(Object.keys(s).length>0&&s[this.className]||0==Object.keys(s).length&&o[this.className])){var n=(new Date).getTime(),r=i(\"[%s-%s:%s] %s %s\",\"INFO\",this.className,c,n,e),a={type:\"info\",message:e,className:this.className,pid:c,date:n};t&&(a.meta=t),l(r,a)}},p.prototype.error=function(e,t){if(this.isError()&&(Object.keys(s).length>0&&s[this.className]||0==Object.keys(s).length&&o[this.className])){var n=(new Date).getTime(),r=i(\"[%s-%s:%s] %s %s\",\"ERROR\",this.className,c,n,e),a={type:\"error\",message:e,className:this.className,pid:c,date:n};t&&(a.meta=t),l(r,a)}},p.prototype.isInfo=function(){return\"info\"==a||\"debug\"==a},p.prototype.isError=function(){return\"error\"==a||\"info\"==a||\"debug\"==a},p.prototype.isWarn=function(){return\"error\"==a||\"warn\"==a||\"info\"==a||\"debug\"==a},p.prototype.isDebug=function(){return\"debug\"==a},p.reset=function(){a=\"error\",s={}},p.currentLogger=function(){return l},p.setCurrentLogger=function(e){if(\"function\"!=typeof e)throw new r(\"current logger must be a function\");l=e},p.filter=function(e,t){\"class\"==e&&Array.isArray(t)&&(s={},t.forEach(function(e){s[e]=!0}))},p.setLevel=function(e){if(\"info\"!=e&&\"error\"!=e&&\"debug\"!=e&&\"warn\"!=e)throw new Error(i(\"%s is an illegal logging level\",e));a=e},e.exports=p},function(e,t,n){\"use strict\";\n/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(33),r=i.parse,o=i.Url;function s(e){var t=e.url;if(void 0!==t){var n=e._parsedUrl;return c(t,n)?n:((n=a(t))._raw=t,e._parsedUrl=n)}}function a(e){if(\"string\"!=typeof e||47!==e.charCodeAt(0))return r(e);for(var t=e,n=null,i=null,s=1;s<e.length;s++)switch(e.charCodeAt(s)){case 63:null===i&&(t=e.substring(0,s),n=e.substring(s+1),i=e.substring(s));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return r(e)}var a=void 0!==o?new o:{};return a.path=e,a.href=e,a.pathname=t,a.query=n,a.search=i,a}function c(e,t){return\"object\"==typeof t&&null!==t&&(void 0===o||t instanceof o)&&t._raw===e}e.exports=s,e.exports.original=function(e){var t=e.originalUrl;if(\"string\"!=typeof t)return s(e);var n=e._parsedOriginalUrl;if(c(t,n))return n;return(n=a(t))._raw=t,e._parsedOriginalUrl=n}},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(15),o=n(2).MongoError,s=n(9).Readable||n(61).Readable,a=n(10),c=n(18),l=n(2).ReadPreference,p=function(e,t,i,r,o,a){c.apply(this,Array.prototype.slice.call(arguments,0));var l=p.INIT,u=r.promiseLibrary;u||(u=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),s.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:l,streamOptions:{},bson:e,ns:t,cmd:i,options:r,topology:o,topologyOptions:a,promiseLibrary:u}};i(p,s);for(var u=[\"_next\",\"next\",\"hasNext\",\"each\",\"forEach\",\"toArray\",\"rewind\",\"bufferedCount\",\"readBufferedDocuments\",\"close\",\"isClosed\",\"kill\",\"setCursorBatchSize\",\"_find\",\"_getmore\",\"_killcursor\",\"isDead\",\"explain\",\"isNotified\",\"isKilled\"],d=0;d<u.length;d++)p.prototype[u[d]]=c.prototype[u[d]];var f=p.define=new a(\"CommandCursor\",p,!0);p.prototype.setReadPreference=function(e){if(this.s.state==p.CLOSED||this.isDead())throw o.create({message:\"Cursor is closed\",driver:!0});if(this.s.state!=p.INIT)throw o.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return e instanceof r?this.s.options.readPreference=new l(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}):\"string\"==typeof e?this.s.options.readPreference=new l(e):e instanceof l&&(this.s.options.readPreference=e),this},f.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[p]}),p.prototype.batchSize=function(e){if(this.s.state==p.CLOSED||this.isDead())throw o.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw o.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},f.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[p]}),p.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},f.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[p]}),p.prototype.get=p.prototype.toArray,f.classMethod(\"get\",{callback:!0,promise:!1}),f.classMethod(\"toArray\",{callback:!0,promise:!0}),f.classMethod(\"each\",{callback:!0,promise:!1}),f.classMethod(\"forEach\",{callback:!0,promise:!1}),f.classMethod(\"next\",{callback:!0,promise:!0}),f.classMethod(\"hasNext\",{callback:!0,promise:!0}),f.classMethod(\"close\",{callback:!0,promise:!0}),f.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),f.classMethod(\"rewind\",{callback:!1,promise:!1}),f.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),f.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),p.INIT=0,p.OPEN=1,p.CLOSED=2,e.exports=p},function(e,t,n){try{var i=n(0);if(\"function\"!=typeof i.inherits)throw\"\";e.exports=i.inherits}catch(t){e.exports=n(144)}},function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype=\"Long\",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error(\"radix out of range: \"+t);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var i=n.fromNumber(t),r=this.div(i),o=r.multiply(i).subtract(this);return r.toString(t)+o.toInt().toString(t)}return\"-\"+this.negate().toString(t)}var s=n.fromNumber(Math.pow(t,6));o=this;for(var a=\"\";!o.isZero();){var c=o.div(s),l=o.subtract(c.multiply(s)).toInt().toString(t);if((o=c).isZero())return l+a;for(;l.length<6;)l=\"0\"+l;a=\"\"+l+a}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,c=e.low_>>>16,l=0,p=0,u=0,d=0;return u+=(d+=o+(65535&e.low_))>>>16,d&=65535,p+=(u+=r+c)>>>16,u&=65535,l+=(p+=i+a)>>>16,p&=65535,l+=t+s,l&=65535,n.fromBits(u<<16|d,l<<16|p)},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,c=e.low_>>>16,l=65535&e.low_,p=0,u=0,d=0,f=0;return d+=(f+=o*l)>>>16,f&=65535,u+=(d+=r*l)>>>16,d&=65535,u+=(d+=o*c)>>>16,d&=65535,p+=(u+=i*l)>>>16,u&=65535,p+=(u+=r*c)>>>16,u&=65535,p+=(u+=o*a)>>>16,u&=65535,p+=t*l+i*c+r*a+o*s,p&=65535,n.fromBits(d<<16|f,p<<16|u)},n.prototype.div=function(e){if(e.isZero())throw Error(\"division by zero\");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var i=this.subtract(e.multiply(t));return t.add(i.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=n.ZERO;for(i=this;i.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:Math.pow(2,o-48),a=n.fromNumber(t),c=a.multiply(e);c.isNegative()||c.greaterThan(i);)t-=s,c=(a=n.fromNumber(t)).multiply(e);a.isZero()&&(a=n.ONE),r=r.add(a),i=i.subtract(c)}return r},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var t=this.low_;if(e<32){var i=this.high_;return n.fromBits(t<<e,i<<e|t>>>32-e)}return n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var i=this.low_;return n.fromBits(i>>>e|t<<32-e,t>>e)}return n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var i=this.low_;return n.fromBits(i>>>e|t<<32-e,t>>>e)}return 32===e?n.fromBits(t,0):n.fromBits(t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var i=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=i),i},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error(\"number format error: empty string\");var i=t||10;if(i<2||36<i)throw Error(\"radix out of range: \"+i);if(\"-\"===e.charAt(0))return n.fromString(e.substring(1),i).negate();if(e.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+e);for(var r=n.fromNumber(Math.pow(i,8)),o=n.ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),i);if(a<8){var l=n.fromNumber(Math.pow(i,a));o=o.multiply(l).add(n.fromNumber(c))}else o=(o=o.multiply(r)).add(n.fromNumber(c))}return o},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_31_DBL_=n.TWO_PWR_32_DBL_/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_,n.TWO_PWR_63_DBL_=n.TWO_PWR_64_DBL_/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Long=n},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(2).MongoError,o=n(9).Readable||n(61).Readable,s=n(10),a=n(18),c=function(e,t,i,r,s,l){a.apply(this,Array.prototype.slice.call(arguments,0));var p=c.INIT,u=r.promiseLibrary;u||(u=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),o.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:p,streamOptions:{},bson:e,ns:t,cmd:i,options:r,topology:s,topologyOptions:l,promiseLibrary:u}};for(var l in i(c,o),a.prototype)c.prototype[l]=a.prototype[l];var p=c.define=new s(\"AggregationCursor\",c,!0);c.prototype.batchSize=function(e){if(this.s.state==c.CLOSED||this.isDead())throw r.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw r.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},p.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[c]}),c.prototype.geoNear=function(e){return this.s.cmd.pipeline.push({$geoNear:e}),this},p.classMethod(\"geoNear\",{callback:!1,promise:!1,returns:[c]}),c.prototype.group=function(e){return this.s.cmd.pipeline.push({$group:e}),this},p.classMethod(\"group\",{callback:!1,promise:!1,returns:[c]}),c.prototype.limit=function(e){return this.s.cmd.pipeline.push({$limit:e}),this},p.classMethod(\"limit\",{callback:!1,promise:!1,returns:[c]}),c.prototype.match=function(e){return this.s.cmd.pipeline.push({$match:e}),this},p.classMethod(\"match\",{callback:!1,promise:!1,returns:[c]}),c.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},p.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[c]}),c.prototype.out=function(e){return this.s.cmd.pipeline.push({$out:e}),this},p.classMethod(\"out\",{callback:!1,promise:!1,returns:[c]}),c.prototype.project=function(e){return this.s.cmd.pipeline.push({$project:e}),this},p.classMethod(\"project\",{callback:!1,promise:!1,returns:[c]}),c.prototype.lookup=function(e){return this.s.cmd.pipeline.push({$lookup:e}),this},p.classMethod(\"lookup\",{callback:!1,promise:!1,returns:[c]}),c.prototype.redact=function(e){return this.s.cmd.pipeline.push({$redact:e}),this},p.classMethod(\"redact\",{callback:!1,promise:!1,returns:[c]}),c.prototype.skip=function(e){return this.s.cmd.pipeline.push({$skip:e}),this},p.classMethod(\"skip\",{callback:!1,promise:!1,returns:[c]}),c.prototype.sort=function(e){return this.s.cmd.pipeline.push({$sort:e}),this},p.classMethod(\"sort\",{callback:!1,promise:!1,returns:[c]}),c.prototype.unwind=function(e){return this.s.cmd.pipeline.push({$unwind:e}),this},p.classMethod(\"unwind\",{callback:!1,promise:!1,returns:[c]}),c.prototype.get=c.prototype.toArray,p.classMethod(\"toArray\",{callback:!0,promise:!0}),p.classMethod(\"each\",{callback:!0,promise:!1}),p.classMethod(\"forEach\",{callback:!0,promise:!1}),p.classMethod(\"hasNext\",{callback:!0,promise:!0}),p.classMethod(\"next\",{callback:!0,promise:!0}),p.classMethod(\"close\",{callback:!0,promise:!0}),p.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),p.classMethod(\"rewind\",{callback:!1,promise:!1}),p.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),p.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),c.INIT=0,c.OPEN=1,c.CLOSED=2,e.exports=c},function(e,t,n){\"use strict\";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var r=n(74),o=n(37);o.inherits=n(24);var s=n(107),a=n(108);o.inherits(u,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var p=c[l];u.prototype[p]||(u.prototype[p]=a.prototype[p])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",d)}function d(){this.allowHalfOpen||this._writableState.ended||r(f,this)}function f(e){e.end()}},function(e,t,n){\"use strict\";var i=n(2).MongoError,r=n(0).format,o=function(e,t){var n=this;t=t||{force:!1,bufferMaxEntries:-1},this.s={storedOps:[],storeOptions:t,topology:e},Object.defineProperty(this,\"length\",{enumerable:!0,get:function(){return n.s.storedOps.length}})};o.prototype.add=function(e,t,n,o,s){if(this.s.storeOptions.force)return s(i.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(i.create({message:r(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(i.create({message:r(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,n:t,o:n,op:o,c:s})},o.prototype.addObjectAndMethod=function(e,t,n,o,s){if(this.s.storeOptions.force)return s(i.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(i.create({message:r(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(i.create({message:r(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,m:n,o:t,p:o,c:s})},o.prototype.flush=function(e){for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(e||i.create({message:r(\"no connection available for operation\"),driver:!0}))};var s=[\"primary\",\"primaryPreferred\",\"nearest\",\"secondaryPreferred\"],a=[\"secondary\",\"secondaryPreferred\"];o.prototype.execute=function(e){e=e||{};var t=this.s.storedOps;this.s.storedOps=[];for(var n=\"boolean\"!=typeof e.executePrimary||e.executePrimary,i=\"boolean\"!=typeof e.executeSecondary||e.executeSecondary;t.length>0;){var r=t.shift();\"cursor\"==r.t?n&&i?r.o[r.m].apply(r.o,r.p):n&&r.o.options&&r.o.options.readPreference&&-1!=s.indexOf(r.o.options.readPreference.mode)?r.o[r.m].apply(r.o,r.p):!n&&i&&r.o.options&&r.o.options.readPreference&&-1!=a.indexOf(r.o.options.readPreference.mode)&&r.o[r.m].apply(r.o,r.p):\"auth\"==r.t?this.s.topology[r.t].apply(this.s.topology,r.o):n&&i?this.s.topology[r.t](r.n,r.o,r.op,r.c):n&&r.op&&r.op.readPreference&&-1!=s.indexOf(r.op.readPreference.mode)?this.s.topology[r.t](r.n,r.o,r.op,r.c):!n&&i&&r.op&&r.op.readPreference&&-1!=a.indexOf(r.op.readPreference.mode)&&this.s.topology[r.t](r.n,r.o,r.op,r.c)}},o.prototype.all=function(){return this.s.storedOps};t.Store=o,t.ServerCapabilities=function(e){var t=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},n=!1,i=!1,r=!1,o=!1,s=!1,a=!1,c=e.maxWriteBatchSize||1e3,l=!1,p=!1;e.minWireVersion>=0&&(r=!0),e.maxWireVersion>=1&&(n=!0,o=!0),e.maxWireVersion>=2&&(i=!0),e.maxWireVersion>=3&&(s=!0,a=!0),e.maxWireVersion>=5&&(l=!0,p=!0),null==e.minWireVersion&&(e.minWireVersion=0),null==e.maxWireVersion&&(e.maxWireVersion=0),t(this,\"hasAggregationCursor\",n),t(this,\"hasWriteCommands\",i),t(this,\"hasTextSearch\",r),t(this,\"hasAuthCommands\",o),t(this,\"hasListCollectionsCommand\",s),t(this,\"hasListIndexesCommand\",a),t(this,\"minWireVersion\",e.minWireVersion),t(this,\"maxWireVersion\",e.maxWireVersion),t(this,\"maxNumberOfDocsInBatch\",c),t(this,\"commandsTakeWriteConcern\",l),t(this,\"commandsTakeCollation\",p)}},function(e,t,n){\"use strict\";\n/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e){return String(e).replace(r,o).replace(i,encodeURI)};var i=/(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,r=/(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g,o=\"$1�$2\"},function(e,t,n){\"use strict\";\n/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */var i=/[\"'&<>]/;e.exports=function(e){var t,n=\"\"+e,r=i.exec(n);if(!r)return n;var o=\"\",s=0,a=0;for(s=r.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:t=\"&quot;\";break;case 38:t=\"&amp;\";break;case 39:t=\"&#39;\";break;case 60:t=\"&lt;\";break;case 62:t=\"&gt;\";break;default:continue}a!==s&&(o+=n.substring(a,s)),a=s+1,o+=t}return a!==s?o+n.substring(a,s):o}},function(e,t,n){\"use strict\";e.exports=function(e,t){if(null==t)return function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?e(r,n):n.push(r)}return n}(e,[]);return function e(t,n,i){for(var r=0;r<t.length;r++){var o=t[r];i>0&&Array.isArray(o)?e(o,n,i-1):n.push(o)}return n}(e,[],t)}},function(e,t){e.exports=function(e,t){if(e&&t)for(var n in t)e[n]=t[n];return e}},function(e,t){e.exports=require(\"url\")},function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype=\"MinKey\"}e.exports=n,e.exports.MinKey=n},function(e,t,n){if(\"undefined\"!=typeof global)var i=n(13).Buffer;function r(e,t){if(!(this instanceof r))return new r(e,t);if(!(null==e||\"string\"==typeof e||i.isBuffer(e)||e instanceof Uint8Array||Array.isArray(e)))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");if(this._bsontype=\"Binary\",e instanceof Number?(this.sub_type=e,this.position=0):(this.sub_type=null==t?o:t,this.position=0),null==e||e instanceof Number)void 0!==i?this.buffer=new i(r.BUFFER_SIZE):\"undefined\"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(r.BUFFER_SIZE)):this.buffer=new Array(r.BUFFER_SIZE),this.position=0;else{if(\"string\"==typeof e)if(void 0!==i)this.buffer=new i(e);else{if(\"undefined\"==typeof Uint8Array&&\"[object Array]\"!==Object.prototype.toString.call(e))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");this.buffer=s(e)}else this.buffer=e;this.position=e.length}}r.prototype.put=function(e){if(null!=e.length&&\"number\"!=typeof e&&1!==e.length)throw new Error(\"only accepts single character String, Uint8Array or Array\");if(\"number\"!=typeof e&&e<0||e>255)throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");var t=null;if(t=\"string\"==typeof e?e.charCodeAt(0):null!=e.length?e[0]:e,this.buffer.length>this.position)this.buffer[this.position++]=t;else if(void 0!==i&&i.isBuffer(this.buffer)){var n=new i(r.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=t}else{n=null,n=\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(r.BUFFER_SIZE+this.buffer.length)):new Array(r.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)n[o]=this.buffer[o];this.buffer=n,this.buffer[this.position++]=t}},r.prototype.write=function(e,t){if(t=\"number\"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==i&&i.isBuffer(this.buffer))n=new i(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if(void 0!==i&&i.isBuffer(e)&&i.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==i&&\"string\"==typeof e&&i.isBuffer(this.buffer))this.buffer.write(e,t,\"binary\"),this.position=t+e.length>this.position?t+e.length:this.position;else if(\"[object Uint8Array]\"===Object.prototype.toString.call(e)||\"[object Array]\"===Object.prototype.toString.call(e)&&\"string\"!=typeof e){for(r=0;r<e.length;r++)this.buffer[t++]=e[r];this.position=t>this.position?t:this.position}else if(\"string\"==typeof e){for(r=0;r<e.length;r++)this.buffer[t++]=e.charCodeAt(r);this.position=t>this.position?t:this.position}},r.prototype.read=function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),i=0;i<t;i++)n[i]=this.buffer[e++];return n},r.prototype.value=function(e){if((e=null!=e&&e)&&void 0!==i&&i.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==i&&i.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString(\"binary\",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return a(this.buffer,0,this.position)},r.prototype.length=function(){return this.position},r.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString(\"base64\"):\"\"},r.prototype.toString=function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):\"\"};var o=0,s=function(e){for(var t=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},a=function(e,t,n){for(var i=\"\",r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i};r.BUFFER_SIZE=256,r.SUBTYPE_DEFAULT=0,r.SUBTYPE_FUNCTION=1,r.SUBTYPE_BYTE_ARRAY=2,r.SUBTYPE_UUID_OLD=3,r.SUBTYPE_UUID=4,r.SUBTYPE_MD5=5,r.SUBTYPE_USER_DEFINED=128,e.exports=r,e.exports.Binary=r},function(e,t,n){\"use strict\";var i=[\"primaryPreferred\",\"secondary\",\"secondaryPreferred\",\"nearest\"],r=function(e,t,n){this.preference=e,this.tags=t,this.options=n,this.options&&null!=this.options.maxStalenessSeconds?(this.options=n,this.maxStalenessSeconds=this.options.maxStalenessSeconds>=0?this.options.maxStalenessSeconds:null):t&&\"object\"==typeof t&&(this.options=t,t=null)};r.prototype.slaveOk=function(){return-1!=i.indexOf(this.preference)},r.prototype.equals=function(e){return e.preference==this.preference},r.prototype.toJSON=function(){var e={mode:this.preference};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},r.primary=new r(\"primary\"),r.primaryPreferred=new r(\"primaryPreferred\"),r.secondary=new r(\"secondary\"),r.secondaryPreferred=new r(\"secondaryPreferred\"),r.nearest=new r(\"nearest\"),e.exports=r},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===n(e)},t.isBoolean=function(e){return\"boolean\"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return\"number\"==typeof e},t.isString=function(e){return\"string\"==typeof e},t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return\"[object RegExp]\"===n(e)},t.isObject=function(e){return\"object\"==typeof e&&null!==e},t.isDate=function(e){return\"[object Date]\"===n(e)},t.isError=function(e){return\"[object Error]\"===n(e)||e instanceof Error},t.isFunction=function(e){return\"function\"==typeof e},t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){\"use strict\";\n/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){if(!1!==o(e))return r(t,null,e),e;return function(e,t){var n=e.__onFinished;n&&n.queue||(n=e.__onFinished=function(e){function t(n){if(e.__onFinished===t&&(e.__onFinished=null),t.queue){var i=t.queue;t.queue=null;for(var r=0;r<i.length;r++)i[r](n,e)}}return t.queue=[],t}(e),function(e,t){var n,r,o=!1;function s(e){n.cancel(),r.cancel(),o=!0,t(e)}function a(t){e.removeListener(\"socket\",a),o||n===r&&(r=i([[t,\"error\",\"close\"]],s))}n=r=i([[e,\"end\",\"finish\"]],s),e.socket?a(e.socket):(e.on(\"socket\",a),void 0===e.socket&&function(e,t){var n=e.assignSocket;\"function\"==typeof n&&(e.assignSocket=function(e){n.call(this,e),t(e)})}(e,a))}(e,n)),n.queue.push(t)}(e,t),e},e.exports.isFinished=o;var i=n(130),r=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function o(e){var t=e.socket;return\"boolean\"==typeof e.finished?Boolean(e.finished||t&&!t.writable):\"boolean\"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}},function(e,t){e.exports=require(\"net\")},function(e,t,n){\"use strict\";\n/*!\n * methods\n * Copyright(c) 2013-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(19);e.exports=i.METHODS&&i.METHODS.map(function(e){return e.toLowerCase()})||[\"get\",\"post\",\"put\",\"head\",\"delete\",\"options\",\"trace\",\"copy\",\"lock\",\"mkcol\",\"move\",\"purge\",\"propfind\",\"proppatch\",\"unlock\",\"report\",\"mkactivity\",\"checkout\",\"merge\",\"m-search\",\"notify\",\"subscribe\",\"unsubscribe\",\"patch\",\"search\",\"connect\"]},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},function(e,t,n){\"use strict\";\n/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(100),r=n(16)(\"send\"),o=n(14)(\"send\"),s=n(145),a=n(29),c=n(30),l=n(65),p=n(3).EventEmitter,u=n(66),d=n(12),f=n(146),m=n(64),h=n(38),v=n(91),g=n(7),y=n(148),b=n(9),x=n(0),w=g.extname,S=g.join,k=g.normalize,O=g.resolve,E=g.sep,C=/^ *bytes=/,_=31536e6,I=/(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/;e.exports=function(e,t,n){return new N(e,t,n)},e.exports.mime=f;var T=p.listenerCount||function(e,t){return e.listeners(t).length};function N(e,t,n){b.call(this);var i=n||{};if(this.options=i,this.path=t,this.req=e,this._acceptRanges=void 0===i.acceptRanges||Boolean(i.acceptRanges),this._cacheControl=void 0===i.cacheControl||Boolean(i.cacheControl),this._etag=void 0===i.etag||Boolean(i.etag),this._dotfiles=void 0!==i.dotfiles?i.dotfiles:\"ignore\",\"ignore\"!==this._dotfiles&&\"allow\"!==this._dotfiles&&\"deny\"!==this._dotfiles)throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"');this._hidden=Boolean(i.hidden),void 0!==i.hidden&&o(\"hidden: use dotfiles: '\"+(this._hidden?\"allow\":\"ignore\")+\"' instead\"),void 0===i.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==i.extensions?j(i.extensions,\"extensions option\"):[],this._index=void 0!==i.index?j(i.index,\"index option\"):[\"index.html\"],this._lastModified=void 0===i.lastModified||Boolean(i.lastModified),this._maxage=i.maxAge||i.maxage,this._maxage=\"string\"==typeof this._maxage?m(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),_),this._root=i.root?O(i.root):null,!this._root&&i.from&&this.from(i.from)}function A(e,t,n){return e+\" \"+(n?n.start+\"-\"+n.end:\"*\")+\"/\"+t}function M(e,t){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>'+e+\"</title>\\n</head>\\n<body>\\n<pre>\"+t+\"</pre>\\n</body>\\n\"}function B(e){return\"function\"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}function j(e,t){for(var n=[].concat(e||[]),i=0;i<n.length;i++)if(\"string\"!=typeof n[i])throw new TypeError(t+\" must be array of strings or false\");return n}function P(e){var t=e&&Date.parse(e);return\"number\"==typeof t?t:NaN}x.inherits(N,b),N.prototype.etag=o.function(function(e){return this._etag=Boolean(e),r(\"etag %s\",this._etag),this},\"send.etag: pass etag as option\"),N.prototype.hidden=o.function(function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,r(\"hidden %s\",this._hidden),this},\"send.hidden: use dotfiles option\"),N.prototype.index=o.function(function(e){var t=e?j(e,\"paths argument\"):[];return r(\"index %o\",e),this._index=t,this},\"send.index: pass index as option\"),N.prototype.root=function(e){return this._root=O(String(e)),r(\"root %s\",this._root),this},N.prototype.from=o.function(N.prototype.root,\"send.from: pass root as option\"),N.prototype.root=o.function(N.prototype.root,\"send.root: pass root as option\"),N.prototype.maxage=o.function(function(e){return this._maxage=\"string\"==typeof e?m(e):Number(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),_),r(\"max-age %d\",this._maxage),this},\"send.maxage: pass maxAge as option\"),N.prototype.error=function(e,t){if(0!==T(this,\"error\"))return this.emit(\"error\",i(e,t,{expose:!1}));var n=this.res,r=y[e]||String(e),o=M(\"Error\",c(r));!function(e){for(var t=B(e),n=0;n<t.length;n++)e.removeHeader(t[n])}(n),t&&t.headers&&function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];e.setHeader(r,t[r])}}(n,t.headers),n.statusCode=e,n.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),n.setHeader(\"Content-Length\",Buffer.byteLength(o)),n.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),n.setHeader(\"X-Content-Type-Options\",\"nosniff\"),n.end(o)},N.prototype.hasTrailingSlash=function(){return\"/\"===this.path[this.path.length-1]},N.prototype.isConditionalGET=function(){return this.req.headers[\"if-match\"]||this.req.headers[\"if-unmodified-since\"]||this.req.headers[\"if-none-match\"]||this.req.headers[\"if-modified-since\"]},N.prototype.isPreconditionFailure=function(){var e=this.req,t=this.res,n=e.headers[\"if-match\"];if(n){var i=t.getHeader(\"ETag\");return!i||\"*\"!==n&&function(e){for(var t=0,n=[],i=0,r=0,o=e.length;r<o;r++)switch(e.charCodeAt(r)){case 32:i===t&&(i=t=r+1);break;case 44:n.push(e.substring(i,t)),i=t=r+1;break;default:t=r+1}return n.push(e.substring(i,t)),n}(n).every(function(e){return e!==i&&e!==\"W/\"+i&&\"W/\"+e!==i})}var r=P(e.headers[\"if-unmodified-since\"]);if(!isNaN(r)){var o=P(t.getHeader(\"Last-Modified\"));return isNaN(o)||o>r}return!1},N.prototype.removeContentHeaderFields=function(){for(var e=this.res,t=B(e),n=0;n<t.length;n++){var i=t[n];\"content-\"===i.substr(0,8)&&\"content-location\"!==i&&e.removeHeader(i)}},N.prototype.notModified=function(){var e=this.res;r(\"not modified\"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},N.prototype.headersAlreadySent=function(){var e=new Error(\"Can't set headers after they are sent.\");r(\"headers already sent\"),this.error(500,e)},N.prototype.isCachable=function(){var e=this.res.statusCode;return e>=200&&e<300||304===e},N.prototype.onStatError=function(e){switch(e.code){case\"ENAMETOOLONG\":case\"ENOENT\":case\"ENOTDIR\":this.error(404,e);break;default:this.error(500,e)}},N.prototype.isFresh=function(){return u(this.req.headers,{etag:this.res.getHeader(\"ETag\"),\"last-modified\":this.res.getHeader(\"Last-Modified\")})},N.prototype.isRangeFresh=function(){var e=this.req.headers[\"if-range\"];if(!e)return!0;if(-1!==e.indexOf('\"')){var t=this.res.getHeader(\"ETag\");return Boolean(t&&-1!==e.indexOf(t))}return P(this.res.getHeader(\"Last-Modified\"))<=P(e)},N.prototype.redirect=function(e){var t=this.res;if(0===T(this,\"directory\"))if(this.hasTrailingSlash())this.error(403);else{var n=a(function(e){for(var t=0;t<e.length&&\"/\"===e[t];t++);return t>1?\"/\"+e.substr(t):e}(this.path+\"/\")),i=M(\"Redirecting\",'Redirecting to <a href=\"'+c(n)+'\">'+c(n)+\"</a>\");t.statusCode=301,t.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),t.setHeader(\"Content-Length\",Buffer.byteLength(i)),t.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),t.setHeader(\"X-Content-Type-Options\",\"nosniff\"),t.setHeader(\"Location\",n),t.end(i)}else this.emit(\"directory\",t,e)},N.prototype.pipe=function(e){var t=this._root;this.res=e;var n,i=function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(this.path);if(-1===i)return this.error(400),e;if(~i.indexOf(\"\\0\"))return this.error(400),e;if(null!==t){if(I.test(k(\".\"+E+i)))return r('malicious path \"%s\"',i),this.error(403),e;i=k(S(t,i)),t=k(t+E),n=i.substr(t.length).split(E)}else{if(I.test(i))return r('malicious path \"%s\"',i),this.error(403),e;n=k(i).split(E),i=O(i)}if(function(e){for(var t=0;t<e.length;t++)if(\".\"===e[t][0])return!0;return!1}(n)){var o=this._dotfiles;switch(void 0===o&&(o=\".\"===n[n.length-1][0]?this._hidden?\"allow\":\"ignore\":\"allow\"),r('%s dotfile \"%s\"',o,i),o){case\"allow\":break;case\"deny\":return this.error(403),e;case\"ignore\":default:return this.error(404),e}}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(i),e):(this.sendFile(i),e)},N.prototype.send=function(e,t){var n=t.size,i=this.options,o={},s=this.res,a=this.req,c=a.headers.range,l=i.start||0;if(function(e){return\"boolean\"!=typeof e.headersSent?Boolean(e._header):e.headersSent}(s))this.headersAlreadySent();else{if(r('pipe \"%s\"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(n=Math.max(0,n-l),void 0!==i.end){var p=i.end-l+1;n>p&&(n=p)}if(this._acceptRanges&&C.test(c)){if(c=v(n,c,{combine:!0}),this.isRangeFresh()||(r(\"range stale\"),c=-2),-1===c)return r(\"range unsatisfiable\"),s.setHeader(\"Content-Range\",A(\"bytes\",n)),this.error(416,{headers:{\"Content-Range\":s.getHeader(\"Content-Range\")}});-2!==c&&1===c.length&&(r(\"range %j\",c),s.statusCode=206,s.setHeader(\"Content-Range\",A(\"bytes\",n,c[0])),l+=c[0].start,n=c[0].end-c[0].start+1)}for(var u in i)o[u]=i[u];o.start=l,o.end=Math.max(l,l+n-1),s.setHeader(\"Content-Length\",n),\"HEAD\"!==a.method?this.stream(e,o):s.end()}},N.prototype.sendFile=function(e){var t=0,n=this;r('stat \"%s\"',e),d.stat(e,function(i,o){return i&&\"ENOENT\"===i.code&&!w(e)&&e[e.length-1]!==E?function i(o){if(n._extensions.length<=t)return o?n.onStatError(o):n.error(404);var s=e+\".\"+n._extensions[t++];r('stat \"%s\"',s);d.stat(s,function(e,t){return e?i(e):t.isDirectory()?i():(n.emit(\"file\",s,t),void n.send(s,t))})}(i):i?n.onStatError(i):o.isDirectory()?n.redirect(e):(n.emit(\"file\",e,o),void n.send(e,o))})},N.prototype.sendIndex=function(e){var t=-1,n=this;!function i(o){if(++t>=n._index.length)return o?n.onStatError(o):n.error(404);var s=S(e,n._index[t]);r('stat \"%s\"',s),d.stat(s,function(e,t){return e?i(e):t.isDirectory()?i():(n.emit(\"file\",s,t),void n.send(s,t))})}()},N.prototype.stream=function(e,t){var n=!1,i=this,r=this.res,o=d.createReadStream(e,t);this.emit(\"stream\",o),o.pipe(r),h(r,function(){n=!0,s(o)}),o.on(\"error\",function(e){n||(n=!0,s(o),i.onStatError(e))}),o.on(\"end\",function(){i.emit(\"end\")})},N.prototype.type=function(e){var t=this.res;if(!t.getHeader(\"Content-Type\")){var n=f.lookup(e);if(n){var i=f.charsets.lookup(n);r(\"content-type %s\",n),t.setHeader(\"Content-Type\",n+(i?\"; charset=\"+i:\"\"))}else r(\"no content-type\")}},N.prototype.setHeader=function(e,t){var n=this.res;if(this.emit(\"headers\",n,e,t),this._acceptRanges&&!n.getHeader(\"Accept-Ranges\")&&(r(\"accept ranges\"),n.setHeader(\"Accept-Ranges\",\"bytes\")),this._cacheControl&&!n.getHeader(\"Cache-Control\")){var i=\"public, max-age=\"+Math.floor(this._maxage/1e3);r(\"cache-control %s\",i),n.setHeader(\"Cache-Control\",i)}if(this._lastModified&&!n.getHeader(\"Last-Modified\")){var o=t.mtime.toUTCString();r(\"modified %s\",o),n.setHeader(\"Last-Modified\",o)}if(this._etag&&!n.getHeader(\"ETag\")){var s=l(t);r(\"etag %s\",s),n.setHeader(\"ETag\",s)}}},function(e,t){function n(e){if(!(this instanceof n))return new n(e);this._bsontype=\"Double\",this.value=e}n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Double=n},function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype=\"Timestamp\",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error(\"radix out of range: \"+t);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var i=n.fromNumber(t),r=this.div(i),o=r.multiply(i).subtract(this);return r.toString(t)+o.toInt().toString(t)}return\"-\"+this.negate().toString(t)}var s=n.fromNumber(Math.pow(t,6));o=this;for(var a=\"\";!o.isZero();){var c=o.div(s),l=o.subtract(c.multiply(s)).toInt().toString(t);if((o=c).isZero())return l+a;for(;l.length<6;)l=\"0\"+l;a=\"\"+l+a}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,c=e.low_>>>16,l=0,p=0,u=0,d=0;return u+=(d+=o+(65535&e.low_))>>>16,d&=65535,p+=(u+=r+c)>>>16,u&=65535,l+=(p+=i+a)>>>16,p&=65535,l+=t+s,l&=65535,n.fromBits(u<<16|d,l<<16|p)},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,c=e.low_>>>16,l=65535&e.low_,p=0,u=0,d=0,f=0;return d+=(f+=o*l)>>>16,f&=65535,u+=(d+=r*l)>>>16,d&=65535,u+=(d+=o*c)>>>16,d&=65535,p+=(u+=i*l)>>>16,u&=65535,p+=(u+=r*c)>>>16,u&=65535,p+=(u+=o*a)>>>16,u&=65535,p+=t*l+i*c+r*a+o*s,p&=65535,n.fromBits(d<<16|f,p<<16|u)},n.prototype.div=function(e){if(e.isZero())throw Error(\"division by zero\");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var i=this.subtract(e.multiply(t));return t.add(i.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=n.ZERO;for(i=this;i.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:Math.pow(2,o-48),a=n.fromNumber(t),c=a.multiply(e);c.isNegative()||c.greaterThan(i);)t-=s,c=(a=n.fromNumber(t)).multiply(e);a.isZero()&&(a=n.ONE),r=r.add(a),i=i.subtract(c)}return r},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var t=this.low_;if(e<32){var i=this.high_;return n.fromBits(t<<e,i<<e|t>>>32-e)}return n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var i=this.low_;return n.fromBits(i>>>e|t<<32-e,t>>e)}return n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var i=this.low_;return n.fromBits(i>>>e|t<<32-e,t>>>e)}return 32===e?n.fromBits(t,0):n.fromBits(t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var i=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=i),i},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error(\"number format error: empty string\");var i=t||10;if(i<2||36<i)throw Error(\"radix out of range: \"+i);if(\"-\"===e.charAt(0))return n.fromString(e.substring(1),i).negate();if(e.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+e);for(var r=n.fromNumber(Math.pow(i,8)),o=n.ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),i);if(a<8){var l=n.fromNumber(Math.pow(i,a));o=o.multiply(l).add(n.fromNumber(c))}else o=(o=o.multiply(r)).add(n.fromNumber(c))}return o},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_31_DBL_=n.TWO_PWR_32_DBL_/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_,n.TWO_PWR_63_DBL_=n.TWO_PWR_64_DBL_/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Timestamp=n},function(e,t,n){var i=\"inspect\",r=parseInt(16777215*Math.random(),10),o=new RegExp(\"^[0-9a-fA-F]{24}$\");try{if(Buffer&&Buffer.from){var s=!0;i=n(0).inspect.custom||\"inspect\"}}catch(e){s=!1}for(var a=function e(t){if(t instanceof e)return t;if(!(this instanceof e))return new e(t);if(this._bsontype=\"ObjectID\",null==t||\"number\"==typeof t)return this.id=this.generate(t),void(e.cacheHexString&&(this.__id=this.toString(\"hex\")));var n=e.isValid(t);if(!n&&null!=t)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(n&&\"string\"==typeof t&&24===t.length&&s)return new e(new Buffer(t,\"hex\"));if(n&&\"string\"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return t;throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\")}this.id=t,e.cacheHexString&&(this.__id=this.toString(\"hex\"))},c=[],l=0;l<256;l++)c[l]=(l<=15?\"0\":\"\")+l.toString(16);a.prototype.toHexString=function(){if(a.cacheHexString&&this.__id)return this.__id;var e=\"\";if(!this.id||!this.id.length)throw new Error(\"invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [\"+JSON.stringify(this.id)+\"]\");if(this.id instanceof u)return e=d(this.id),a.cacheHexString&&(this.__id=e),e;for(var t=0;t<this.id.length;t++)e+=c[this.id.charCodeAt(t)];return a.cacheHexString&&(this.__id=e),e},a.prototype.get_inc=function(){return a.index=(a.index+1)%16777215},a.prototype.getInc=function(){return this.get_inc()},a.prototype.generate=function(e){\"number\"!=typeof e&&(e=~~(Date.now()/1e3));var t=(\"undefined\"==typeof process||1===process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,n=this.get_inc(),i=new Buffer(12);return i[3]=255&e,i[2]=e>>8&255,i[1]=e>>16&255,i[0]=e>>24&255,i[6]=255&r,i[5]=r>>8&255,i[4]=r>>16&255,i[8]=255&t,i[7]=t>>8&255,i[11]=255&n,i[10]=n>>8&255,i[9]=n>>16&255,i},a.prototype.toString=function(e){return this.id&&this.id.copy?this.id.toString(\"string\"==typeof e?e:\"hex\"):this.toHexString()},a.prototype[i]=a.prototype.toString,a.prototype.toJSON=function(){return this.toHexString()},a.prototype.equals=function(e){return e instanceof a?this.toString()===e.toString():\"string\"==typeof e&&a.isValid(e)&&12===e.length&&this.id instanceof u?e===this.id.toString(\"binary\"):\"string\"==typeof e&&a.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():\"string\"==typeof e&&a.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof a||e.toHexString))&&e.toHexString()===this.toHexString()},a.prototype.getTimestamp=function(){var e=new Date,t=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24;return e.setTime(1e3*Math.floor(t)),e},a.index=~~(16777215*Math.random()),a.createPk=function(){return new a},a.createFromTime=function(e){var t=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0]);return t[3]=255&e,t[2]=e>>8&255,t[1]=e>>16&255,t[0]=e>>24&255,new a(t)};var p=[];for(l=0;l<10;)p[48+l]=l++;for(;l<16;)p[55+l]=p[87+l]=l++;var u=Buffer,d=function(e){return e.toString(\"hex\")};a.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(s)return new a(new Buffer(e,\"hex\"));for(var t=new u(12),n=0,i=0;i<24;)t[n++]=p[e.charCodeAt(i++)]<<4|p[e.charCodeAt(i++)];return new a(t)},a.isValid=function(e){return null!=e&&(\"number\"==typeof e||(\"string\"==typeof e?12===e.length||24===e.length&&o.test(e):e instanceof a||(e instanceof u||!!e.toHexString&&(12===e.id.length||24===e.id.length&&o.test(e.id)))))},Object.defineProperty(a.prototype,\"generationTime\",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.exports=a,e.exports.ObjectID=a,e.exports.ObjectId=a},function(e,t){function n(e,t){if(!(this instanceof n))return new n;this._bsontype=\"BSONRegExp\",this.pattern=e||\"\",this.options=t||\"\";for(var i=0;i<this.options.length;i++)if(\"i\"!==this.options[i]&&\"m\"!==this.options[i]&&\"x\"!==this.options[i]&&\"l\"!==this.options[i]&&\"s\"!==this.options[i]&&\"u\"!==this.options[i])throw new Error(\"the regular expression options [\"+this.options[i]+\"] is not supported\")}e.exports=n,e.exports.BSONRegExp=n},function(e,t,n){var i=Buffer&&n(0).inspect.custom||\"inspect\";function r(e){if(!(this instanceof r))return new r(e);this._bsontype=\"Symbol\",this.value=e}r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return this.value},r.prototype[i]=function(){return this.value},r.prototype.toJSON=function(){return this.value},e.exports=r,e.exports.Symbol=r},function(e,t){var n=function e(t,n){if(!(this instanceof e))return new e(t,n);this._bsontype=\"Code\",this.code=t,this.scope=n};n.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},e.exports=n,e.exports.Code=n},function(e,t,n){\"use strict\";var i=n(25),r=/^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/,o=/^(\\+|-)?(Infinity|inf)$/i,s=/^(\\+|-)?NaN$/i,a=6176,c=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),p=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=/^([-+])?(\\d+)?$/,d=function(e){return!isNaN(parseInt(e,10))},f=function(e){var t=i.fromNumber(1e9),n=i.fromNumber(0),r=0;if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new i(e.parts[r],0)),e.parts[r]=n.div(t).low_,n=n.modulo(t);return{quotient:e,rem:n}},m=function(e){this._bsontype=\"Decimal128\",this.bytes=e};m.fromString=function(e){var t,n=!1,f=!1,h=!1,v=0,g=0,y=0,b=0,x=0,w=[0],S=0,k=0,O=0,E=0,C=0,_=0,I=[0,0],T=[0,0],N=0;if((e=e.trim()).length>=7e3)throw new Error(e+\" not a valid Decimal128 string\");var A=e.match(r),M=e.match(o),B=e.match(s);if(!A&&!M&&!B||0===e.length)throw new Error(e+\" not a valid Decimal128 string\");if(A&&A[4]&&void 0===A[2])throw new Error(e+\" not a valid Decimal128 string\");if(\"+\"!==e[N]&&\"-\"!==e[N]||(n=\"-\"===e[N++]),!d(e[N])&&\".\"!==e[N]){if(\"i\"===e[N]||\"I\"===e[N])return new m(new Buffer(n?l:p));if(\"N\"===e[N])return new m(new Buffer(c))}for(;d(e[N])||\".\"===e[N];)if(\".\"!==e[N])S<34&&(\"0\"!==e[N]||h)&&(h||(x=g),h=!0,w[k++]=parseInt(e[N],10),S+=1),h&&(y+=1),f&&(b+=1),g+=1,N+=1;else{if(f)return new m(new Buffer(c));f=!0,N+=1}if(f&&!g)throw new Error(e+\" not a valid Decimal128 string\");if(\"e\"===e[N]||\"E\"===e[N]){var j=e.substr(++N).match(u);if(!j||!j[2])return new m(new Buffer(c));C=parseInt(j[0],10),N+=j[0].length}if(e[N])return new m(new Buffer(c));if(O=0,S){if(E=S-1,v=y,0!==C&&1!==v)for(;\"0\"===e[x+v-1];)v-=1}else O=0,E=0,w[0]=0,y=1,S=1,v=0;for(C<=b&&b-C>16384?C=-6176:C-=b;C>6111;){if((E+=1)-O>34){var P=w.join(\"\");if(P.match(/^0+$/)){C=6111;break}return new m(new Buffer(n?l:p))}C-=1}for(;C<-6176||S<y;){if(0===E){C=-6176,v=0;break}if(S<y?y-=1:E-=1,!(C<6111)){if((P=w.join(\"\")).match(/^0+$/)){C=6111;break}return new m(new Buffer(n?l:p))}C+=1}if(E-O+1<v&&\"0\"!==e[v]){var D=g;f&&-6176===C&&(x+=1,D+=1);var R=parseInt(e[x+E+1],10),L=0;if(R>=5&&(L=1,5===R))for(L=w[E]%2==1,_=x+E+2;_<D;_++)if(parseInt(e[_],10)){L=1;break}if(L)for(var z=E;z>=0&&++w[z]>9;z--)if(w[z]=0,0===z){if(!(C<6111))return new m(new Buffer(n?l:p));C+=1,w[z]=1}}if(I=i.fromNumber(0),T=i.fromNumber(0),0===v)I=i.fromNumber(0),T=i.fromNumber(0);else if(E-O<17)for(z=O,T=i.fromNumber(w[z++]),I=new i(0,0);z<=E;z++)T=(T=T.multiply(i.fromNumber(10))).add(i.fromNumber(w[z]));else{for(z=O,I=i.fromNumber(w[z++]);z<=E-17;z++)I=(I=I.multiply(i.fromNumber(10))).add(i.fromNumber(w[z]));for(T=i.fromNumber(w[z++]);z<=E;z++)T=(T=T.multiply(i.fromNumber(10))).add(i.fromNumber(w[z]))}var q=function(e,t){if(!e&&!t)return{high:i.fromNumber(0),low:i.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new i(e.getLowBits(),0),o=t.shiftRightUnsigned(32),s=new i(t.getLowBits(),0),a=n.multiply(o),c=n.multiply(s),l=r.multiply(o),p=r.multiply(s);return a=a.add(c.shiftRightUnsigned(32)),c=new i(c.getLowBits(),0).add(l).add(p.shiftRightUnsigned(32)),{high:a=a.add(c.shiftRightUnsigned(32)),low:p=c.shiftLeft(32).add(new i(p.getLowBits(),0))}}(I,i.fromString(\"100000000000000000\"));q.low=q.low.add(T),function(e,t){var n=e.high_>>>0,i=t.high_>>>0;return n<i||n===i&&e.low_>>>0<t.low_>>>0}(q.low,T)&&(q.high=q.high.add(i.fromNumber(1))),t=C+a;var U={low:i.fromNumber(0),high:i.fromNumber(0)};q.high.shiftRightUnsigned(49).and(i.fromNumber(1)).equals(i.fromNumber)?(U.high=U.high.or(i.fromNumber(3).shiftLeft(61)),U.high=U.high.or(i.fromNumber(t).and(i.fromNumber(16383).shiftLeft(47))),U.high=U.high.or(q.high.and(i.fromNumber(0x7fffffffffff)))):(U.high=U.high.or(i.fromNumber(16383&t).shiftLeft(49)),U.high=U.high.or(q.high.and(i.fromNumber(562949953421311)))),U.low=q.low,n&&(U.high=U.high.or(i.fromString(\"9223372036854775808\")));var K=new Buffer(16);return N=0,K[N++]=255&U.low.low_,K[N++]=U.low.low_>>8&255,K[N++]=U.low.low_>>16&255,K[N++]=U.low.low_>>24&255,K[N++]=255&U.low.high_,K[N++]=U.low.high_>>8&255,K[N++]=U.low.high_>>16&255,K[N++]=U.low.high_>>24&255,K[N++]=255&U.high.low_,K[N++]=U.high.low_>>8&255,K[N++]=U.high.low_>>16&255,K[N++]=U.high.low_>>24&255,K[N++]=255&U.high.high_,K[N++]=U.high.high_>>8&255,K[N++]=U.high.high_>>16&255,K[N++]=U.high.high_>>24&255,new m(K)};a=6176,m.prototype.toString=function(){for(var e,t,n,r,o,s,c=0,l=new Array(36),p=0;p<l.length;p++)l[p]=0;var u,d,m,h,v,g=0,y=!1,b={parts:new Array(4)},x=[];g=0;var w=this.bytes;if(r=w[g++]|w[g++]<<8|w[g++]<<16|w[g++]<<24,n=w[g++]|w[g++]<<8|w[g++]<<16|w[g++]<<24,t=w[g++]|w[g++]<<8|w[g++]<<16|w[g++]<<24,e=w[g++]|w[g++]<<8|w[g++]<<16|w[g++]<<24,g=0,{low:new i(r,n),high:new i(t,e)}.high.lessThan(i.ZERO)&&x.push(\"-\"),(o=e>>26&31)>>3==3){if(30===o)return x.join(\"\")+\"Infinity\";if(31===o)return\"NaN\";s=e>>15&16383,m=8+(e>>14&1)}else m=e>>14&7,s=e>>17&16383;if(u=s-a,b.parts[0]=(16383&e)+((15&m)<<14),b.parts[1]=t,b.parts[2]=n,b.parts[3]=r,0===b.parts[0]&&0===b.parts[1]&&0===b.parts[2]&&0===b.parts[3])y=!0;else for(v=3;v>=0;v--){var S=0,k=f(b);if(b=k.quotient,S=k.rem.low_)for(h=8;h>=0;h--)l[9*v+h]=S%10,S=Math.floor(S/10)}if(y)c=1,l[g]=0;else for(c=36,p=0;!l[g];)p++,c-=1,g+=1;if((d=c-1+u)>=34||d<=-7||u>0){for(x.push(l[g++]),(c-=1)&&x.push(\".\"),p=0;p<c;p++)x.push(l[g++]);x.push(\"E\"),d>0?x.push(\"+\"+d):x.push(d)}else if(u>=0)for(p=0;p<c;p++)x.push(l[g++]);else{var O=c+u;if(O>0)for(p=0;p<O;p++)x.push(l[g++]);else x.push(\"0\");for(x.push(\".\");O++<0;)x.push(\"0\");for(p=0;p<c-Math.max(O-1,0);p++)x.push(l[g++])}return x.join(\"\")},m.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.exports=m,e.exports.Decimal128=m},function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype=\"MaxKey\"}e.exports=n,e.exports.MaxKey=n},function(e,t){function n(e,t,i){if(!(this instanceof n))return new n(e,t,i);this._bsontype=\"DBRef\",this.namespace=e,this.oid=t,this.db=i}n.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?\"\":this.db}},e.exports=n,e.exports.DBRef=n},function(e,t,n){(function(e){var t=n(7),i=n(12),r=n(0).format,o=n(182),s=n(184),a=i.existsSync||t.existsSync,c=function(e){for(var n=!1;!n;)if(a(e+\"/package.json\"))n=e;else{if(\"/\"===e)return!1;e=t.dirname(e)}return e},l=function(t,a){(a=a||{}).strict=\"boolean\"!=typeof a.strict||a.strict;var l=function(t){for(var n=e,o=!1;n;){s=n.filename;var s=c(s);if(s){var a=JSON.parse(i.readFileSync(r(\"%s/package.json\",s))),l=t.split(/\\//);if(a.peerOptionalDependencies&&(!a.peerOptionalDependencies||a.peerOptionalDependencies[l[0]])){o=!0;break}n=n.parent}else n=n.parent}if(!o)throw new Error(r(\"no optional dependency [%s] defined in peerOptionalDependencies in any package.json\",l[0]));return{object:a,parts:l}}(t),p=l.object,u=l.parts,d=p.peerOptionalDependencies[u[0]],f=void 0,m=t;try{f=n(69)(m)}catch(e){try{if(null==(m=o(process.cwd(),t)))return;f=n(69)(m)}catch(e){if(\"MODULE_NOT_FOUND\"===e.code)return}}var h=c(n(69).resolve(m));if(!h)throw new Error(\"package.json can not be located\");var v=JSON.parse(i.readFileSync(r(\"%s/package.json\",h))).version;if(0==s.satisfies(v,d)&&a.strict){var g=new Error(r(\"optional dependency [%s] found but version [%s] did not satisfy constraint [%s]\",u[0],v,d));throw g.code=\"OPTIONAL_MODULE_NOT_FOUND\",g}return f};l.exists=function(e){try{return void 0!==l(e)}catch(e){return!1}},e.exports=l}).call(this,n(96)(e))},function(e,t){var n=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r=Object.keys(Object(i)),o=0,s=r.length;o<s;o++){var a=r[o],c=Object.getOwnPropertyDescriptor(i,a);void 0!==c&&c.enumerable&&(t[a]=i[a])}}return t};e.exports={assign:n}},function(e,t,n){\"use strict\";var i=n(0).format,r=n(20),o=n(5).Query,s=n(4),a=function(e,t,n){this.db=e,this.username=t,this.password=n};a.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var c=function(e){this.bson=e,this.authStore=[]},l=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};c.prototype.auth=function(e,t,n,c,p,u){var d=this,f=t.length;if(0==f)return u(null,null);for(var m=0,h=null;t.length>0;){!function(t){process.nextTick(function(){!function(t){e(t,new o(d.bson,i(\"%s.$cmd\",n),{getnonce:1},{numberToSkip:0,numberToReturn:1}),function(v,g){var y=null,b=null;if(null==v){y=g.result.nonce;var x=r.createHash(\"md5\");x.update(c+\":mongo:\"+p,\"utf8\");var w=x.digest(\"hex\");(x=r.createHash(\"md5\")).update(y+c+w,\"utf8\"),b=x.digest(\"hex\")}e(t,new o(d.bson,i(\"%s.$cmd\",n),{authenticate:1,user:c,nonce:y,key:b},{numberToSkip:0,numberToReturn:1}),function(e,t){f-=1,e?h=e:t.result.$err?h=t.result:t.result.errmsg?h=t.result:m+=1,0==f&&m>0?(l(d.authStore,new a(n,c,p)),u(null,!0)):0==f&&(null==h&&(h=new s(i(\"failed to authenticate using mongocr\"))),u(h,!1))})})}(t)})}(t.shift())}},c.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},c.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,function(e){0==(r-=1)&&n(e,null)})},e.exports=c},function(e,t,n){\"use strict\";var i=n(0).format,r=n(5).Query,o=n(4),s=function(e,t,n){this.db=e,this.username=t,this.password=n};s.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var a=function(e){this.bson=e,this.authStore=[]};a.prototype.auth=function(e,t,n,a,l,p){var u=this,d=t.length;if(0==d)return p(null,null);for(var f=0,m=null;t.length>0;){!function(t){process.nextTick(function(){!function(t){var h={authenticate:1,mechanism:\"MONGODB-X509\"};a&&(h.user=a),e(t,new r(u.bson,\"$external.$cmd\",h,{numberToSkip:0,numberToReturn:1}),function(e,t){d-=1,e?m=e:t.result.$err?m=t.result:t.result.errmsg?m=t.result:f+=1,0==d&&f>0?(c(u.authStore,new s(n,a,l)),p(null,!0)):0==d&&(null==m&&(m=new o(i(\"failed to authenticate using mongocr\"))),p(m,!1))})}(t)})}(t.shift())}};var c=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};a.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},a.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,function(e){0==(r-=1)&&n(e,null)})},e.exports=a},function(e,t,n){\"use strict\";var i=n(0).format,r=n(8).retrieveBSON,o=n(5).Query,s=n(4),a=r().Binary,c=function(e,t,n){this.db=e,this.username=t,this.password=n};c.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var l=function(e){this.bson=e,this.authStore=[]};l.prototype.auth=function(e,t,n,r,l,u){var d=this,f=t.length;if(0==f)return u(null,null);for(var m=0,h=null;t.length>0;){!function(t){process.nextTick(function(){!function(t){var v={saslStart:1,mechanism:\"PLAIN\",payload:new a(i(\"\\0%s\\0%s\",r,l)),autoAuthorize:1};e(t,new o(d.bson,\"$external.$cmd\",v,{numberToSkip:0,numberToReturn:1}),function(e,t){f-=1,e?h=e:t.result.$err?h=t.result:t.result.errmsg?h=t.result:m+=1,0==f&&m>0?(p(d.authStore,new c(n,r,l)),u(null,!0)):0==f&&(null==h&&(h=new s(i(\"failed to authenticate using mongocr\"))),u(h,!1))})}(t)})}(t.shift())}};var p=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};l.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},l.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,function(e){0==(r-=1)&&n(e,null)})},e.exports=l},function(e,t,n){\"use strict\";var i=n(0).format,r=n(52),o=n(5).Query,s=n(4),a=function(e,t,n,i){this.db=e,this.username=t,this.password=n,this.options=i};a.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var c=null,l=null;try{c=r(\"kerberos\").Kerberos,l=r(\"kerberos\").processes.MongoAuthProcess}catch(e){}var p=function(e){this.bson=e,this.authStore=[]};p.prototype.auth=function(e,t,n,r,o,l,p){var d=this;if(null==c)return p(new Error(\"Kerberos library is not installed\"));var f=l.gssapiServiceName||\"mongodb\",m=t.length;if(0==m)return p(null,null);for(var v=0,g=null;t.length>0;){!function(t){process.nextTick(function(){!function(t){u(d,n,r,o,n,f,e,t,l,function(e,t){m-=1,e?g=e:t.result.$err?g=t.result:t.result.errmsg?g=t.result:v+=1,0==m&&v>0?(h(d.authStore,new a(n,r,o,l)),p(null,!0)):0==m&&(null==g&&(g=new s(i(\"failed to authenticate using mongocr\"))),p(g,!1))})}(t)})}(t.shift())}};var u=function(e,t,n,i,r,o,s,a,c,p){var u=new l(a.host,a.port,o,c);u.init(n,i,function(o){if(o)return p(o,!1);u.transition(\"\",function(o,c){if(o)return p(o,!1);d(e,u,c,t,n,i,r,s,a,p)})})},d=function(e,t,n,i,r,s,a,c,l,p){var u={saslStart:1,mechanism:\"GSSAPI\",payload:n,autoAuthorize:1};c(l,new o(e.bson,\"$external.$cmd\",u,{numberToSkip:0,numberToReturn:1}),function(n,o){if(n)return p(n,!1);var u=o.result;t.transition(o.result.payload,function(n,o){if(n)return p(n,!1);f(e,t,o,u,i,r,s,a,c,l,p)})})},f=function(e,t,n,i,r,s,a,c,l,p,u){var d={saslContinue:1,conversationId:i.conversationId,payload:n};l(p,new o(e.bson,\"$external.$cmd\",d,{numberToSkip:0,numberToReturn:1}),function(n,i){if(n)return u(n,!1);var o=i.result;t.transition(o.payload,function(n,i){if(n)return u(n,!1);m(e,t,i,o,r,s,a,c,l,p,u)})})},m=function(e,t,n,i,r,s,a,c,l,p,u){var d={saslContinue:1,conversationId:i.conversationId,payload:n};l(p,new o(e.bson,\"$external.$cmd\",d,{numberToSkip:0,numberToReturn:1}),function(e,n){if(e)return u(e,!1);t.transition(null,function(e){if(e)return u(e,null);u(null,n)})})},h=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};p.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},p.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,i[o].options,function(e){0==(r-=1)&&n(e,null)})},e.exports=p},function(e,t,n){\"use strict\";var i=n(0).format,r=n(20),o=n(8).retrieveBSON,s=n(5).Query,a=n(4),c=o().Binary,l=function(e,t,n){this.db=e,this.username=t,this.password=n};l.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var p=0,u=function(e){this.bson=e,this.authStore=[],this.id=p++},d={},f=0,m=function(e,t,n){var i=[e,t.toString(\"base64\"),n].join(\"_\");if(void 0!==d[i])return d[i];var o=r.pbkdf2Sync(e,t,n,20,\"sha1\");return f>=200&&(d={},f=0),d[i]=o,f+=1,o};u.prototype.auth=function(e,t,n,o,p,u){var d=this,f=t.length;if(0==f)return u(null,null);for(var v=0,g=null,y=function(t){o=o.replace(\"=\",\"=3D\").replace(\",\",\"=2C\");var y=r.randomBytes(24).toString(\"base64\"),b=i(\"n=%s,r=%s\",o,y),x={saslStart:1,mechanism:\"SCRAM-SHA-1\",payload:new c(i(\"n,,%s\",b)),autoAuthorize:1},w=function(e,t){return e?(v-=1,g=e,!1):t.result.$err?(g=t.result,!1):t.result.errmsg?(g=t.result,!1):(v+=1,!0)},S=function(e,t){w(e,t),function(e,t){0==e&&t>0?(h(d.authStore,new l(n,o,p)),u(null,!0)):0==e&&(null==g&&(g=new a(i(\"failed to authenticate using scram\"))),u(g,!1))}(f-=1,v)};e(t,new s(d.bson,i(\"%s.$cmd\",n),x,{numberToSkip:0,numberToReturn:1}),function(y,x){if(0==w(y,x))return 0==(f-=1)&&v>0?(h(d.authStore,new l(n,o,p)),u(null,!0)):0==f?(null==g&&(g=new a(i(\"failed to authenticate using scram\"))),u(g,!1)):void 0;var k=function(e){for(var t={},n=e.split(\",\"),i=0;i<n.length;i++){var r=n[i].split(\"=\");t[r[0]]=r[1]}return t}(x.result.payload.value()),O=parseInt(k.i,10),E=k.s,C=k.r,_=i(\"c=biws,r=%s\",C),I=function(e,t){if(\"string\"!=typeof e)throw new a(\"username must be a string\");if(\"string\"!=typeof t)throw new a(\"password must be a string\");if(0==t.length)throw new a(\"password cannot be empty\");var n=r.createHash(\"md5\");return n.update(e+\":mongo:\"+t,\"utf8\"),n.digest(\"hex\")}(o,p),T=m(I,new Buffer(E,\"base64\"),O),N=r.createHmac(\"sha1\",T);N.update(new Buffer(\"Client Key\"));var A=new Buffer(N.digest(\"base64\"),\"base64\"),M=r.createHash(\"sha1\");M.update(A);var B=new Buffer(M.digest(\"base64\"),\"base64\"),j=[b,x.result.payload.value().toString(\"base64\"),_].join(\",\");(N=r.createHmac(\"sha1\",B)).update(new Buffer(j));var P=new Buffer(N.digest(\"base64\"),\"base64\"),D=[_,i(\"p=%s\",new Buffer(function(e,t){Buffer.isBuffer(e)||(e=new Buffer(e)),Buffer.isBuffer(t)||(t=new Buffer(t));var n=[];if(e.length>t.length)for(var i=0;i<t.length;i++)n.push(e[i]^t[i]);else for(i=0;i<e.length;i++)n.push(e[i]^t[i]);return new Buffer(n)}(A,P)).toString(\"base64\"))].join(\",\"),R={saslContinue:1,conversationId:x.result.conversationId,payload:new c(new Buffer(D))};e(t,new s(d.bson,i(\"%s.$cmd\",n),R,{numberToSkip:0,numberToReturn:1}),function(r,o){if(o&&0==o.result.done){var a={saslContinue:1,conversationId:o.result.conversationId,payload:new Buffer(0)};e(t,new s(d.bson,i(\"%s.$cmd\",n),a,{numberToSkip:0,numberToReturn:1}),function(e,t){S(e,t)})}else S(r,o)})})},b=function(e){process.nextTick(function(){y(e)})};t.length>0;)b(t.shift())};var h=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};u.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},u.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,function(e){0==(r-=1)&&n(e,null)})},e.exports=u},function(e,t,n){\"use strict\";var i=n(21),r=n(8).retrieveBSON,o=n(4),s=n(0).format,a=r().Long,c=function(e,t,n,r,o,s){r=r||{},this.pool=null,this.server=null,this.disconnectHandler=r.disconnectHandler,this.bson=e,this.ns=t,this.cmd=n,this.options=r,this.topology=o,this.cursorState={cursorId:null,cmd:n,documents:r.documents||[],cursorIndex:0,dead:!1,killed:!1,init:!1,notified:!1,limit:r.limit||n.limit||0,skip:r.skip||n.skip||0,batchSize:r.batchSize||n.batchSize||1e3,currentLimit:0,transforms:r.transforms},\"boolean\"==typeof s.promoteLongs?this.cursorState.promoteLongs=s.promoteLongs:\"boolean\"==typeof r.promoteLongs&&(this.cursorState.promoteLongs=r.promoteLongs),\"boolean\"==typeof s.promoteValues?this.cursorState.promoteValues=s.promoteValues:\"boolean\"==typeof r.promoteValues&&(this.cursorState.promoteValues=r.promoteValues),\"boolean\"==typeof s.promoteBuffers?this.cursorState.promoteBuffers=s.promoteBuffers:\"boolean\"==typeof r.promoteBuffers&&(this.cursorState.promoteBuffers=r.promoteBuffers),this.logger=i(\"Cursor\",s),\"number\"==typeof n?(this.cursorState.cursorId=a.fromNumber(n),this.cursorState.lastCursorId=this.cursorState.cursorId):n instanceof a&&(this.cursorState.cursorId=n,this.cursorState.lastCursorId=n)};c.prototype.setCursorBatchSize=function(e){this.cursorState.batchSize=e},c.prototype.cursorBatchSize=function(){return this.cursorState.batchSize},c.prototype.setCursorLimit=function(e){this.cursorState.limit=e},c.prototype.cursorLimit=function(){return this.cursorState.limit},c.prototype.setCursorSkip=function(e){this.cursorState.skip=e},c.prototype.cursorSkip=function(){return this.cursorState.skip};var l=function(e,t,n){try{e(t,n)}catch(t){process.nextTick(function(){throw t})}};c.prototype._find=function(e){var t=this;t.logger.isDebug()&&t.logger.debug(s(\"issue initial query [%s] with flags [%s]\",JSON.stringify(t.cmd),JSON.stringify(t.query)));var n={};(t.options.raw||t.cmd.raw)&&(n.raw=t.options.raw||t.cmd.raw),\"string\"==typeof t.query.documentsReturnedIn&&(n.documentsReturnedIn=t.query.documentsReturnedIn),\"boolean\"==typeof t.cursorState.promoteLongs&&(n.promoteLongs=t.cursorState.promoteLongs),\"boolean\"==typeof t.cursorState.promoteValues&&(n.promoteValues=t.cursorState.promoteValues),\"boolean\"==typeof t.cursorState.promoteBuffers&&(n.promoteBuffers=t.cursorState.promoteBuffers),t.server.s.pool.write(t.query,n,function(n,i){if(n)return e(n);var r=i.message;if(r.queryFailure)return e(o.create(r.documents[0]),null);if(Array.isArray(r.documents)&&1==r.documents.length&&(!t.cmd.find||t.cmd.find&&0==t.cmd.virtual)&&(\"string\"!=r.documents[0].cursor||r.documents[0].$err||r.documents[0].errmsg||Array.isArray(r.documents[0].result))){if(r.documents[0].$err||r.documents[0].errmsg)return e(o.create(r.documents[0]),null);if(null!=r.documents[0].cursor&&\"string\"!=typeof r.documents[0].cursor){var s=r.documents[0].cursor.id;return r.documents[0].cursor.ns&&(t.ns=r.documents[0].cursor.ns),t.cursorState.cursorId=\"number\"==typeof s?a.fromNumber(s):s,t.cursorState.lastCursorId=t.cursorState.cursorId,Array.isArray(r.documents[0].cursor.firstBatch)&&(t.cursorState.documents=r.documents[0].cursor.firstBatch),e(null,null)}if(Array.isArray(r.documents[0].result))return t.cursorState.documents=r.documents[0].result,t.cursorState.cursorId=a.ZERO,e(null,null)}t.cursorState.cursorId=r.cursorId,t.cursorState.documents=r.documents,t.cursorState.lastCursorId=r.cursorId,t.cursorState.transforms&&\"function\"==typeof t.cursorState.transforms.query&&(t.cursorState.documents=t.cursorState.transforms.query(r)),e(null,null)})},c.prototype._getmore=function(e){this.logger.isDebug()&&this.logger.debug(s(\"schedule getMore call for query [%s]\",JSON.stringify(this.query)));var t=this.options.raw||this.cmd.raw,n=this.cursorState.batchSize;this.cursorState.limit>0&&this.cursorState.currentLimit+n>this.cursorState.limit&&(n=this.cursorState.limit-this.cursorState.currentLimit);var i=this.server.s.pool;this.server.wireProtocolHandler.getMore(this.bson,this.ns,this.cursorState,n,t,i,this.options,e)},c.prototype._killcursor=function(e){if(this.cursorState.dead=!0,this.cursorState.killed=!0,this.cursorState.documents=[],null==this.cursorState.cursorId||this.cursorState.cursorId.isZero()||0==this.cursorState.init)e&&e(null,null);else{var t=this.server.s.pool;this.server.wireProtocolHandler.killCursor(this.bson,this.ns,this.cursorState.cursorId,t,e)}},c.prototype.clone=function(){return this.topology.cursor(this.ns,this.cmd,this.options)},c.prototype.isDead=function(){return 1==this.cursorState.dead},c.prototype.isKilled=function(){return 1==this.cursorState.killed},c.prototype.isNotified=function(){return 1==this.cursorState.notified},c.prototype.bufferedCount=function(){return this.cursorState.documents.length-this.cursorState.cursorIndex},c.prototype.readBufferedDocuments=function(e){var t=this.cursorState.documents.length-this.cursorState.cursorIndex,n=e<t?e:t,i=this.cursorState.documents.slice(this.cursorState.cursorIndex,this.cursorState.cursorIndex+n);if(this.cursorState.transforms&&\"function\"==typeof this.cursorState.transforms.doc)for(var r=0;r<i.length;r++)i[r]=this.cursorState.transforms.doc(i[r]);return this.cursorState.limit>0&&this.cursorState.currentLimit+i.length>this.cursorState.limit&&(i=i.slice(0,this.cursorState.limit-this.cursorState.currentLimit),this.kill()),this.cursorState.currentLimit=this.cursorState.currentLimit+i.length,this.cursorState.cursorIndex=this.cursorState.cursorIndex+i.length,i},c.prototype.kill=function(e){this._killcursor(e)},c.prototype.rewind=function(){this.cursorState.init&&(this.cursorState.dead||this.kill(),this.cursorState.currentLimit=0,this.cursorState.init=!1,this.cursorState.dead=!1,this.cursorState.killed=!1,this.cursorState.notified=!1,this.cursorState.documents=[],this.cursorState.cursorId=null,this.cursorState.cursorIndex=0)};var p=function(e,t){return!(!e.pool||!e.pool.isDestroyed())&&(e.cursorState.notified=!0,e.cursorState.killed=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,t(o.create(s(\"connection to host %s:%s was destroyed\",e.pool.host,e.pool.port))),!0)},u=function(e,t){e.cursorState.dead=!0,e.cursorState.notified=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,l(t,null,null)},d=function(e,t){if(e.cursorState.notified)return t(new Error(\"cursor is exhausted\"));if(!function(e,t){return!!e.cursorState.killed&&(e.cursorState.notified=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,l(t,null,null),!0)}(e,t)&&!function(e,t){return!(!e.cursorState.dead||e.cursorState.killed||(e.cursorState.notified=!0,e.cursorState.killed=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,l(t,null,null),0))}(e,t)&&!function(e,t){return!(!e.cursorState.dead||!e.cursorState.killed||(l(t,o.create(\"cursor is dead\")),0))}(e,t)){if(!e.cursorState.init){if(!e.topology.isConnected(e.options)){if(\"server\"===e.topology._type&&!e.topology.s.options.reconnect)return t(new o(\"no connection available\"));if(null!=e.disconnectHandler)return e.topology.isDestroyed()?t(new o(\"Topology was destroyed\")):e.disconnectHandler.addObjectAndMethod(\"cursor\",e,\"next\",[t],t)}try{e.server=e.topology.getServer(e.options)}catch(n){return null!=e.disconnectHandler?e.disconnectHandler.addObjectAndMethod(\"cursor\",e,\"next\",[t],t):t(n)}if(e.cursorState.init=!0,e.cmd&&e.cmd.collation&&e.server.ismaster.maxWireVersion<5)return t(new o(s(\"server %s does not support collation\",e.server.name)));try{e.query=e.server.wireProtocolHandler.command(e.bson,e.ns,e.cmd,e.cursorState,e.topology,e.options)}catch(e){return t(e)}}if(null==e.cursorState.cursorId){if(p(e,t))return;if(e.topology.isDestroyed())return t(new o(\"connection destroyed, not possible to instantiate cursor\"));e._find(function(n){return n?l(t,n,null):0==e.cursorState.documents.length&&e.cursorState.cursorId&&e.cursorState.cursorId.isZero()&&!e.cmd.tailable&&!e.cmd.awaitData?function(e,t){e.cursorState.notified=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,l(t,null,null)}(e,t):void d(e,t)})}else{if(e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit)return e.kill(),u(e,t);if(e.cursorState.cursorIndex!=e.cursorState.documents.length||a.ZERO.equals(e.cursorState.cursorId)){if(e.cursorState.documents.length==e.cursorState.cursorIndex&&e.cmd.tailable&&a.ZERO.equals(e.cursorState.cursorId))return l(t,o.create({message:\"No more documents in tailed cursor\",tailable:e.cmd.tailable,awaitData:e.cmd.awaitData}));if(e.cursorState.documents.length==e.cursorState.cursorIndex&&a.ZERO.equals(e.cursorState.cursorId))u(e,t);else{if(e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit)return e.kill(),u(e,t);e.cursorState.currentLimit+=1;var n=e.cursorState.documents[e.cursorState.cursorIndex++];if(!n||n.$err)return e.kill(),u(e,function(){l(t,new o(n?n.$err:void 0))});e.cursorState.transforms&&\"function\"==typeof e.cursorState.transforms.doc&&(n=e.cursorState.transforms.doc(n)),l(t,null,n)}}else{if(e.cursorState.documents=[],e.cursorState.cursorIndex=0,e.topology.isDestroyed())return t(new o(\"connection destroyed, not possible to instantiate cursor\"));if(p(e,t))return;e._getmore(function(n,i,r){return n?l(t,n):(e.connection=r,0==e.cursorState.documents.length&&e.cmd.tailable&&a.ZERO.equals(e.cursorState.cursorId)?l(t,o.create({message:\"No more documents in tailed cursor\",tailable:e.cmd.tailable,awaitData:e.cmd.awaitData})):0==e.cursorState.documents.length&&e.cmd.tailable&&!a.ZERO.equals(e.cursorState.cursorId)?d(e,t):e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit?u(e,t):void d(e,t))})}}}};c.prototype.next=function(e){d(this,e)},e.exports=c},function(e,t){e.exports=require(\"os\")},function(e,t,n){var i=n(9);\"disable\"===process.env.READABLE_STREAM&&i?(e.exports=i,(t=e.exports=i.Readable).Readable=i.Readable,t.Writable=i.Writable,t.Duplex=i.Duplex,t.Transform=i.Transform,t.PassThrough=i.PassThrough,t.Stream=i):((t=e.exports=n(107)).Stream=i||t,t.Readable=t,t.Writable=n(108),t.Duplex=n(27),t.Transform=n(110),t.PassThrough=n(199))},function(e,t,n){\"use strict\";var i=n(1).checkCollectionName,r=n(2).BSON.ObjectID,o=n(2).BSON.Long,s=n(2).BSON.Code,a=n(0).format,c=n(26),l=n(2).MongoError,p=n(1).shallowClone,u=n(1).isObject,d=n(1).toError,f=n(1).normalizeHintField,m=n(1).handleCallback,h=n(1).decorateCommand,v=n(1).formattedOrderClause,g=n(15),y=n(2).ReadPreference,b=n(23),x=n(10),w=n(18),S=n(77),k=n(76),O=n(1).assign,E=[\"readPreference\",\"ignoreUndefined\"],C=function(e,t,o,s,c,l){i(s);var p=null==l||null==l.slaveOk?e.slaveOk:l.slaveOk,u=null==l||null==l.serializeFunctions?e.s.options.serializeFunctions:l.serializeFunctions,d=null==l||null==l.raw?e.s.options.raw:l.raw,f=null==l||null==l.promoteLongs?e.s.options.promoteLongs:l.promoteLongs,m=null==l||null==l.promoteValues?e.s.options.promoteValues:l.promoteValues,h=null==l||null==l.promoteBuffers?e.s.options.promoteBuffers:l.promoteBuffers,v=null,g=a(\"%s.%s\",o,s),y=l.promiseLibrary;y||(y=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),l&&l.readPreference?v=l.readPreference:e.options.readPreference&&(v=e.options.readPreference),c=null==c?r:c,this.s={pkFactory:c,db:e,topology:t,dbName:o,options:l,namespace:g,readPreference:v,slaveOk:p,serializeFunctions:u,raw:d,promoteLongs:f,promoteValues:m,promoteBuffers:h,internalHint:null,collectionHint:null,name:s,promiseLibrary:y,readConcern:l.readConcern}},_=C.define=new x(\"Collection\",C,!1);Object.defineProperty(C.prototype,\"collectionName\",{enumerable:!0,get:function(){return this.s.name}}),Object.defineProperty(C.prototype,\"namespace\",{enumerable:!0,get:function(){return this.s.namespace}}),Object.defineProperty(C.prototype,\"readConcern\",{enumerable:!0,get:function(){return this.s.readConcern||{level:\"local\"}}}),Object.defineProperty(C.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}}),Object.defineProperty(C.prototype,\"hint\",{enumerable:!0,get:function(){return this.s.collectionHint},set:function(e){this.s.collectionHint=f(e)}}),C.prototype.find=function(){var e,t=Array.prototype.slice.call(arguments,0),n=\"function\"==typeof t[t.length-1],i=\"function\"==typeof t[0],r=n?t.pop():i?t.shift():null,o=t.length,s=o>=1?t[0]:{},a=o>=2?t[1]:void 0;if(1===o&&i&&(s={},e=t[0]),2!==o||void 0===a||Array.isArray(a)){if(2===o&&Array.isArray(a)&&!Array.isArray(a[0])){var c={};for(d=0;d<a.length;d++)c[a[d]]=1;a=c}}else{for(var p=Object.keys(a),u=!1,d=0;d<p.length;d++)if(null!=ge[p[d]]){u=!0;break}u?(e=a,a=void 0):e={}}3===o&&(e=t[2]);var h=s=null==s?{}:s;if(Buffer.isBuffer(h)){var g=h[0]|h[1]<<8|h[2]<<16|h[3]<<24;if(g!=h.length){var y=new Error(\"query selector raw message size does not match message header size [\"+h.length+\"] != [\"+g+\"]\");throw y.name=\"MongoError\",y}}if(h=a,Buffer.isBuffer(h)&&(g=h[0]|h[1]<<8|h[2]<<16|h[3]<<24)!=h.length)throw(y=new Error(\"query fields raw message size does not match message header size [\"+h.length+\"] != [\"+g+\"]\")).name=\"MongoError\",y;if(null!=s&&\"ObjectID\"==s._bsontype&&(s={_id:s}),e&&e.fields&&!Buffer.isBuffer(e.fields))if(a={},Array.isArray(e.fields))if(e.fields.length){var b=e.fields.length;for(d=0;d<b;d++)a[e.fields[d]]=1}else a._id=1;else a=e.fields;e||(e={});var x={};for(var w in this.s.options)-1!=E.indexOf(w)&&(x[w]=this.s.options[w]);for(var w in e)x[w]=e[w];if(x.skip=o>3?t[2]:e.skip?e.skip:0,x.limit=o>3?t[3]:e.limit?e.limit:0,x.raw=null!=e.raw&&\"boolean\"==typeof e.raw?e.raw:this.s.raw,x.hint=null!=e.hint?f(e.hint):this.s.collectionHint,x.timeout=5==o?t[4]:void 0===e.timeout?void 0:e.timeout,x.slaveOk=null!=e.slaveOk?e.slaveOk:this.s.db.slaveOk,null==(x=ve(this,x,this.s.db,this)).readPreference||\"primary\"==x.readPreference&&\"primary\"==x.readPreference.mode||(x.slaveOk=!0),null!=s&&\"object\"!=typeof s)throw l.create({message:\"query selector must be an object\",driver:!0});var S={find:this.s.namespace,limit:x.limit,skip:x.skip,query:s};for(var k in\"boolean\"==typeof x.awaitdata&&(x.awaitData=x.awaitdata),\"boolean\"==typeof x.timeout&&(x.noCursorTimeout=x.timeout),x)null!=x[k]&&(S[k]=x[k]);return a&&(S.fields=function(e){var t={};if(Array.isArray(e))for(var n=0;n<e.length;n++)Array.isArray(e[n])?t[e[n][0]]=e[n][1]:t[e[n][0]]=1;else t=e;return t}(a)),x.db=this.s.db,x.promiseLibrary=this.s.promiseLibrary,null==x.raw&&\"boolean\"==typeof this.s.raw&&(x.raw=this.s.raw),null==x.promoteLongs&&\"boolean\"==typeof this.s.promoteLongs&&(x.promoteLongs=this.s.promoteLongs),null==x.promoteValues&&\"boolean\"==typeof this.s.promoteValues&&(x.promoteValues=this.s.promoteValues),null==x.promoteBuffers&&\"boolean\"==typeof this.s.promoteBuffers&&(x.promoteBuffers=this.s.promoteBuffers),S.sort&&(S.sort=v(S.sort)),this.s.readConcern&&(S.readConcern=this.s.readConcern),ce(S,this,e),\"function\"==typeof r?m(r,null,this.s.topology.cursor(this.s.namespace,S,x)):this.s.topology.cursor(this.s.namespace,S,x)},_.classMethod(\"find\",{callback:!1,promise:!1,returns:[w]}),C.prototype.insertOne=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&\"function\"==typeof n?n(l.create({message:\"doc parameter must be an object\",driver:!0})):Array.isArray(e)?new this.s.promiseLibrary(function(e,t){t(l.create({message:\"doc parameter must be an object\",driver:!0}))}):(this.s.options.ignoreUndefined&&((t=p(t)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof n?I(i,e,t,n):new this.s.promiseLibrary(function(n,r){I(i,e,t,function(e,t){if(e)return r(e);n(t)})}))};var I=function(e,t,n,i){A(e,[t],n,function(e,n){if(null!=i){if(e&&i)return i(e);if(null==n)return i(null,{result:{ok:1}});n.insertedCount=n.result.n,n.insertedId=t._id,i&&i(null,n)}})},T=function(e,t){for(var n=t.getInsertedIds(),i=Object.keys(n),r=new Array(i.length),o=0;o<i.length;o++)n[i[o]]._id&&(r[n[i[o]].index]=n[i[o]]._id);var s={result:{ok:1,n:t.insertedCount},ops:e,insertedCount:t.insertedCount,insertedIds:r};return t.getLastOp()&&(s.result.opTime=t.getLastOp()),s};_.classMethod(\"insertOne\",{callback:!0,promise:!0}),C.prototype.insertMany=function(e,t,n){var i=this;if(\"function\"==typeof t&&(n=t,t={}),t=t?p(t):{ordered:!0},!Array.isArray(e)&&\"function\"==typeof n)return n(l.create({message:\"docs parameter must be an array of documents\",driver:!0}));if(!Array.isArray(e))return new this.s.promiseLibrary(function(e,t){t(l.create({message:\"docs parameter must be an array of documents\",driver:!0}))});if(\"boolean\"!=typeof t.checkKeys&&(t.checkKeys=!0),t.serializeFunctions=t.serializeFunctions||i.s.serializeFunctions,!0!==(\"boolean\"==typeof t.forceServerObjectId?t.forceServerObjectId:i.s.db.options.forceServerObjectId))for(var r=0;r<e.length;r++)null==e[r]._id&&(e[r]._id=i.s.pkFactory.createPk());var o=[{insertMany:e}];return\"function\"==typeof n?N(i,o,t,function(t,i){if(t)return n(t,i);n(null,T(e,i))}):new this.s.promiseLibrary(function(n,r){N(i,o,t,function(t,i){if(t)return r(t);n(T(e,i))})})},_.classMethod(\"insertMany\",{callback:!0,promise:!0}),C.prototype.bulkWrite=function(e,t,n){var i=this;if(\"function\"==typeof t&&(n=t,t={}),t=t||{ordered:!0},!Array.isArray(e))throw l.create({message:\"operations must be an array of documents\",driver:!0});return\"function\"==typeof n?N(i,e,t,n):new this.s.promiseLibrary(function(n,r){N(i,e,t,function(e,t){if(e&&null==t)return r(e);n(t)})})};var N=function(e,t,n,i){e.s.options.ignoreUndefined&&((n=p(n)).ignoreUndefined=e.s.options.ignoreUndefined);var r=1==n.ordered||null==n.ordered?e.initializeOrderedBulkOp(n):e.initializeUnorderedBulkOp(n),o=!1;try{for(var s=0;s<t.length;s++){var c=Object.keys(t[s])[0];t[s][c].collation&&(o=!0),r.raw(t[s])}}catch(e){return i(e,null)}var u=he(p(n),e.s.db,e,n),f=u.writeConcern?u.writeConcern:{},m=e.s.topology.capabilities();if(o&&m&&!m.commandsTakeCollation)return i(new l(a(\"server/primary/mongos does not support collation\")));r.execute(f,function(e,t){if(!t&&e)return i(e,null);if(t&&t.hasWriteErrors()&&1==t.getWriteErrorCount())return i(d(t.getWriteErrorAt(0)),t);t.insertedCount=t.nInserted,t.matchedCount=t.nMatched,t.modifiedCount=t.nModified||0,t.deletedCount=t.nRemoved,t.upsertedCount=t.getUpsertedIds().length,t.upsertedIds={},t.insertedIds={},t.n=t.insertedCount;for(var n=t.getInsertedIds(),r=0;r<n.length;r++)t.insertedIds[n[r].index]=n[r]._id;var o=t.getUpsertedIds();for(r=0;r<o.length;r++)t.upsertedIds[o[r].index]=o[r]._id;if(t.hasWriteErrors()){var s=t.getWriteErrors();return i(d({message:\"write operation failed\",code:s[0].code,writeErrors:s}),t)}if(t.getWriteConcernError())return i(d(t.getWriteConcernError()),t);i(null,t)})},A=function(e,t,n,i){\"function\"==typeof n&&(i=n,n={}),n=n||{},t=Array.isArray(t)?t:[t];var r=he(p(n),e.s.db,e,n);if(\"boolean\"!=typeof r.checkKeys&&(r.checkKeys=!0),1==r.keepGoing&&(r.ordered=!1),r.serializeFunctions=n.serializeFunctions||e.s.serializeFunctions,!0!==(\"boolean\"==typeof n.forceServerObjectId?n.forceServerObjectId:e.s.db.options.forceServerObjectId))for(var o=0;o<t.length;o++)void 0===t[o]._id&&(t[o]._id=e.s.pkFactory.createPk());e.s.topology.insert(e.s.namespace,t,r,function(e,n){if(null!=i){if(e)return m(i,e);if(null==n)return m(i,null,null);if(n.result.code)return m(i,d(n.result));if(n.result.writeErrors)return m(i,d(n.result.writeErrors[0]));n.ops=t,m(i,null,n)}})};_.classMethod(\"bulkWrite\",{callback:!0,promise:!0}),C.prototype.insert=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t||{ordered:!1},e=Array.isArray(e)?e:[e],1==t.keepGoing&&(t.ordered=!1),this.insertMany(e,t,n)},_.classMethod(\"insert\",{callback:!0,promise:!0}),C.prototype.updateOne=function(e,t,n,i){var r=this;return\"function\"==typeof n&&(i=n,n={}),n=p(n),this.s.options.ignoreUndefined&&((n=p(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof i?M(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){M(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var M=function(e,t,n,i,r){i.multi=!1,P(e,t,n,i,function(e,t){if(null!=r){if(e&&r)return r(e);if(null==t)return r(null,{result:{ok:1}});t.modifiedCount=null!=t.result.nModified?t.result.nModified:t.result.n,t.upsertedId=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?t.result.upserted[0]:null,t.upsertedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length?t.result.upserted.length:0,t.matchedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?0:t.result.n,r&&r(null,t)}})};_.classMethod(\"updateOne\",{callback:!0,promise:!0}),C.prototype.replaceOne=function(e,t,n,i){var r=this;return\"function\"==typeof n&&(i=n,n={}),n=p(n),this.s.options.ignoreUndefined&&((n=p(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof i?B(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){B(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var B=function(e,t,n,i,r){i.multi=!1,P(e,t,n,i,function(e,t){if(null!=r){if(e&&r)return r(e);if(null==t)return r(null,{result:{ok:1}});t.modifiedCount=null!=t.result.nModified?t.result.nModified:t.result.n,t.upsertedId=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?t.result.upserted[0]:null,t.upsertedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length?t.result.upserted.length:0,t.matchedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?0:t.result.n,t.ops=[n],r&&r(null,t)}})};_.classMethod(\"replaceOne\",{callback:!0,promise:!0}),C.prototype.updateMany=function(e,t,n,i){var r=this;return\"function\"==typeof n&&(i=n,n={}),n=p(n),this.s.options.ignoreUndefined&&((n=p(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof i?j(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){j(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var j=function(e,t,n,i,r){i.multi=!0,P(e,t,n,i,function(e,t){if(null!=r){if(e&&r)return r(e);if(null==t)return r(null,{result:{ok:1}});t.modifiedCount=null!=t.result.nModified?t.result.nModified:t.result.n,t.upsertedId=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?t.result.upserted[0]:null,t.upsertedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length?t.result.upserted.length:0,t.matchedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?0:t.result.n,r&&r(null,t)}})};_.classMethod(\"updateMany\",{callback:!0,promise:!0});var P=function(e,t,n,i,r){if(\"function\"==typeof i&&(r=i,i=null),null==i&&(i={}),\"function\"!=typeof r&&(r=null),null==t||\"object\"!=typeof t)return r(d(\"selector must be a valid JavaScript object\"));if(null==n||\"object\"!=typeof n)return r(d(\"document must be a valid JavaScript object\"));var o=he(p(i),e.s.db,e,i);o.serializeFunctions=i.serializeFunctions||e.s.serializeFunctions;var s={q:t,u:n};s.upsert=void 0!==i.upsert&&!!i.upsert,s.multi=void 0!==i.multi&&!!i.multi,ce(o,e,i),e.s.topology.update(e.s.namespace,[s],o,function(e,t){if(null!=r)return e?m(r,e,null):null==t?m(r,null,null):t.result.code?m(r,d(t.result)):t.result.writeErrors?m(r,d(t.result.writeErrors[0])):void m(r,null,t)})};C.prototype.update=function(e,t,n,i){var r=this;return this.s.options.ignoreUndefined&&((n=p(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof i?P(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){P(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})},_.classMethod(\"update\",{callback:!0,promise:!0}),C.prototype.deleteOne=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=p(t),this.s.options.ignoreUndefined&&((t=p(t)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof n?D(i,e,t,n):new this.s.promiseLibrary(function(n,r){D(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var D=function(e,t,n,i){n.single=!0,L(e,t,n,function(e,t){if(null!=i){if(e&&i)return i(e);if(null==t)return i(null,{result:{ok:1}});t.deletedCount=t.result.n,i&&i(null,t)}})};_.classMethod(\"deleteOne\",{callback:!0,promise:!0}),C.prototype.removeOne=C.prototype.deleteOne,_.classMethod(\"removeOne\",{callback:!0,promise:!0}),C.prototype.deleteMany=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=p(t),this.s.options.ignoreUndefined&&((t=p(t)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof n?R(i,e,t,n):new this.s.promiseLibrary(function(n,r){R(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var R=function(e,t,n,i){n.single=!1,L(e,t,n,function(e,t){if(null!=i){if(e&&i)return i(e);if(null==t)return i(null,{result:{ok:1}});t.deletedCount=t.result.n,i&&i(null,t)}})},L=function(e,t,n,i){\"function\"==typeof n?(i=n,n={}):\"function\"==typeof t&&(i=t,n={},t={});var r=he(p(n=n||{}),e.s.db,e,n);null==t&&(t={});var o={q:t,limit:0};n.single&&(o.limit=1),ce(r,e,n),e.s.topology.remove(e.s.namespace,[o],r,function(e,t){if(null!=i)return e?m(i,e,null):null==t?m(i,null,null):t.result.code?m(i,d(t.result)):t.result.writeErrors?m(i,d(t.result.writeErrors[0])):void m(i,null,t)})};_.classMethod(\"deleteMany\",{callback:!0,promise:!0}),C.prototype.removeMany=C.prototype.deleteMany,_.classMethod(\"removeMany\",{callback:!0,promise:!0}),C.prototype.remove=function(e,t,n){var i=this;return this.s.options.ignoreUndefined&&((t=p(t)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof n?L(i,e,t,n):new this.s.promiseLibrary(function(n,r){L(i,e,t,function(e,t){if(e)return r(e);n(t)})})},_.classMethod(\"remove\",{callback:!0,promise:!0}),C.prototype.save=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=t||{},this.s.options.ignoreUndefined&&((t=p(t)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof n?z(i,e,t,n):new this.s.promiseLibrary(function(n,r){z(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var z=function(e,t,n,i){var r=he(p(n),e.s.db,e,n);if(null!=t._id)return r.upsert=!0,P(e,{_id:t._id},t,r,i);A(e,[t],n,function(e,n){if(null!=i)return null==t?m(i,null,null):e?m(i,e,null):void m(i,null,n)})};_.classMethod(\"save\",{callback:!0,promise:!0}),C.prototype.findOne=function(){var e=this,t=Array.prototype.slice.call(arguments,0),n=t.pop();return\"function\"!=typeof n&&t.push(n),\"function\"==typeof n?q(e,t,n):new this.s.promiseLibrary(function(n,i){q(e,t,function(e,t){if(e)return i(e);n(t)})})};var q=function(e,t,n){e.find.apply(e,t).limit(-1).batchSize(1).next(function(e,t){if(null!=e)return m(n,d(e),null);m(n,null,t)})};_.classMethod(\"findOne\",{callback:!0,promise:!0}),C.prototype.rename=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=O({},t,{readPreference:g.PRIMARY}),\"function\"==typeof n?U(i,e,t,n):new this.s.promiseLibrary(function(n,r){U(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var U=function(e,t,n,r){i(t);var o={renameCollection:a(\"%s.%s\",e.s.dbName,e.s.name),to:a(\"%s.%s\",e.s.dbName,t),dropTarget:\"boolean\"==typeof n.dropTarget&&n.dropTarget};ae(o,e,n),e.s.db.admin().command(o,n,function(n,i){if(n)return m(r,n,null);if(i.errmsg)return m(r,d(i),null);try{return m(r,null,new C(e.s.db,e.s.topology,e.s.dbName,t,e.s.pkFactory,e.s.options))}catch(n){return m(r,d(n),null)}})};_.classMethod(\"rename\",{callback:!0,promise:!0}),C.prototype.drop=function(e,t){var n=this;return\"function\"==typeof e&&(t=e,e={}),e=e||{},\"function\"==typeof t?n.s.db.dropCollection(n.s.name,e,t):new this.s.promiseLibrary(function(t,i){n.s.db.dropCollection(n.s.name,e,function(e,n){if(e)return i(e);t(n)})})},_.classMethod(\"drop\",{callback:!0,promise:!0}),C.prototype.options=function(e){var t=this;return\"function\"==typeof e?K(t,e):new this.s.promiseLibrary(function(e,n){K(t,function(t,i){if(t)return n(t);e(i)})})};var K=function(e,t){e.s.db.listCollections({name:e.s.name}).toArray(function(n,i){return n?m(t,n):0==i.length?m(t,l.create({message:a(\"collection %s not found\",e.s.namespace),driver:!0})):void m(t,n,i[0].options||null)})};_.classMethod(\"options\",{callback:!0,promise:!0}),C.prototype.isCapped=function(e){var t=this;return\"function\"==typeof e?F(t,e):new this.s.promiseLibrary(function(e,n){F(t,function(t,i){if(t)return n(t);e(i)})})};var F=function(e,t){e.options(function(e,n){if(e)return m(t,e);m(t,null,n&&n.capped)})};_.classMethod(\"isCapped\",{callback:!0,promise:!0}),C.prototype.createIndex=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=r.length&&r.shift()||{},t=null==(t=\"function\"==typeof n?t:n)?{}:t,\"function\"==typeof n?H(i,e,t,n):new this.s.promiseLibrary(function(n,r){H(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var H=function(e,t,n,i){e.s.db.createIndex(e.s.name,t,n,i)};_.classMethod(\"createIndex\",{callback:!0,promise:!0}),C.prototype.createIndexes=function(e,t){var n=this;return\"function\"==typeof t?$(n,e,t):new this.s.promiseLibrary(function(t,i){$(n,e,function(e,n){if(e)return i(e);t(n)})})};var $=function(e,t,n){for(var i=e.s.topology.capabilities(),r=0;r<t.length;r++)if(null==t[r].name){var o=[];if(t[r].collation&&i&&!i.commandsTakeCollation)return n(new l(a(\"server/primary/mongos does not support collation\")));for(var s in t[r].key)o.push(a(\"%s_%s\",s,t[r].key[s]));t[r].name=o.join(\"_\")}e.s.db.command({createIndexes:e.s.name,indexes:t},{readPreference:g.PRIMARY},n)};_.classMethod(\"createIndexes\",{callback:!0,promise:!0}),C.prototype.dropIndex=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),(t=r.length&&r.shift()||{}).readPreference=g.PRIMARY,\"function\"==typeof n?V(i,e,t,n):new this.s.promiseLibrary(function(n,r){V(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var V=function(e,t,n,i){var r={dropIndexes:e.s.name,index:t};ae(r,e,n),e.s.db.command(r,n,function(e,t){if(\"function\"==typeof i)return e?m(i,e,null):void m(i,null,t)})};_.classMethod(\"dropIndex\",{callback:!0,promise:!0}),C.prototype.dropIndexes=function(e,t){var n=this;return\"function\"==typeof e&&(t=e,e={}),e=e||{},\"function\"==typeof t?W(n,e,t):new this.s.promiseLibrary(function(e,t){W(n,function(n,i){if(n)return t(n);e(i)})})};var W=function(e,t,n){e.dropIndex(\"*\",t,function(e){if(e)return m(n,e,!1);m(n,null,!0)})};_.classMethod(\"dropIndexes\",{callback:!0,promise:!0}),C.prototype.dropAllIndexes=C.prototype.dropIndexes,_.classMethod(\"dropAllIndexes\",{callback:!0,promise:!0}),C.prototype.reIndex=function(e,t){var n=this;return\"function\"==typeof e&&(t=e,e={}),e=e||{},\"function\"==typeof t?Y(n,e,t):new this.s.promiseLibrary(function(t,i){Y(n,e,function(e,n){if(e)return i(e);t(n)})})};var Y=function(e,t,n){var i={reIndex:e.s.name};e.s.db.command(i,t,function(e,t){if(null!=n)return e?m(n,e,null):void m(n,null,!!t.ok)})};_.classMethod(\"reIndex\",{callback:!0,promise:!0}),C.prototype.listIndexes=function(e){if(e=p(e=e||{}),(e=ve(this,e,this.s.db,this)).cursorFactory=b,e.promiseLibrary=this.s.promiseLibrary,!this.s.topology.capabilities())throw new l(\"cannot connect to server\");if(this.s.topology.capabilities().hasListIndexesCommand){var t=e.batchSize?{batchSize:e.batchSize}:{},n={listIndexes:this.s.name,cursor:t};return t=this.s.topology.cursor(a(\"%s.$cmd\",this.s.dbName),n,e),e.readPreference&&t.setReadPreference(e.readPreference),t}var i=a(\"%s.system.indexes\",this.s.dbName);return t=this.s.topology.cursor(i,{find:i,query:{ns:this.s.namespace}},e),e.readPreference&&t.setReadPreference(e.readPreference),e.batchSize&&(t=t.batchSize(e.batchSize)),t},_.classMethod(\"listIndexes\",{callback:!1,promise:!1,returns:[b]}),C.prototype.ensureIndex=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=t||{},\"function\"==typeof n?G(i,e,t,n):new this.s.promiseLibrary(function(n,r){G(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var G=function(e,t,n,i){e.s.db.ensureIndex(e.s.name,t,n,i)};_.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),C.prototype.indexExists=function(e,t){var n=this;return\"function\"==typeof t?Z(n,e,t):new this.s.promiseLibrary(function(t,i){Z(n,e,function(e,n){if(e)return i(e);t(n)})})};var Z=function(e,t,n){e.indexInformation(function(e,i){if(null!=e)return m(n,e,null);if(!Array.isArray(t))return m(n,null,null!=i[t]);for(var r=0;r<t.length;r++)if(null==i[t[r]])return m(n,null,!1);return m(n,null,!0)})};_.classMethod(\"indexExists\",{callback:!0,promise:!0}),C.prototype.indexInformation=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=i.pop())&&i.push(t),e=i.length&&i.shift()||{},\"function\"==typeof t?J(n,e,t):new this.s.promiseLibrary(function(t,i){J(n,e,function(e,n){if(e)return i(e);t(n)})})};var J=function(e,t,n){e.s.db.indexInformation(e.s.name,t,n)};_.classMethod(\"indexInformation\",{callback:!0,promise:!0}),C.prototype.count=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(n=r.pop())&&r.push(n);var o=r.length&&r.shift()||{},s=r.length&&r.shift()||{};return\"function\"==typeof n?X(i,o,s,n):(e=e||{},t=t||{},new this.s.promiseLibrary(function(n,r){X(i,e,t,function(e,t){if(e)return r(e);n(t)})}))};var X=function(e,t,n,i){var r=n.skip,o=n.limit,s=n.hint,a=n.maxTimeMS,c={count:e.s.name,query:t};\"number\"==typeof r&&(c.skip=r),\"number\"==typeof o&&(c.limit=o),\"number\"==typeof a&&(c.maxTimeMS=a),s&&(c.hint=s),n=p(n),n=ve(e,n,e.s.db,e),e.s.readConcern&&(c.readConcern=e.s.readConcern),ce(c,e,n),e.s.db.command(c,n,function(e,t){if(e)return m(i,e);m(i,null,t.n)})};_.classMethod(\"count\",{callback:!0,promise:!0}),C.prototype.distinct=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(i=o.pop())&&o.push(i);var s=o.length&&o.shift()||{},a=o.length&&o.shift()||{};return\"function\"==typeof i?Q(r,e,s,a,i):(t=t||{},n=n||{},new this.s.promiseLibrary(function(i,o){Q(r,e,t,n,function(e,t){if(e)return o(e);i(t)})}))};var Q=function(e,t,n,i,r){var o=i.maxTimeMS,s={distinct:e.s.name,key:t,query:n};i=p(i),i=ve(e,i,e.s.db,e),\"number\"==typeof o&&(s.maxTimeMS=o),e.s.readConcern&&(s.readConcern=e.s.readConcern),ce(s,e,i),e.s.db.command(s,i,function(e,t){if(e)return m(r,e);m(r,null,t.values)})};_.classMethod(\"distinct\",{callback:!0,promise:!0}),C.prototype.indexes=function(e){var t=this;return\"function\"==typeof e?ee(t,e):new this.s.promiseLibrary(function(e,n){ee(t,function(t,i){if(t)return n(t);e(i)})})};var ee=function(e,t){e.s.db.indexInformation(e.s.name,{full:!0},t)};_.classMethod(\"indexes\",{callback:!0,promise:!0}),C.prototype.stats=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=i.pop())&&i.push(t),e=i.length&&i.shift()||{},\"function\"==typeof t?te(n,e,t):new this.s.promiseLibrary(function(t,i){te(n,e,function(e,n){if(e)return i(e);t(n)})})};var te=function(e,t,n){var i={collStats:e.s.name};null!=t.scale&&(i.scale=t.scale),t=p(t),t=ve(e,t,e.s.db,e),e.s.db.command(i,t,n)};_.classMethod(\"stats\",{callback:!0,promise:!0}),C.prototype.findOneAndDelete=function(e,t,n){var i=this;if(\"function\"==typeof t&&(n=t,t={}),t=t||{},null==e||\"object\"!=typeof e)throw d(\"filter parameter must be an object\");return\"function\"==typeof n?ne(i,e,t,n):new this.s.promiseLibrary(function(n,r){ne(i,e,t=t||{},function(e,t){if(e)return r(e);n(t)})})};var ne=function(e,t,n,i){var r=p(n);r.fields=n.projection,r.remove=!0,e.findAndModify(t,n.sort,null,r,i)};_.classMethod(\"findOneAndDelete\",{callback:!0,promise:!0}),C.prototype.findOneAndReplace=function(e,t,n,i){var r=this;if(\"function\"==typeof n&&(i=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw d(\"filter parameter must be an object\");if(null==t||\"object\"!=typeof t)throw d(\"replacement parameter must be an object\");return\"function\"==typeof i?ie(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){ie(r,e,t,n=n||{},function(e,t){if(e)return o(e);i(t)})})};var ie=function(e,t,n,i,r){var o=p(i);o.fields=i.projection,o.update=!0,o.new=\"boolean\"==typeof i.returnOriginal&&!i.returnOriginal,o.upsert=\"boolean\"==typeof i.upsert&&i.upsert,e.findAndModify(t,i.sort,n,o,r)};_.classMethod(\"findOneAndReplace\",{callback:!0,promise:!0}),C.prototype.findOneAndUpdate=function(e,t,n,i){var r=this;if(\"function\"==typeof n&&(i=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw d(\"filter parameter must be an object\");if(null==t||\"object\"!=typeof t)throw d(\"update parameter must be an object\");return\"function\"==typeof i?re(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){re(r,e,t,n=n||{},function(e,t){if(e)return o(e);i(t)})})};var re=function(e,t,n,i,r){var o=p(i);o.fields=i.projection,o.update=!0,o.new=void 0!==i.returnOriginal&&!i.returnOriginal,o.upsert=void 0!==i.upsert&&!!i.upsert,e.findAndModify(t,i.sort,n,o,r)};_.classMethod(\"findOneAndUpdate\",{callback:!0,promise:!0}),C.prototype.findAndModify=function(e,t,n,i,r){var o=this,s=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(r=s.pop())&&s.push(r),t=s.length&&s.shift()||[],n=s.length?s.shift():null,i=s.length&&s.shift()||{},(i=p(i)).readPreference=g.PRIMARY,\"function\"==typeof r?oe(o,e,t,n,i,r):new this.s.promiseLibrary(function(r,s){oe(o,e,t,n,i=i||{},function(e,t){if(e)return s(e);r(t)})})};var oe=function(e,t,n,i,r,o){var s={findandmodify:e.s.name,query:t};(n=v(n))&&(s.sort=n),s.new=!!r.new,s.remove=!!r.remove,s.upsert=!!r.upsert,r.fields&&(s.fields=r.fields),i&&!r.remove&&(s.update=i),r.maxTimeMS&&(s.maxTimeMS=r.maxTimeMS),null!=r.serializeFunctions?r.serializeFunctions=r.serializeFunctions:r.serializeFunctions=e.s.serializeFunctions,r.checkKeys=!1;var a=he(r,e.s.db,e,r);a.writeConcern&&(s.writeConcern=a.writeConcern),\"boolean\"==typeof a.bypassDocumentValidation&&(s.bypassDocumentValidation=a.bypassDocumentValidation),ce(s,e,r),e.s.db.command(s,r,function(e,t){return e?m(o,e,null):m(o,null,t)})};_.classMethod(\"findAndModify\",{callback:!0,promise:!0}),C.prototype.findAndRemove=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(i=o.pop())&&o.push(i),t=o.length&&o.shift()||[],n=o.length&&o.shift()||{},\"function\"==typeof i?se(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){se(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var se=function(e,t,n,i,r){i.remove=!0,e.findAndModify(t,n,null,i,r)};function ae(e,t,n){var i=t.s.topology.capabilities();if(i&&i.commandsTakeWriteConcern){var r=he(p(n),t.s.db,t,n);r.writeConcern&&(e.writeConcern=r.writeConcern)}}function ce(e,t,n){var i=t.s.topology.capabilities();i&&i.commandsTakeCollation&&n.collation&&\"object\"==typeof n.collation&&(e.collation=n.collation)}_.classMethod(\"findAndRemove\",{callback:!0,promise:!0}),C.prototype.aggregate=function(e,t,n){if(Array.isArray(e))\"function\"==typeof t&&(n=t,t={}),null==t&&null==n&&(t={});else{var i=Array.prototype.slice.call(arguments,0);n=i.pop();var r=i[i.length-1];t=r&&(r.readPreference||r.explain||r.cursor||r.out||r.maxTimeMS||r.allowDiskUse)?i.pop():{},e=i}var o=!1,s={aggregate:this.s.name,pipeline:e};if(\"string\"==typeof t.out?(e.push({$out:t.out}),o=!0):e.length>0&&e[e.length-1].$out&&(o=!0),e.length>0&&e[e.length-1].$out&&ae(s,this,t),ce(s,this,t),\"boolean\"==typeof t.bypassDocumentValidation&&(s.bypassDocumentValidation=t.bypassDocumentValidation),!o&&this.s.readConcern&&(s.readConcern=this.s.readConcern),t.allowDiskUse&&(s.allowDiskUse=t.allowDiskUse),\"number\"==typeof t.maxTimeMS&&(s.maxTimeMS=t.maxTimeMS),t=p(t),(t=ve(this,t,this.s.db,this)).explain&&(s.explain=t.explain),null!=t.cursor&&\"object\"!=typeof t.cursor)throw d(\"cursor options must be an object\");if(this.s.topology.capabilities().hasAggregationCursor&&(t.cursor=t.cursor||{batchSize:1e3},s.cursor=t.cursor),t.promiseLibrary=this.s.promiseLibrary,t.cursorFactory=c,\"function\"!=typeof n){if(!this.s.topology.capabilities())throw new l(\"cannot connect to server\");return\"boolean\"==typeof t.allowDiskUse&&(s.allowDiskUse=t.allowDiskUse),\"number\"==typeof t.maxTimeMS&&(s.maxTimeMS=t.maxTimeMS),this.s.topology.cursor(this.s.namespace,s,t)}if(t.cursor)return this.s.topology.cursor(this.s.namespace,s,t).toArray(function(e,t){if(e)return m(n,e);m(n,null,t)});this.s.db.command(s,t,function(e,t){e?m(n,e):t.err||t.errmsg?m(n,d(t)):\"object\"==typeof t&&t.serverPipeline?m(n,null,t.serverPipeline):\"object\"==typeof t&&t.stages?m(n,null,t.stages):m(n,null,t.result)})},_.classMethod(\"aggregate\",{callback:!0,promise:!1}),C.prototype.parallelCollectionScan=function(e,t){var n=this;return\"function\"==typeof e&&(t=e,e={numCursors:1}),e.numCursors=e.numCursors||1,e.batchSize=e.batchSize||1e3,e=p(e),(e=ve(this,e,this.s.db,this)).promiseLibrary=this.s.promiseLibrary,\"function\"==typeof t?le(n,e,t):new this.s.promiseLibrary(function(t,i){le(n,e,function(e,n){if(e)return i(e);t(n)})})};var le=function(e,t,n){var i={parallelCollectionScan:e.s.name,numCursors:t.numCursors};e.s.readConcern&&(i.readConcern=e.s.readConcern);var r=t.raw;delete t.raw,e.s.db.command(i,t,function(i,s){if(i)return m(n,i,null);if(null==s)return m(n,new Error(\"no result returned for parallelCollectionScan\"),null);var a=[];r&&(t.raw=r);for(var c=0;c<s.cursors.length;c++){var l=s.cursors[c].cursor.id,p=\"number\"==typeof l?o.fromNumber(l):l;a.push(e.s.topology.cursor(e.s.namespace,p,t))}m(n,null,a)})};_.classMethod(\"parallelCollectionScan\",{callback:!0,promise:!0}),C.prototype.geoNear=function(e,t,n,i){var r=this,o=\"object\"==typeof e&&e,s=Array.prototype.slice.call(arguments,o?1:2);return\"function\"!=typeof(i=s.pop())&&s.push(i),n=s.length&&s.shift()||{},\"function\"==typeof i?pe(r,e,t,o,n,i):new this.s.promiseLibrary(function(i,s){pe(r,e,t,o,n,function(e,t){if(e)return s(e);i(t)})})};var pe=function(e,t,n,i,r,o){var s={geoNear:e.s.name,near:i||[t,n]};r=p(r),r=ve(e,r,e.s.db,e);s=h(s,r,{readPreference:!0,geoNear:!0,near:!0}),e.s.readConcern&&(s.readConcern=e.s.readConcern),ce(s,e,r),e.s.db.command(s,r,function(e,t){return e?m(o,e):t.err||t.errmsg?m(o,d(t)):void m(o,null,t)})};_.classMethod(\"geoNear\",{callback:!0,promise:!0}),C.prototype.geoHaystackSearch=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length&&o.shift()||{},\"function\"==typeof i?ue(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){ue(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var ue=function(e,t,n,i,r){var o={geoSearch:e.s.name,near:[t,n]};o=h(o,i,{readPreference:!0}),i=p(i),i=ve(e,i,e.s.db,e),e.s.readConcern&&(o.readConcern=e.s.readConcern),e.s.db.command(o,i,function(e,t){if(e)return m(r,e);(t.err||t.errmsg)&&m(r,d(t)),m(r,null,t)})};_.classMethod(\"geoHaystackSearch\",{callback:!0,promise:!0});C.prototype.group=function(e,t,n,i,r,o,s,a){var c=this,l=Array.prototype.slice.call(arguments,3);return\"function\"!=typeof(a=l.pop())&&l.push(a),i=l.length?l.shift():null,r=l.length?l.shift():null,o=l.length?l.shift():null,s=l.length&&l.shift()||{},\"function\"!=typeof r&&(o=r,r=null),!Array.isArray(e)&&e instanceof Object&&\"function\"!=typeof e&&\"Code\"!=e._bsontype&&(e=Object.keys(e)),\"function\"==typeof i&&(i=i.toString()),\"function\"==typeof r&&(r=r.toString()),o=null==o||o,\"function\"==typeof a?de(c,e,t,n,i,r,o,s,a):new this.s.promiseLibrary(function(a,l){de(c,e,t,n,i,r,o,s,function(e,t){if(e)return l(e);a(t)})})};var de=function(e,t,n,i,r,o,a,c,l){if(a){var u=r&&\"Code\"==r._bsontype?r:new s(r),d={group:{ns:e.s.name,$reduce:u,cond:n,initial:i,out:\"inline\"}};if(null!=o&&(d.group.finalize=o),\"function\"==typeof t||t&&\"Code\"==t._bsontype)d.group.$keyf=t&&\"Code\"==t._bsontype?t:new s(t);else{var f={};t.forEach(function(e){f[e]=1}),d.group.key=f}c=p(c),c=ve(e,c,e.s.db,e),e.s.readConcern&&(d.readConcern=e.s.readConcern),ce(d,e,c),e.s.db.command(d,c,function(e,t){if(e)return m(l,e,null);m(l,null,t.retval)})}else{var h=null!=r&&\"Code\"==r._bsontype?r.scope:{};h.ns=e.s.name,h.keys=t,h.condition=n,h.initial=i;var v='function () {\\nvar c = db[ns].find(condition);\\nvar map = new Map();\\nvar reduce_function = reduce;\\n\\nwhile (c.hasNext()) {\\nvar obj = c.next();\\nvar key = {};\\n\\nfor (var i = 0, len = keys.length; i < len; ++i) {\\nvar k = keys[i];\\nkey[k] = obj[k];\\n}\\n\\nvar aggObj = map.get(key);\\n\\nif (aggObj == null) {\\nvar newObj = Object.extend({}, key);\\naggObj = Object.extend(newObj, initial);\\nmap.put(key, aggObj);\\n}\\n\\nreduce_function(obj, aggObj);\\n}\\n\\nreturn { \"result\": map.values() };\\n}'.replace(/ reduce;/,r.toString()+\";\");e.s.db.eval(new s(v,h),function(e,t){if(e)return m(l,e,null);m(l,null,t.result||t)})}};function fe(e){if(!u(e)||\"ObjectID\"==e._bsontype)return e;for(var t,n=Object.keys(e),i=n.length,r={};i--;)\"function\"==typeof e[t=n[i]]?r[t]=new s(String(e[t])):r[t]=fe(e[t]);return r}_.classMethod(\"group\",{callback:!0,promise:!0}),C.prototype.mapReduce=function(e,t,n,i){var r=this;if(\"function\"==typeof n&&(i=n,n={}),null==n.out)throw new Error(\"the out option parameter must be defined, see mongodb docs for possible values\");return\"function\"==typeof e&&(e=e.toString()),\"function\"==typeof t&&(t=t.toString()),\"function\"==typeof n.finalize&&(n.finalize=n.finalize.toString()),\"function\"==typeof i?me(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){me(r,e,t,n,function(e,t,n){return e?o(e):n?void i({results:t,stats:n}):i(t)})})};var me=function(e,t,n,i,r){var o={mapreduce:e.s.name,map:t,reduce:n},s=[\"readPreference\"];for(var a in i)\"scope\"==a?o[a]=fe(i[a]):-1==s.indexOf(a)&&(o[a]=i[a]);i=p(i),0!=(i=ve(e,i,e.s.db,e)).readPreference&&\"primary\"!=i.readPreference&&i.out&&1!=i.out.inline&&\"inline\"!=i.out?(i.readPreference=\"primary\",ae(o,e,i)):e.s.readConcern&&(o.readConcern=e.s.readConcern),\"boolean\"==typeof i.bypassDocumentValidation&&(o.bypassDocumentValidation=i.bypassDocumentValidation),ce(o,e,i),e.s.db.command(o,{readPreference:i.readPreference},function(t,n){if(t)return m(r,t);if(1!=n.ok||n.err||n.errmsg)return m(r,d(n));var o={};if(n.timeMillis&&(o.processtime=n.timeMillis),n.counts&&(o.counts=n.counts),n.timing&&(o.timing=n.timing),n.results)return null!=i.verbose&&i.verbose?m(r,null,n.results,o):m(r,null,n.results);var s=null;if(null!=n.result&&\"object\"==typeof n.result){var a=n.result;s=e.s.db.db(a.db).collection(a.collection)}else s=e.s.db.collection(n.result);if(null==i.verbose||!i.verbose)return m(r,t,s);m(r,t,s,o)})};_.classMethod(\"mapReduce\",{callback:!0,promise:!0}),C.prototype.initializeUnorderedBulkOp=function(e){return(e=e||{}).promiseLibrary=this.s.promiseLibrary,S(this.s.topology,this,e)},_.classMethod(\"initializeUnorderedBulkOp\",{callback:!1,promise:!1,returns:[k.UnorderedBulkOperation]}),C.prototype.initializeOrderedBulkOp=function(e){return(e=e||{}).promiseLibrary=this.s.promiseLibrary,k(this.s.topology,this,e)},_.classMethod(\"initializeOrderedBulkOp\",{callback:!1,promise:!1,returns:[k.OrderedBulkOperation]});var he=function(e,t,n,i){if(null!=i.w||null!=i.j||null!=i.fsync){var r={};null!=i.w&&(r.w=i.w),null!=i.wtimeout&&(r.wtimeout=i.wtimeout),null!=i.j&&(r.j=i.j),null!=i.fsync&&(r.fsync=i.fsync),e.writeConcern=r}else null!=n.writeConcern.w||null!=n.writeConcern.j||null!=n.writeConcern.fsync?e.writeConcern=n.writeConcern:null==t.writeConcern.w&&null==t.writeConcern.j&&null==t.writeConcern.fsync||(e.writeConcern=t.writeConcern);return e},ve=function(e,t,n){var i=null;if(t.readPreference?i=t.readPreference:e.s.readPreference?i=e.s.readPreference:n.s.readPreference&&(i=n.s.readPreference),i instanceof g)t.readPreference=new y(i.mode,i.tags,{maxStalenessSeconds:i.maxStalenessSeconds});else if(\"string\"==typeof i)t.readPreference=new y(i);else if(i&&!(i instanceof g)&&\"object\"==typeof i){var r=i.mode||i.preference;r&&\"string\"==typeof r&&(t.readPreference=new y(r,i.tags,{maxStalenessSeconds:i.maxStalenessSeconds}))}return t},ge={limit:1,sort:1,fields:1,skip:1,hint:1,explain:1,snapshot:1,timeout:1,tailable:1,tailableRetryInterval:1,numberOfRetries:1,awaitdata:1,awaitData:1,exhaust:1,batchSize:1,returnKey:1,maxScan:1,min:1,max:1,showDiskLoc:1,comment:1,raw:1,readPreference:1,partial:1,read:1,dbName:1,oplogReplay:1,connection:1,maxTimeMS:1,transforms:1,collation:1,noCursorTimeout:1};e.exports=C},function(e,t,n){\"use strict\";var i=n(3).EventEmitter,r=n(0).inherits,o=n(2).Server,s=n(18),a=n(26),c=n(23),l=n(0).format,p=n(28).ServerCapabilities,u=n(28).Store,d=n(10),f=n(2).MongoError,m=n(1).MAX_JS_INT,h=n(1).translateOptions,v=n(1).filterOptions,g=n(1).mergeOptions,y=n(1).getReadPreference,b=n(60),x=n(80).version,w=l(\"Node.js %s, %s\",process.version,b.endianness()),S=b.type(),k=process.platform,O=process.arch,E=b.release(),C=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"ciphers\",\"ecdhCurve\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"reconnectInterval\",\"monitoring\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],_=function(e,t,n){if(n=n||{},!(this instanceof _))return new _(e,t,n);i.call(this);var r={force:!1,bufferMaxEntries:\"number\"==typeof(n=v(n,C)).bufferMaxEntries?n.bufferMaxEntries:m},a=n.store||new u(this,r);if(-1!=e.indexOf(\"/\"))null!=t&&\"object\"==typeof t&&(n=t,t=null);else if(null==t)throw f.create({message:\"port must be specified\",driver:!0});var c=\"boolean\"!=typeof n.auto_reconnect||n.auto_reconnect;c=\"boolean\"==typeof n.autoReconnect?n.autoReconnect:c;var l=g({},{host:e,port:t,disconnectHandler:a,cursorFactory:s,reconnect:c,emitError:\"boolean\"!=typeof n.emitError||n.emitError,size:\"number\"==typeof n.poolSize?n.poolSize:5});l=h(l,n);var p=n.socketOptions&&Object.keys(n.socketOptions).length>0?n.socketOptions:n;\"number\"==typeof(l=h(l,p)).keepAlive&&(l.keepAliveInitialDelay=l.keepAlive,l.keepAlive=l.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:x},os:{type:S,name:k,architecture:O,version:E},platform:w},l.clientInfo=this.clientInfo,n.appname&&(l.clientInfo.application={name:n.appname});var d=new o(l);this.s={server:d,sCapabilities:null,clonedOptions:l,reconnect:l.reconnect,emitError:l.emitError,poolSize:l.size,storeOptions:r,store:a,host:e,port:t,options:n}};r(_,i);var I=_.define=new d(\"Server\",_,!1);Object.defineProperty(_.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.server.s.bson}}),Object.defineProperty(_.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.server.lastIsMaster()}}),Object.defineProperty(_.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.server.parserType}}),Object.defineProperty(_.prototype,\"poolSize\",{enumerable:!0,get:function(){return this.s.server.connections().length}}),Object.defineProperty(_.prototype,\"autoReconnect\",{enumerable:!0,get:function(){return this.s.reconnect}}),Object.defineProperty(_.prototype,\"host\",{enumerable:!0,get:function(){return this.s.host}}),Object.defineProperty(_.prototype,\"port\",{enumerable:!0,get:function(){return this.s.port}}),_.prototype.connect=function(e,t,n){var i=this;\"function\"==typeof t&&(n=t,t={}),null==t&&(t={}),\"function\"!=typeof n&&(n=null),i.s.options=t,i.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){i.s.server.removeListener(e,c[e])}),i.s.server.removeListener(\"connect\",r);try{n(e)}catch(e){process.nextTick(function(){throw e})}}},o=function(e){return function(t){\"error\"!=e&&i.emit(e,t)}},s=function(){i.s.store.flush()},a=function(e){return function(t,n){i.emit(e,t,n)}},c={timeout:r(\"timeout\"),error:r(\"error\"),close:r(\"close\")};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){i.s.server.removeAllListeners(e)}),i.s.server.once(\"timeout\",c.timeout),i.s.server.once(\"error\",c.error),i.s.server.once(\"close\",c.close),i.s.server.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"destroy\"].forEach(function(e){i.s.server.removeAllListeners(e)}),i.s.server.on(\"timeout\",o(\"timeout\")),i.s.server.once(\"error\",o(\"error\")),i.s.server.on(\"close\",o(\"close\")),i.s.server.on(\"destroy\",s),i.emit(\"open\",null,i);try{n(null,i)}catch(e){console.log(e.stack),process.nextTick(function(){throw e})}}),i.s.server.on(\"reconnect\",function(){i.emit(\"reconnect\",i),i.s.store.execute()}),i.s.server.on(\"reconnectFailed\",function(e){i.emit(\"reconnectFailed\",e),i.s.store.flush(e)}),i.s.server.on(\"serverDescriptionChanged\",a(\"serverDescriptionChanged\")),i.s.server.on(\"serverHeartbeatStarted\",a(\"serverHeartbeatStarted\")),i.s.server.on(\"serverHeartbeatSucceeded\",a(\"serverHeartbeatSucceeded\")),i.s.server.on(\"serverHeartbeatFailed\",a(\"serverHeartbeatFailed\")),i.s.server.on(\"serverOpening\",a(\"serverOpening\")),i.s.server.on(\"serverClosed\",a(\"serverClosed\")),i.s.server.on(\"topologyOpening\",a(\"topologyOpening\")),i.s.server.on(\"topologyClosed\",a(\"topologyClosed\")),i.s.server.on(\"topologyDescriptionChanged\",a(\"topologyDescriptionChanged\")),i.s.server.on(\"attemptReconnect\",a(\"attemptReconnect\")),i.s.server.on(\"monitoring\",a(\"monitoring\")),i.s.server.connect(t)},_.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.server.lastIsMaster()?null:(this.s.sCapabilities=new p(this.s.server.lastIsMaster()),this.s.sCapabilities)},I.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[p]}),_.prototype.command=function(e,t,n,i){this.s.server.command(e,t,y(n),i)},I.classMethod(\"command\",{callback:!0,promise:!1}),_.prototype.insert=function(e,t,n,i){this.s.server.insert(e,t,n,i)},I.classMethod(\"insert\",{callback:!0,promise:!1}),_.prototype.update=function(e,t,n,i){this.s.server.update(e,t,n,i)},I.classMethod(\"update\",{callback:!0,promise:!1}),_.prototype.remove=function(e,t,n,i){this.s.server.remove(e,t,n,i)},I.classMethod(\"remove\",{callback:!0,promise:!1}),_.prototype.isConnected=function(){return this.s.server.isConnected()},_.prototype.isDestroyed=function(){return this.s.server.isDestroyed()},I.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),_.prototype.cursor=function(e,t,n){return n.disconnectHandler=this.s.store,this.s.server.cursor(e,t,n)},I.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[s,a,c]}),_.prototype.lastIsMaster=function(){return this.s.server.lastIsMaster()},_.prototype.unref=function(){this.s.server.unref()},_.prototype.close=function(e){this.s.server.destroy(),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},I.classMethod(\"close\",{callback:!1,promise:!1}),_.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.auth.apply(this.s.server,e)},I.classMethod(\"auth\",{callback:!0,promise:!1}),_.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.logout.apply(this.s.server,e)},I.classMethod(\"logout\",{callback:!0,promise:!1}),_.prototype.connections=function(){return this.s.server.connections()},I.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),e.exports=_},function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+\" \"+n:Math.ceil(e/t)+\" \"+n+\"s\"}e.exports=function(e,t){t=t||{};var c=typeof e;if(\"string\"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*s;case\"days\":case\"day\":case\"d\":return a*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*r;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return}}(e);if(\"number\"===c&&!1===isNaN(e))return t.long?function(e){return a(e,o,\"day\")||a(e,r,\"hour\")||a(e,i,\"minute\")||a(e,n,\"second\")||e+\" ms\"}(e):function(e){if(e>=o)return Math.round(e/o)+\"d\";if(e>=r)return Math.round(e/r)+\"h\";if(e>=i)return Math.round(e/i)+\"m\";if(e>=n)return Math.round(e/n)+\"s\";return e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},function(e,t,n){\"use strict\";\n/*!\n * etag\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){if(null==e)throw new TypeError(\"argument entity is required\");var n=function(e){if(\"function\"==typeof r&&e instanceof r)return!0;return e&&\"object\"==typeof e&&\"ctime\"in e&&\"[object Date]\"===o.call(e.ctime)&&\"mtime\"in e&&\"[object Date]\"===o.call(e.mtime)&&\"ino\"in e&&\"number\"==typeof e.ino&&\"size\"in e&&\"number\"==typeof e.size}(e),s=t&&\"boolean\"==typeof t.weak?t.weak:n;if(!n&&\"string\"!=typeof e&&!Buffer.isBuffer(e))throw new TypeError(\"argument entity must be string, Buffer, or fs.Stats\");var a=n?function(e){var t=e.mtime.getTime().toString(16);return'\"'+e.size.toString(16)+\"-\"+t+'\"'}(e):function(e){if(0===e.length)return'\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"';var t=i.createHash(\"sha1\").update(e,\"utf8\").digest(\"base64\").substring(0,27);return'\"'+(\"string\"==typeof e?Buffer.byteLength(e,\"utf8\"):e.length).toString(16)+\"-\"+t+'\"'}(e);return s?\"W/\"+a:a};var i=n(20),r=n(12).Stats,o=Object.prototype.toString},function(e,t,n){\"use strict\";\n/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */var i=/(?:^|,)\\s*?no-cache\\s*?(?:,|$)/;function r(e){var t=e&&Date.parse(e);return\"number\"==typeof t?t:NaN}e.exports=function(e,t){var n=e[\"if-modified-since\"],o=e[\"if-none-match\"];if(!n&&!o)return!1;var s=e[\"cache-control\"];if(s&&i.test(s))return!1;if(o&&\"*\"!==o){var a=t.etag;if(!a)return!1;for(var c=!0,l=function(e){for(var t=0,n=[],i=0,r=0,o=e.length;r<o;r++)switch(e.charCodeAt(r)){case 32:i===t&&(i=t=r+1);break;case 44:n.push(e.substring(i,t)),i=t=r+1;break;default:t=r+1}return n.push(e.substring(i,t)),n}(o),p=0;p<l.length;p++){var u=l[p];if(u===a||u===\"W/\"+a||\"W/\"+u===a){c=!1;break}}if(c)return!1}if(n){var d=t[\"last-modified\"],f=!(d&&r(d)<=r(n));if(f)return!1}return!0}},function(e,t,n){\"use strict\";if(void 0!==global.Map)e.exports=global.Map,e.exports.Map=global.Map;else{var i=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],i=n[0],r=n[1];this._keys.push(i),this._values[i]={v:r,i:this._keys.length-1}}};i.prototype.clear=function(){this._keys=[],this._values={}},i.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},i.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},i.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(t,this._values[i].v,i,t)}},i.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},i.prototype.has=function(e){return null!=this._values[e]},i.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},i.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},i.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(i.prototype,\"size\",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=i,e.exports.Map=i}},function(e,t){var n=function(e){if(!(this instanceof n))return new n(e);this._bsontype=\"Int32\",this.value=e};n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Int32=n},function(e,t){function n(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=69},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(0).format,o=n(3).EventEmitter,s=n(36),a=n(21),c=n(8).debugOptions,l=n(8).retrieveBSON,p=n(186),u=n(5).Query,d=n(4),f=n(187),m=n(188),h=n(189),v=n(59),g=n(11),y=n(53).assign,b=n(11).createClientInfo,x=[\"reconnect\",\"reconnectTries\",\"reconnectInterval\",\"emitError\",\"cursorFactory\",\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"checkServerIdentity\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"key\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"servername\"],w=0,S=!1,k={},O=l(),E=function(e){e=e||{},o.call(this),this.id=w++,this.s={options:e,logger:a(\"Server\",e),Cursor:e.cursorFactory||v,bson:e.bson||new O([O.Binary,O.Code,O.DBRef,O.Decimal128,O.Double,O.Int32,O.Long,O.Map,O.MaxKey,O.MinKey,O.ObjectId,O.BSONRegExp,O.Symbol,O.Timestamp]),pool:null,disconnectHandler:e.disconnectHandler,monitoring:\"boolean\"!=typeof e.monitoring||e.monitoring,inTopology:\"boolean\"==typeof e.inTopology&&e.inTopology,monitoringInterval:\"number\"==typeof e.monitoringInterval?e.monitoringInterval:5e3,topologyId:-1},this.ismaster=null,this.lastIsMasterMS=-1,this.monitoringProcessId=null,this.initalConnect=!0,this.wireProtocolHandler=new f,this._type=\"server\",this.clientInfo=b(e),this.lastUpdateTime=0,this.lastWriteDate=0,this.staleness=0};function C(e,t,n,i,o,s){return e.s.pool.isConnected()||!e.s.options.reconnect||null==e.s.disconnectHandler||o.monitoring?e.s.pool.isConnected()?void 0:(s(d.create(r(\"no connection available to server %s\",e.name))),!0):(e.s.disconnectHandler.add(t,n,i,o,s),!0)}i(E,o),Object.defineProperty(E.prototype,\"type\",{enumerable:!0,get:function(){return this._type}}),Object.defineProperty(E.prototype,\"parserType\",{enumerable:!0,get:function(){return O.native?\"c++\":\"js\"}}),E.enableServerAccounting=function(){S=!0,k={}},E.disableServerAccounting=function(){S=!1},E.servers=function(){return k},Object.defineProperty(E.prototype,\"name\",{enumerable:!0,get:function(){return this.s.options.host+\":\"+this.s.options.port}});var _=function(e,t){return function(n){if(e.s.logger.isInfo()){var i=n instanceof d?JSON.stringify(n):{};e.s.logger.info(r(\"server %s fired event %s out with message %s\",e.name,t,i))}if(\"connect\"==t){var o=new u(e.s.bson,\"admin.$cmd\",{ismaster:!0,client:e.clientInfo},{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),s=(new Date).getTime();e.s.pool.write(o,{socketTimeout:e.s.options.connectionTimeout||2e3},function(t,n){if(e.lastIsMasterMS=(new Date).getTime()-s,t)return e.destroy(),void(e.listeners(\"error\").length>0&&e.emit(\"error\",t));e.initalConnect=!1,e.ismaster=n.result,\"isdbgrid\"==e.ismaster.msg&&(e._type=\"mongos\"),e.wireProtocolHandler=function(e,t){return t.maxWireVersion>=4?new h(new m):t.maxWireVersion>=2?new m:new f}(0,e.ismaster),e.s.monitoring&&(e.monitoringProcessId=setTimeout(function e(t){return function(){if(!t.s.pool.isDestroyed()){t.emit(\"monitoring\",t);var n=new u(t.s.bson,\"admin.$cmd\",{ismaster:!0},{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),i=(new Date).getTime();t.s.pool.write(n,{socketTimeout:\"number\"!=typeof t.s.options.connectionTimeout?2e3:t.s.options.connectionTimeout,monitoring:!0},function(n,r){t.lastIsMasterMS=(new Date).getTime()-i,t.s.pool.isDestroyed()||(r&&(t.ismaster=r.result),t.monitoringProcessId=setTimeout(e(t),t.s.monitoringInterval))})}}}(e),e.s.monitoringInterval)),g.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:g.getTopologyType(e)}),e.s.inTopology||g.emitTopologyDescriptionChanged(e,{topologyType:\"Single\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:g.getTopologyType(e)}]}),e.s.logger.isInfo()&&e.s.logger.info(r(\"server %s connected with ismaster [%s]\",e.name,JSON.stringify(e.ismaster))),e.emit(\"connect\",e)})}else{if(S&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\",\"reconnectFailed\"].indexOf(t)&&(e.s.inTopology||e.emit(\"topologyOpening\",{topologyId:e.id}),delete k[e.id]),\"close\"===t&&g.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),\"reconnectFailed\"==t)return e.emit(\"reconnectFailed\",n),void(e.listeners(\"error\").length>0&&e.emit(\"error\",n));if(\"disconnected\"==e.s.pool.state&&e.initalConnect&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\"].indexOf(t))return e.initalConnect=!1,e.emit(\"error\",new d(r(\"failed to connect to server [%s] on first connect [%s]\",e.name,n)));if(\"reconnect\"==t)return g.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:g.getTopologyType(e)}),e.emit(t,e);e.emit(t,n)}}};function I(e){return e.s.pool?e.s.pool.isDestroyed()?d.create(\"server instance pool was destroyed\"):void 0:d.create(\"server instance is not connected\")}E.prototype.connect=function(e){if(e=e||{},S&&(k[this.id]=this),this.s.pool&&!this.s.pool.isDisconnected()&&!this.s.pool.isDestroyed())throw d.create(r(\"server instance in invalid state %s\",this.s.pool.state));this.s.pool=new p(y(this.s.options,e,{bson:this.s.bson})),this.s.pool.on(\"close\",_(this,\"close\")),this.s.pool.on(\"error\",_(this,\"error\")),this.s.pool.on(\"timeout\",_(this,\"timeout\")),this.s.pool.on(\"parseError\",_(this,\"parseError\")),this.s.pool.on(\"connect\",_(this,\"connect\")),this.s.pool.on(\"reconnect\",_(this,\"reconnect\")),this.s.pool.on(\"reconnectFailed\",_(this,\"reconnectFailed\")),this.s.inTopology||this.emit(\"topologyOpening\",{topologyId:this.id}),this.emit(\"serverOpening\",{topologyId:-1!=this.s.topologyId?this.s.topologyId:this.id,address:this.name}),e.auth?this.s.pool.connect.apply(this.s.pool,e.auth):this.s.pool.connect()},E.prototype.getDescription=function(){var e=this.ismaster||{},t={type:g.getTopologyType(this),address:this.name};return e.hosts&&(t.hosts=e.hosts),e.arbiters&&(t.arbiters=e.arbiters),e.passives&&(t.passives=e.passives),e.setName&&(t.setName=e.setName),t},E.prototype.lastIsMaster=function(){return this.ismaster},E.prototype.unref=function(){this.s.pool.unref()},E.prototype.isConnected=function(){return!!this.s.pool&&this.s.pool.isConnected()},E.prototype.isDestroyed=function(){return!!this.s.pool&&this.s.pool.isDestroyed()},E.prototype.command=function(e,t,n,i){\"function\"==typeof n&&(i=n,n=(n={})||{});var o=function(e,t){if(I(e),t.readPreference&&!(t.readPreference instanceof s))throw new Error(\"readPreference must be an instance of ReadPreference\")}(this,n);if(o)return i(o);if(n=y({},n,{wireProtocolCommand:!1}),this.s.logger.isDebug()&&this.s.logger.debug(r(\"executing command [%s] against %s\",JSON.stringify({ns:e,cmd:t,options:c(x,n)}),this.name)),!C(this,\"command\",e,t,n,i)){if(this.ismaster&&this.ismaster.maxWireVersion<5&&t.collation)return i(new d(r(\"server %s does not support collation\",this.name)));\"boolean\"==typeof n.checkKeys&&n.checkKeys,\"boolean\"==typeof n.serializeFunctions&&n.serializeFunctions,\"boolean\"==typeof n.ignoreUndefined&&n.ignoreUndefined;var a=n.topology||{},l=this.wireProtocolHandler.command(this.s.bson,e,t,{},a,n);l.slaveOk=!!n.readPreference&&n.readPreference.slaveOk();var p={raw:\"boolean\"==typeof n.raw&&n.raw,promoteLongs:\"boolean\"!=typeof n.promoteLongs||n.promoteLongs,promoteValues:\"boolean\"!=typeof n.promoteValues||n.promoteValues,promoteBuffers:\"boolean\"==typeof n.promoteBuffers&&n.promoteBuffers,command:!0,monitoring:\"boolean\"==typeof n.monitoring&&n.monitoring,fullResult:\"boolean\"==typeof n.fullResult&&n.fullResult,requestId:l.requestId,socketTimeout:\"number\"==typeof n.socketTimeout?n.socketTimeout:null};this.s.pool.write(l,p,i)}},E.prototype.insert=function(e,t,n,i){\"function\"==typeof n&&(i=n,n=(n={})||{});var r=I(this);return r?i(r):C(this,\"insert\",e,t,n,i)?void 0:(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.insert(this.s.pool,this.ismaster,e,this.s.bson,t,n,i))},E.prototype.update=function(e,t,n,i){\"function\"==typeof n&&(i=n,n=(n={})||{});var o=I(this);return o?i(o):C(this,\"update\",e,t,n,i)?void 0:this.ismaster&&this.ismaster.maxWireVersion<5&&n.collation?i(new d(r(\"server %s does not support collation\",this.name))):(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.update(this.s.pool,this.ismaster,e,this.s.bson,t,n,i))},E.prototype.remove=function(e,t,n,i){\"function\"==typeof n&&(i=n,n=(n={})||{});var o=I(this);return o?i(o):C(this,\"remove\",e,t,n,i)?void 0:this.ismaster&&this.ismaster.maxWireVersion<5&&n.collation?i(new d(r(\"server %s does not support collation\",this.name))):(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.remove(this.s.pool,this.ismaster,e,this.s.bson,t,n,i))},E.prototype.cursor=function(e,t,n){var i=this.s;return new((n=n||{}).cursorFactory||i.Cursor)(i.bson,e,t,n,this,i.options)},E.prototype.logout=function(e,t){this.s.pool.logout(e,t)},E.prototype.auth=function(e,t){\"default\"==e&&this.ismaster&&this.ismaster.maxWireVersion>=3?e=\"scram-sha-1\":\"default\"==e&&(e=\"mongocr\");var n=Array.prototype.slice.call(arguments,0);n[0]=e;var i=n[n.length-1];if(!C(this,\"auth\",t,n,{},i))return this.lastIsMaster()&&this.lastIsMaster().arbiterOnly?i(null,!0):void this.s.pool.auth.apply(this.s.pool,n)},E.prototype.equals=function(e){return\"string\"==typeof e?this.name.toLowerCase()==e.toLowerCase():!!e.name&&this.name.toLowerCase()==e.name.toLowerCase()},E.prototype.connections=function(){return this.s.pool.allConnections()},E.prototype.getServer=function(){return this},E.prototype.getConnection=function(){return this.s.pool.get()};var T=[\"close\",\"error\",\"timeout\",\"parseError\",\"connect\"];E.prototype.destroy=function(e){e=e||{};var t=this;S&&delete k[this.id],this.monitoringProcessId&&clearTimeout(this.monitoringProcessId),t.s.pool&&(e.emitClose&&t.emit(\"close\",t),e.emitDestroy&&t.emit(\"destroy\",t),T.forEach(function(e){t.s.pool.removeAllListeners(e)}),t.listeners(\"serverClosed\").length>0&&t.emit(\"serverClosed\",{topologyId:-1!=t.s.topologyId?t.s.topologyId:t.id,address:t.name}),t.listeners(\"topologyClosed\").length>0&&!t.s.inTopology&&t.emit(\"topologyClosed\",{topologyId:t.id}),t.s.logger.isDebug()&&t.s.logger.debug(r(\"destroy called on server %s\",t.name)),this.s.pool.destroy(e.force))},e.exports=E},function(e,t,n){\"use strict\";var i=n(0).format,r=n(52),o=n(5).Query,s=n(4),a=function(e,t,n,i){this.db=e,this.username=t,this.password=n,this.options=i};a.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var c=null,l=null;try{c=r(\"kerberos\").Kerberos,l=r(\"kerberos\").processes.MongoAuthProcess}catch(e){}var p=function(e){this.bson=e,this.authStore=[]};p.prototype.auth=function(e,t,n,r,o,l,p){var f=this;if(null==c)return p(new Error(\"Kerberos library is not installed\"));var m=l.gssapiServiceName||\"mongodb\",h=t.length;if(0==h)return p(null,null);for(var v=0,g=null;t.length>0;){!function(t){process.nextTick(function(){!function(t){u(f,r,o,m,e,t,l,function(e,t){h-=1,e?g=e:t&&\"object\"==typeof t&&t.result.$err?g=t.result:t&&\"object\"==typeof t&&t.result.errmsg?g=t.result:v+=1,0==h&&v>0?(d(f.authStore,new a(n,r,o,l)),p(null,!0)):0==h&&(null==g&&(g=new s(i(\"failed to authenticate using mongocr\"))),p(g,!1))})}(t)})}(t.shift())}};var u=function(e,t,n,i,r,s,a,c){var p=new l(s.host,s.port,i,a);r(s,new o(e.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"GSSAPI\",payload:\"\",autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(i,a){if(i)return c(i,!1);var l=a.result;p.init(t,n,function(t){if(t)return c(t);p.transition(l.payload,function(t,n){if(t)return c(t);var i={saslContinue:1,conversationId:l.conversationId,payload:n};r(s,new o(e.bson,\"$external.$cmd\",i,{numberToSkip:0,numberToReturn:1}),function(t,n){if(t)return c(t,!1);var i=n.result;p.transition(i.payload,function(t,n){if(t)return c(t);var a={saslContinue:1,conversationId:i.conversationId,payload:n};r(s,new o(e.bson,\"$external.$cmd\",a,{numberToSkip:0,numberToReturn:1}),function(t,n){if(t)return c(t,!1);var i=n.result;p.transition(i.payload,function(t,n){var a={saslContinue:1,conversationId:i.conversationId,payload:n};r(s,new o(e.bson,\"$external.$cmd\",a,{numberToSkip:0,numberToReturn:1}),function(e,t){return e?c(e,!1):t.result.done?c(null,!0):void c(new Error(\"Authentication failed\"),!1)})})})})})})})})},d=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].equal(t)){n=!0;break}n||e.push(t)};p.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!=e})},p.prototype.reauthenticate=function(e,t,n){var i=this.authStore.slice(0),r=i.length;if(0==r)return n(null,null);for(var o=0;o<i.length;o++)this.auth(e,t,i[o].db,i[o].username,i[o].password,i[o].options,function(e){0==(r-=1)&&n(e,null)})},e.exports=p},function(e,t,n){\"use strict\";var i=n(4),r=function(e,t,n,r,o,s){if(null==r)throw new i(\"ns must be specified for query\");if(!Array.isArray(o)||0==o.length)throw new i(\"documents array must contain at least one document to insert\");if(~r.indexOf(\"\\0\"))throw new i(\"namespace cannot contain a null character\");this.requestId=e,this.bson=n,this.ns=r,this.documents=o,this.ismaster=t,s=s||{},this.serializeFunctions=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined,this.checkKeys=\"boolean\"!=typeof s.checkKeys||s.checkKeys,this.continueOnError=\"boolean\"==typeof s.continueOnError&&s.continueOnError,this.flags=this.continueOnError?1:0};r.prototype.toBin=function(){var e=[],t=new Buffer(20+Buffer.byteLength(this.ns)+1);e.push(t);for(var n=t.length,r=0;r<this.documents.length;r++){var o=this.bson.serialize(this.documents[r],{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(o.length>this.ismaster.maxBsonObjectSize)throw new i(\"Document exceeds maximum allowed bson size of \"+this.ismaster.maxBsonObjectSize+\" bytes\");n+=o.length,e.push(o)}if(n>this.ismaster.maxMessageSizeBytes)throw new i(\"Command exceeds maximum message size of \"+this.ismaster.maxMessageSizeBytes+\" bytes\");var s=0;return t[s+3]=n>>24&255,t[s+2]=n>>16&255,t[s+1]=n>>8&255,t[s]=255&n,t[(s+=4)+3]=this.requestId>>24&255,t[s+2]=this.requestId>>16&255,t[s+1]=this.requestId>>8&255,t[s]=255&this.requestId,t[(s+=4)+3]=0,t[s+2]=0,t[s+1]=0,t[s]=0,t[(s+=4)+3]=0,t[s+2]=0,t[s+1]=7,t[s]=210,t[(s+=4)+3]=this.flags>>24&255,t[s+2]=this.flags>>16&255,t[s+1]=this.flags>>8&255,t[s]=255&this.flags,t[(s=(s+=4)+t.write(this.ns,s,\"utf8\")+1)-1]=0,e};var o=function(e,t,n,r,o,s){if(null==r)throw new i(\"ns must be specified for query\");s=s||{},this.requestId=e,this.bson=n,this.ns=r,this.ismaster=t,this.serializeFunctions=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined,this.checkKeys=\"boolean\"==typeof s.checkKeys&&s.checkKeys,this.upsert=\"boolean\"==typeof o[0].upsert&&o[0].upsert,this.multi=\"boolean\"==typeof o[0].multi&&o[0].multi,this.q=o[0].q,this.u=o[0].u,this.flags=this.upsert?1:0,this.flags=this.multi?2|this.flags:this.flags};o.prototype.toBin=function(){var e=[],t=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(t);var n=t.length,i=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(i),n+=i.length;var r=this.bson.serialize(this.u,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(r),n+=r.length;var o=0;return t[o+3]=n>>24&255,t[o+2]=n>>16&255,t[o+1]=n>>8&255,t[o]=255&n,t[(o+=4)+3]=this.requestId>>24&255,t[o+2]=this.requestId>>16&255,t[o+1]=this.requestId>>8&255,t[o]=255&this.requestId,t[(o+=4)+3]=0,t[o+2]=0,t[o+1]=0,t[o]=0,t[(o+=4)+3]=0,t[o+2]=0,t[o+1]=7,t[o]=209,t[(o+=4)+3]=0,t[o+2]=0,t[o+1]=0,t[o]=0,t[(o=(o+=4)+t.write(this.ns,o,\"utf8\")+1)-1]=0,t[o+3]=this.flags>>24&255,t[o+2]=this.flags>>16&255,t[o+1]=this.flags>>8&255,t[o]=255&this.flags,o+=4,e};var s=function(e,t,n,r,o,s){if(null==r)throw new i(\"ns must be specified for query\");s=s||{},this.requestId=e,this.bson=n,this.ns=r,this.ismaster=t,this.serializeFunctions=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined,this.checkKeys=\"boolean\"==typeof s.checkKeys&&s.checkKeys,this.limit=\"number\"==typeof o[0].limit?o[0].limit:1,this.q=o[0].q,this.flags=1==this.limit?1:0};s.prototype.toBin=function(){var e=[],t=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(t);var n=t.length,i=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(i),n+=i.length;var r=0;return t[r+3]=n>>24&255,t[r+2]=n>>16&255,t[r+1]=n>>8&255,t[r]=255&n,t[(r+=4)+3]=this.requestId>>24&255,t[r+2]=this.requestId>>16&255,t[r+1]=this.requestId>>8&255,t[r]=255&this.requestId,t[(r+=4)+3]=0,t[r+2]=0,t[r+1]=0,t[r]=0,t[(r+=4)+3]=0,t[r+2]=0,t[r+1]=7,t[r]=214,t[(r+=4)+3]=0,t[r+2]=0,t[r+1]=0,t[r]=0,t[(r=(r+=4)+t.write(this.ns,r,\"utf8\")+1)-1]=0,t[r+3]=this.flags>>24&255,t[r+2]=this.flags>>16&255,t[r+1]=this.flags>>8&255,t[r]=255&this.flags,r+=4,e},e.exports={Insert:r,Update:o,Remove:s}},function(e,t,n){\"use strict\";var i=n(36),r=n(4);e.exports={getReadPreference:function(e,t){var n=e.readPreference||new i(\"primary\");if(t.readPreference&&(n=t.readPreference),\"string\"==typeof n&&(n=new i(n)),!(n instanceof i))throw new r(\"readPreference must be a ReadPreference instance\");return n}}},function(e,t,n){\"use strict\";!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?e.exports=function(e,t,n,i){if(\"function\"!=typeof e)throw new TypeError('\"callback\" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,i)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return process.nextTick(function(){e.apply(null,r)})}}:e.exports=process.nextTick},function(e,t,n){\"use strict\";var i=n(13),r=i.Buffer,o=i.SlowBuffer,s=i.kMaxLength||2147483647;t.alloc=function(e,t,n){if(\"function\"==typeof r.alloc)return r.alloc(e,t,n);if(\"number\"==typeof n)throw new TypeError(\"encoding must not be number\");if(\"number\"!=typeof e)throw new TypeError(\"size must be a number\");if(e>s)throw new RangeError(\"size is too large\");var i=n,o=t;void 0===o&&(i=void 0,o=0);var a=new r(e);if(\"string\"==typeof o)for(var c=new r(o,i),l=c.length,p=-1;++p<e;)a[p]=c[p%l];else a.fill(o);return a},t.allocUnsafe=function(e){if(\"function\"==typeof r.allocUnsafe)return r.allocUnsafe(e);if(\"number\"!=typeof e)throw new TypeError(\"size must be a number\");if(e>s)throw new RangeError(\"size is too large\");return new r(e)},t.from=function(e,t,n){if(\"function\"==typeof r.from&&(!global.Uint8Array||Uint8Array.from!==r.from))return r.from(e,t,n);if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');if(\"string\"==typeof e)return new r(e,t);if(\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=t;if(1===arguments.length)return new r(e);void 0===i&&(i=0);var o=n;if(void 0===o&&(o=e.byteLength-i),i>=e.byteLength)throw new RangeError(\"'offset' is out of bounds\");if(o>e.byteLength-i)throw new RangeError(\"'length' is out of bounds\");return new r(e.slice(i,i+o))}if(r.isBuffer(e)){var s=new r(e.length);return e.copy(s,0,0,e.length),s}if(e){if(Array.isArray(e)||\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return new r(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return new r(e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")},t.allocUnsafeSlow=function(e){if(\"function\"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(e);if(\"number\"!=typeof e)throw new TypeError(\"size must be a number\");if(e>=s)throw new RangeError(\"size is too large\");return new o(e)}},function(e,t,n){\"use strict\";var i=n(111),r=n(1),o=n(1).toError,s=n(1).handleCallback,a=r.shallowClone,c=i.BulkWriteResult,l=n(2).BSON.ObjectID,p=n(10),u=n(2).BSON,d=i.Batch,f=i.mergeBatchResults,m=new u([u.Binary,u.Code,u.DBRef,u.Decimal128,u.Double,u.Int32,u.Long,u.Map,u.MaxKey,u.MinKey,u.ObjectId,u.BSONRegExp,u.Symbol,u.Timestamp]),h=function(e){this.s=e.s};h.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,n={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,v(this,i.UPDATE,n)},h.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,n={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,v(this,i.UPDATE,n)},h.prototype.replaceOne=function(e){this.updateOne(e)},h.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},h.prototype.deleteOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,v(this,i.REMOVE,e)},h.prototype.removeOne=h.prototype.deleteOne,h.prototype.delete=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,v(this,i.REMOVE,e)},h.prototype.remove=h.prototype.delete;var v=function(e,t,n){var r=m.calculateObjectSize(n,{checkKeys:!1});if(r>=e.s.maxBatchSizeBytes)throw o(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(null==e.s.currentBatch&&(e.s.currentBatch=new d(t,e.s.currentIndex)),e.s.currentBatchSize+1>=e.s.maxWriteBatchSize||e.s.currentBatchSizeBytes+e.s.currentBatchSizeBytes>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t?(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new d(t,e.s.currentIndex),e.s.currentBatchSize=0,e.s.currentBatchSizeBytes=0):(e.s.currentBatchSize=e.s.currentBatchSize+1,e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+r),t==i.INSERT&&e.s.bulkResult.insertedIds.push({index:e.s.currentIndex,_id:n._id}),Array.isArray(n))throw o(\"operation passed in cannot be an Array\");return e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentBatch.operations.push(n),e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+r,e.s.currentIndex=e.s.currentIndex+1,e};function g(e,t,r){r=null==r?{}:r;var o=e.bson,s=t.collectionName,c=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,l=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,p=i.writeConcern(a(r),t,r),u=r.promiseLibrary;u||(u=\"function\"==typeof global.Promise?global.Promise:n(6).Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentBatch:null,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,batches:[],writeConcern:p,maxBatchSizeBytes:c,maxWriteBatchSize:l,namespace:s,bson:o,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:u,err:null,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}}var y=g.define=new p(\"OrderedBulkOperation\",g,!1);g.prototype.raw=function(e){var t=Object.keys(e)[0],n=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,v(this,i.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var r=!e.updateOne&&!e.replaceOne,s={q:e[t].filter,u:e[t].update||e[t].replacement,multi:r};return s.upsert=!!e[t].upsert,e.collation&&(s.collation=e.collation),v(this,i.UPDATE,s)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,v(this,i.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var a=e.deleteOne?1:0;return s={q:e[t].filter,limit:a},e.collation&&(s.collation=e.collation),v(this,i.REMOVE,s)}if(e.insertOne&&null==e.insertOne.document)return!0!==n&&null==e.insertOne._id&&(e.insertOne._id=new l),v(this,i.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==n&&null==e.insertOne.document._id&&(e.insertOne.document._id=new l),v(this,i.INSERT,e.insertOne.document);if(!e.insertMany)throw o(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var c=0;c<e.insertMany.length;c++)!0!==n&&null==e.insertMany[c]._id&&(e.insertMany[c]._id=new l),v(this,i.INSERT,e.insertMany[c])},g.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new l),v(this,i.INSERT,e)},g.prototype.find=function(e){if(!e)throw o(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new h(this)},Object.defineProperty(g.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}});var b=function(e,t){if(0==e.s.batches.length)return s(t,null,new c(e.s.bulkResult));var n=e.s.batches.shift(),r=function(i,r){return i&&i.driver||i&&i.message?s(t,i):(i&&(i.ok=0),null!=f(!0,n,e.s.bulkResult,i,r)?s(t,null,new c(e.s.bulkResult)):e.s.bulkResult.writeErrors.length>0?s(t,o(e.s.bulkResult.writeErrors[0]),new c(e.s.bulkResult)):void b(e,t))},a={ordered:!0};null!=e.s.writeConcern&&(a.writeConcern=e.s.writeConcern),e.operationId&&(r.operationId=e.operationId),e.s.options.serializeFunctions&&(a.serializeFunctions=!0),e.s.options.ignoreUndefined&&(a.ignoreUndefined=!0),1==e.s.bypassDocumentValidation&&(a.bypassDocumentValidation=!0);try{n.batchType==i.INSERT?e.s.topology.insert(e.s.collection.namespace,n.operations,a,r):n.batchType==i.UPDATE?e.s.topology.update(e.s.collection.namespace,n.operations,a,r):n.batchType==i.REMOVE&&e.s.topology.remove(e.s.collection.namespace,n.operations,a,r)}catch(i){i.ok=0,s(t,null,f(!1,n,e.s.bulkResult,i,null))}};g.prototype.execute=function(e,t){var n=this;if(this.s.executed){var i=o(\"batch cannot be re-executed\");return\"function\"==typeof t?t(i,null):this.s.promiseLibrary.reject(i)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentBatch&&this.s.batches.push(this.s.currentBatch),0==this.s.batches.length){var r=o(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(r,null):this.s.promiseLibrary.reject(r)}return\"function\"==typeof t?b(this,t):new this.s.promiseLibrary(function(e,t){b(n,function(n,i){if(n)return t(n);e(i)})})},y.classMethod(\"execute\",{callback:!0,promise:!1});var x=function(e,t,n){return new g(e,t,n)};x.OrderedBulkOperation=g,e.exports=x,e.exports.Bulk=g},function(e,t,n){\"use strict\";var i=n(111),r=n(1),o=n(1).toError,s=n(1).handleCallback,a=r.shallowClone,c=i.BulkWriteResult,l=n(2).BSON.ObjectID,p=n(2).BSON,u=n(10),d=i.Batch,f=i.mergeBatchResults,m=new p([p.Binary,p.Code,p.DBRef,p.Decimal128,p.Double,p.Int32,p.Long,p.Map,p.MaxKey,p.MinKey,p.ObjectId,p.BSONRegExp,p.Symbol,p.Timestamp]),h=function(e){this.s=e.s};h.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,n={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,v(this,i.UPDATE,n)},h.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,n={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,v(this,i.UPDATE,n)},h.prototype.replaceOne=function(e){this.updateOne(e)},h.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},h.prototype.removeOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,v(this,i.REMOVE,e)},h.prototype.remove=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,v(this,i.REMOVE,e)};var v=function(e,t,n){var r=m.calculateObjectSize(n,{checkKeys:!1});if(r>=e.s.maxBatchSizeBytes)throw o(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(e.s.currentBatch=null,t==i.INSERT?e.s.currentBatch=e.s.currentInsertBatch:t==i.UPDATE?e.s.currentBatch=e.s.currentUpdateBatch:t==i.REMOVE&&(e.s.currentBatch=e.s.currentRemoveBatch),null==e.s.currentBatch&&(e.s.currentBatch=new d(t,e.s.currentIndex)),(e.s.currentBatch.size+1>=e.s.maxWriteBatchSize||e.s.currentBatch.sizeBytes+r>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t)&&(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new d(t,e.s.currentIndex)),Array.isArray(n))throw o(\"operation passed in cannot be an Array\");return e.s.currentBatch.operations.push(n),e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentIndex=e.s.currentIndex+1,t==i.INSERT?(e.s.currentInsertBatch=e.s.currentBatch,e.s.bulkResult.insertedIds.push({index:e.s.bulkResult.insertedIds.length,_id:n._id})):t==i.UPDATE?e.s.currentUpdateBatch=e.s.currentBatch:t==i.REMOVE&&(e.s.currentRemoveBatch=e.s.currentBatch),e.s.currentBatch.size=e.s.currentBatch.size+1,e.s.currentBatch.sizeBytes=e.s.currentBatch.sizeBytes+r,e},g=function(e,t,r){r=null==r?{}:r;var o=t.collectionName,s=e.bson,c=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,l=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,p=i.writeConcern(a(r),t,r),u=r.promiseLibrary;u||(u=\"function\"==typeof global.Promise?global.Promise:n(6).Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentInsertBatch:null,currentUpdateBatch:null,currentRemoveBatch:null,currentBatch:null,currentIndex:0,batches:[],writeConcern:p,maxBatchSizeBytes:c,maxWriteBatchSize:l,namespace:o,bson:s,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:u,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}},y=g.define=new u(\"UnorderedBulkOperation\",g,!1);g.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new l),v(this,i.INSERT,e)},g.prototype.find=function(e){if(!e)throw o(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new h(this)},Object.defineProperty(g.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}}),g.prototype.raw=function(e){var t=Object.keys(e)[0],n=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,v(this,i.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var r=!e.updateOne&&!e.replaceOne,s={q:e[t].filter,u:e[t].update||e[t].replacement,multi:r};return e[t].upsert&&(s.upsert=!0),v(this,i.UPDATE,s)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,v(this,i.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var a=e.deleteOne?1:0;return s={q:e[t].filter,limit:a},v(this,i.REMOVE,s)}if(e.insertOne&&null==e.insertOne.document)return!0!==n&&null==e.insertOne._id&&(e.insertOne._id=new l),v(this,i.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==n&&null==e.insertOne.document._id&&(e.insertOne.document._id=new l),v(this,i.INSERT,e.insertOne.document);if(!e.insertMany)throw o(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var c=0;c<e.insertMany.length;c++)!0!==n&&null==e.insertMany[c]._id&&(e.insertMany[c]._id=new l),v(this,i.INSERT,e.insertMany[c])};var b=function(e,t,n){var r={ordered:!1};null!=e.s.writeConcern&&(r.writeConcern=e.s.writeConcern);var o=function(i,r){if(i&&i.driver||i&&i.message)return s(n,i);i&&(i.ok=0),s(n,null,f(!1,t,e.s.bulkResult,i,r))};e.operationId&&(o.operationId=e.operationId),e.s.options.serializeFunctions&&(r.serializeFunctions=!0),1==e.s.bypassDocumentValidation&&(r.bypassDocumentValidation=!0);try{t.batchType==i.INSERT?e.s.topology.insert(e.s.collection.namespace,t.operations,r,o):t.batchType==i.UPDATE?e.s.topology.update(e.s.collection.namespace,t.operations,r,o):t.batchType==i.REMOVE&&e.s.topology.remove(e.s.collection.namespace,t.operations,r,o)}catch(i){i.ok=0,s(n,null,f(!1,t,e.s.bulkResult,i,null))}},x=function(e,t){for(var n=e.s.batches.length,i=0;i<e.s.batches.length;i++)b(e,e.s.batches[i],function(i){if(i&&(r=i),0==(n-=1)){if(r)return s(t,r);var r=e.s.bulkResult.writeErrors.length>0?o(e.s.bulkResult.writeErrors[0]):null;s(t,r,new c(e.s.bulkResult))}})};g.prototype.execute=function(e,t){var n=this;if(this.s.executed){var i=o(\"batch cannot be re-executed\");return\"function\"==typeof t?t(i,null):this.s.promiseLibrary.reject(i)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch),0==this.s.batches.length){var r=o(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(r,null):this.s.promiseLibrary.reject(r)}return\"function\"==typeof t?x(this,t):new this.s.promiseLibrary(function(e,t){x(n,function(n,i){if(n)return t(n);e(i)})})},y.classMethod(\"execute\",{callback:!0,promise:!1});var w=function(e,t,n){return new g(e,t,n)};w.UnorderedBulkOperation=g,e.exports=w,e.exports.Bulk=g},function(e,t,n){\"use strict\";var i=n(3).EventEmitter,r=n(79),o=n(0).inherits,s=n(1).getSingleProperty,a=n(1).shallowClone,c=n(1).parseIndexOptions,l=n(1).debugOptions,p=n(23),u=n(1).handleCallback,d=n(1).filterOptions,f=n(1).toError,m=n(15),h=n(0).format,v=n(114),g=n(2).BSON.Code,y=n(2).ReadPreference,b=n(2).MongoError,x=n(2).ObjectID,w=n(10),S=n(2).Logger,k=n(62),O=n(20),E=n(1).mergeOptionsAndWriteConcern,C=n(1).assign,_=[\"authSource\",\"w\",\"wtimeout\",\"j\",\"native_parser\",\"forceServerObjectId\",\"serializeFunctions\",\"raw\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"bufferMaxEntries\",\"numberOfRetries\",\"retryMiliSeconds\",\"readPreference\",\"pkFactory\",\"parentDb\",\"promiseLibrary\",\"noListener\"],I=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"autoIndexId\",\"strict\",\"serializeFunctions\",\"pkFactory\",\"raw\",\"readPreference\"],T=[\"w\",\"wtimeout\",\"fsync\",\"j\",\"readPreference\",\"readPreferenceTags\",\"native_parser\",\"forceServerObjectId\",\"pkFactory\",\"serializeFunctions\",\"raw\",\"bufferMaxEntries\",\"authSource\",\"ignoreUndefined\",\"promoteLongs\",\"promiseLibrary\",\"readConcern\",\"retryMiliSeconds\",\"numberOfRetries\",\"parentDb\",\"noListener\",\"loggerLevel\",\"logger\",\"promoteBuffers\",\"promoteLongs\",\"promoteValues\"],N=function(e,t,r){if(r=r||{},!(this instanceof N))return new N(e,t,r);i.call(this);var o=r.promiseLibrary;o||(o=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),(r=d(r,T)).promiseLibrary=o,this.s={databaseName:e,dbCache:{},children:[],topology:t,options:r,logger:S(\"Db\",r),bson:t?t.bson:null,authSource:r.authSource,readPreference:r.readPreference,bufferMaxEntries:\"number\"==typeof r.bufferMaxEntries?r.bufferMaxEntries:-1,parentDb:r.parentDb||null,pkFactory:r.pkFactory||x,nativeParser:r.nativeParser||r.native_parser,promiseLibrary:o,noListener:\"boolean\"==typeof r.noListener&&r.noListener,readConcern:r.readConcern},W(this.s.databaseName),s(this,\"serverConfig\",this.s.topology),s(this,\"bufferMaxEntries\",this.s.bufferMaxEntries),s(this,\"databaseName\",this.s.databaseName),r.parentDb||this.s.noListener||(t.on(\"error\",G(this,\"error\",this)),t.on(\"timeout\",G(this,\"timeout\",this)),t.on(\"close\",G(this,\"close\",this)),t.on(\"parseError\",G(this,\"parseError\",this)),t.once(\"open\",G(this,\"open\",this)),t.once(\"fullsetup\",G(this,\"fullsetup\",this)),t.once(\"all\",G(this,\"all\",this)),t.on(\"reconnect\",G(this,\"reconnect\",this)),t.on(\"reconnectFailed\",G(this,\"reconnectFailed\",this)))};o(N,i);var A=N.define=new w(\"Db\",N,!1);Object.defineProperty(N.prototype,\"topology\",{enumerable:!0,get:function(){return this.s.topology}}),Object.defineProperty(N.prototype,\"options\",{enumerable:!0,get:function(){return this.s.options}}),Object.defineProperty(N.prototype,\"slaveOk\",{enumerable:!0,get:function(){return null!=this.s.options.readPreference&&(\"primary\"!=this.s.options.readPreference||\"primary\"!=this.s.options.readPreference.mode)}}),Object.defineProperty(N.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}});var M=function(e,t){e.s.topology.connect(e,e.s.options,function(n){if(null!=t){var i=t;if(n)return e.close(),i(n);i(null,e)}})};N.prototype.open=function(e){var t=this;return\"function\"==typeof e?M(t,e):new t.s.promiseLibrary(function(e,n){M(t,function(t,i){if(t)return n(t);e(i)})})},A.classMethod(\"open\",{callback:!0,promise:!0});var B=function(e){if(e&&\"string\"==typeof e)return new y(e);if(e instanceof m)return new y(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds});if(e&&\"object\"==typeof e){var t=e.mode||e.preference;t&&\"string\"==typeof t&&(e=new y(t,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}))}return e},j=function(e,t,n,i){if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new b(\"topology was destroyed\"));var r=n.dbName||n.authdb||e.s.databaseName;null==n.readPreference&&e.s.readPreference&&(n.readPreference=e.s.readPreference),n.readPreference?n.readPreference=B(n.readPreference):n.readPreference=y.primary,e.s.logger.isDebug()&&e.s.logger.debug(h(\"executing command %s against %s with options [%s]\",JSON.stringify(t),h(\"%s.$cmd\",r),JSON.stringify(l(_,n)))),e.s.topology.command(h(\"%s.$cmd\",r),t,n,function(e,t){return e?u(i,e):n.full?u(i,null,t):void u(i,null,t.result)})};N.prototype.command=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=a(t),\"function\"==typeof n?j(i,e,t,n):new this.s.promiseLibrary(function(n,r){j(i,e,t,function(e,t){if(e)return r(e);n(t)})})},A.classMethod(\"command\",{callback:!0,promise:!0}),N.prototype.close=function(e,t){\"function\"==typeof e&&(t=e,e=!1),this.s.topology.close(e);if(this.listeners(\"close\").length>0){if(this.emit(\"close\"),null==this.parentDb)for(var n=0;n<this.s.children.length;n++)this.s.children[n].emit(\"close\");this.removeAllListeners(\"close\")}return this.s.parentDb&&this.s.parentDb.close(),\"function\"==typeof t?process.nextTick(function(){u(t,null)}):new this.s.promiseLibrary(function(e){e()})},A.classMethod(\"close\",{callback:!0,promise:!0}),N.prototype.admin=function(){return new v(this,this.s.topology,this.s.promiseLibrary)},A.classMethod(\"admin\",{callback:!1,promise:!1,returns:[v]});var P=[\"pkFactory\",\"readPreference\",\"serializeFunctions\",\"strict\",\"readConcern\",\"ignoreUndefined\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\"];function D(e,t,n){if(t.s.topology.capabilities().commandsTakeWriteConcern){var i=Y(a(n),t,n);i.writeConcern&&(e.writeConcern=i.writeConcern)}}N.prototype.collection=function(e,t,n){var i=this;if(\"function\"==typeof t&&(n=t,t={}),(t=a(t=t||{})).promiseLibrary=this.s.promiseLibrary,t.readConcern=t.readConcern||this.s.readConcern,this.s.options.ignoreUndefined&&(t.ignoreUndefined=this.s.options.ignoreUndefined),null==(t=E(t,this.s.options,P,!0))||!t.strict)try{var r=new k(this,this.s.topology,this.s.databaseName,e,this.s.pkFactory,t);return n&&n(null,r),r}catch(e){if(n)return n(e);throw e}if(\"function\"!=typeof n)throw f(h(\"A callback is required in strict mode. While getting collection %s.\",e));if(i.serverConfig&&i.serverConfig.isDestroyed())return n(new b(\"topology was destroyed\"));this.listCollections({name:e},t).toArray(function(r,o){if(null!=r)return u(n,r,null);if(0==o.length)return u(n,f(h(\"Collection %s does not exist. Currently in strict mode.\",e)),null);try{return u(n,null,new k(i,i.s.topology,i.s.databaseName,e,i.s.pkFactory,t))}catch(r){return u(n,r,null)}})},A.classMethod(\"collection\",{callback:!0,promise:!1,returns:[k]});var R=function(e,t,n,i){var r=Y(a(n),e,n);if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new b(\"topology was destroyed\"));e.listCollections({name:t}).setReadPreference(m.PRIMARY).toArray(function(o,s){if(null!=o)return u(i,o,null);if(s.length>0&&r.strict)return u(i,b.create({message:h(\"Collection %s already exists. Currently in strict mode.\",t),driver:!0}),null);if(s.length>0)try{return u(i,null,new k(e,e.s.topology,e.s.databaseName,t,e.s.pkFactory,n))}catch(o){return u(i,o)}var a={create:t};for(var c in D(a,e,n),n)null!=n[c]&&\"function\"!=typeof n[c]&&-1==I.indexOf(c)&&(a[c]=n[c]);r.readPreference=m.PRIMARY,e.command(a,r,function(r){if(r)return u(i,r);u(i,null,new k(e,e.s.topology,e.s.databaseName,t,e.s.pkFactory,n))})})};N.prototype.createCollection=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=r.pop())&&r.push(n),e=r.length?r.shift():null,(t=r.length&&r.shift()||{}).promiseLibrary=t.promiseLibrary||this.s.promiseLibrary,\"string\"==typeof n&&(e=n),\"function\"==typeof n?R(i,e,t,n):new this.s.promiseLibrary(function(n,r){R(i,e,t,function(e,t){if(e)return r(e);n(t)})})},A.classMethod(\"createCollection\",{callback:!0,promise:!0}),N.prototype.stats=function(e,t){\"function\"==typeof e&&(t=e,e={});var n={dbStats:!0};return null!=(e=e||{}).scale&&(n.scale=e.scale),null==e.readPreference&&this.s.readPreference&&(e.readPreference=this.s.readPreference),this.command(n,e,t)},A.classMethod(\"stats\",{callback:!0,promise:!0});N.prototype.listCollections=function(e,t){if(e=e||{},(t=a(t=t||{})).promiseLibrary=this.s.promiseLibrary,t.readPreference?t.readPreference=B(t.readPreference):t.readPreference=this.s.readPreference||y.primary,this.serverConfig.capabilities().hasListCollectionsCommand){var n=t.batchSize?{batchSize:t.batchSize}:{},i={listCollections:!0,filter:e,cursor:n};return t.cursorFactory=p,n=this.s.topology.cursor(h(\"%s.$cmd\",this.s.databaseName),i,t),t.readPreference&&n.setReadPreference(t.readPreference),n}this.serverConfig.capabilities().hasListCollectionsCommand||\"string\"!=typeof e.name||new RegExp(\"^\"+this.databaseName+\"\\\\.\").test(e.name)||((e=a(e)).name=h(\"%s.%s\",this.s.databaseName,e.name)),null==e&&(e.name=h(\"/%s/\",this.s.databaseName)),e=e.name?{$and:[{name:e.name},{name:/^((?!\\$).)*$/}]}:{name:/^((?!\\$).)*$/};var r={transforms:function(e){var t=h(\"%s.\",e);return{doc:function(e){var n=e.name.indexOf(t);return e.name&&0==n&&(e.name=e.name.substr(n+t.length)),e}}}(this.s.databaseName)};return n=this.collection(N.SYSTEM_NAMESPACE_COLLECTION).find(e,r),t.readPreference&&n.setReadPreference(t.readPreference),t.batchSize&&(n=n.batchSize(t.batchSize)),n},A.classMethod(\"listCollections\",{callback:!1,promise:!1,returns:[p]});var L=function(e,t,n,i,r){var o=t,s=[];if(e.serverConfig&&e.serverConfig.isDestroyed())return r(new b(\"topology was destroyed\"));o&&\"Code\"==o._bsontype||(o=new g(o)),null==n||Array.isArray(n)||\"function\"==typeof n?null!=n&&Array.isArray(n)&&\"function\"!=typeof n&&(s=n):s=[n];var a={$eval:o,args:s};i.nolock&&(a.nolock=i.nolock),i.readPreference=new y(m.PRIMARY),e.command(a,i,function(e,t){return e?u(r,e,null):t&&1==t.ok?u(r,null,t.retval):t?u(r,b.create({message:h(\"eval failed: %s\",t.errmsg),driver:!0}),null):void u(r,e,t)})};N.prototype.eval=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(i=o.pop())&&o.push(i),t=o.length?o.shift():t,n=o.length&&o.shift()||{},\"function\"==typeof i?L(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){L(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})},A.classMethod(\"eval\",{callback:!0,promise:!0}),N.prototype.renameCollection=function(e,t,n,i){var r=this;return\"function\"==typeof n&&(i=n,n={}),(n=n||{}).new_collection=!0,\"function\"==typeof i?this.collection(e).rename(t,n,i):new this.s.promiseLibrary(function(i,o){r.collection(e).rename(t,n,function(e,t){if(e)return o(e);i(t)})})},A.classMethod(\"renameCollection\",{callback:!0,promise:!0}),N.prototype.dropCollection=function(e,t,n){var i=this;\"function\"==typeof t&&(n=t,t={});var r={drop:e};return D(r,i,t=t||{}),t=C({},this.s.options,{readPreference:m.PRIMARY}),\"function\"==typeof n?this.command(r,t,function(e,t){return i.serverConfig&&i.serverConfig.isDestroyed()?n(new b(\"topology was destroyed\")):e?u(n,e):t.ok?u(n,null,!0):void u(n,null,!1)}):((t=a(i.s.options)).readPreference=m.PRIMARY,new this.s.promiseLibrary(function(e,n){i.command(r,t,function(t,r){return i.serverConfig&&i.serverConfig.isDestroyed()?n(new b(\"topology was destroyed\")):t?n(t):r.ok?e(!0):void e(!1)})}))},A.classMethod(\"dropCollection\",{callback:!0,promise:!0}),N.prototype.dropDatabase=function(e,t){var n=this;\"function\"==typeof e&&(t=e,e={});var i={dropDatabase:1};return D(i,n,e=e||{}),e=C({},this.s.options,{readPreference:m.PRIMARY}),\"function\"==typeof t?this.command(i,e,function(e,i){return n.serverConfig&&n.serverConfig.isDestroyed()?t(new b(\"topology was destroyed\")):null!=t?e?u(t,e,null):void u(t,null,!!i.ok):void 0}):new this.s.promiseLibrary(function(t,r){n.command(i,e,function(e,i){return n.serverConfig&&n.serverConfig.isDestroyed()?r(new b(\"topology was destroyed\")):e?r(e):i.ok?t(!0):void t(!1)})})},A.classMethod(\"dropDatabase\",{callback:!0,promise:!0});var z=function(e,t){e.listCollections().toArray(function(n,i){if(null!=n)return u(t,n,null);i=i.filter(function(e){return-1==e.name.indexOf(\"$\")}),u(t,null,i.map(function(t){return new k(e,e.s.topology,e.s.databaseName,t.name,e.s.pkFactory,e.s.options)}))})};N.prototype.collections=function(e){var t=this;return\"function\"==typeof e?z(t,e):new t.s.promiseLibrary(function(e,n){z(t,function(t,i){if(t)return n(t);e(i)})})},A.classMethod(\"collections\",{callback:!0,promise:!0}),N.prototype.executeDbAdminCommand=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=t||{},\"function\"==typeof n?(t.readPreference&&(t.readPreference=B(t.readPreference)),i.s.topology.command(\"admin.$cmd\",e,t,function(e,t){return i.serverConfig&&i.serverConfig.isDestroyed()?n(new b(\"topology was destroyed\")):e?u(n,e):void u(n,null,t.result)})):new i.s.promiseLibrary(function(n,r){i.s.topology.command(\"admin.$cmd\",e,t,function(e,t){return i.serverConfig&&i.serverConfig.isDestroyed()?r(new b(\"topology was destroyed\")):e?r(e):void n(t.result)})})},A.classMethod(\"executeDbAdminCommand\",{callback:!0,promise:!0}),N.prototype.createIndex=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length&&o.shift()||{},n=a(n=null==(n=\"function\"==typeof i?n:i)?{}:n),\"function\"==typeof i?q(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){q(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var q=function(e,t,n,i,r){var o=Y({},e,i,{readPreference:m.PRIMARY});if(o.writeConcern&&\"function\"!=typeof r)throw b.create({message:\"Cannot use a writeConcern without a provided callback\",driver:!0});if(i.readPreference=m.PRIMARY,e.serverConfig&&e.serverConfig.isDestroyed())return r(new b(\"topology was destroyed\"));V(e,t,n,i,function(s,a){if(null==s)return u(r,s,a);if(67===s.code||11e3==s.code||85===s.code||11600==s.code)return u(r,s,a);var c=$(e,t,n,i);o.checkKeys=!1,e.s.topology.insert(h(\"%s.%s\",e.s.databaseName,N.SYSTEM_INDEX_COLLECTION),c,o,function(e,t){if(null!=r)return e?u(r,e):null==t?u(r,null,null):t.result.writeErrors?u(r,b.create(t.result.writeErrors[0]),null):void u(r,null,c.name)})})};A.classMethod(\"createIndex\",{callback:!0,promise:!0}),N.prototype.ensureIndex=function(e,t,n,i){var r=this;return\"function\"==typeof n&&(i=n,n={}),n=n||{},\"function\"==typeof i?U(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){U(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})};var U=function(e,t,n,i,r){var o=Y({},e,i),s=$(e,t,n,i).name;if(e.serverConfig&&e.serverConfig.isDestroyed())return r(new b(\"topology was destroyed\"));o.readPreference=m.PRIMARY,e.indexInformation(t,o,function(o,a){if(null!=o&&26!=o.code)return u(r,o,null);if(null!=a&&a[s]){if(\"function\"==typeof r)return u(r,null,s)}else e.createIndex(t,n,i,r)})};A.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),N.prototype.addChild=function(e){if(this.s.parentDb)return this.s.parentDb.addChild(e);this.s.children.push(e)},N.prototype.db=function(e,t){t=t||{};var n=C({},this.options,t);if(this.s.dbCache[e]&&!0!==n.returnNonCachedInstance)return this.s.dbCache[e];null!=n.noListener&&0!=n.noListener||(n.parentDb=this),n.promiseLibrary=this.s.promiseLibrary;var i=new N(e,this.s.topology,n);return null!=n.noListener&&0!=n.noListener||this.addChild(i),this.s.dbCache[e]=i,i},A.classMethod(\"db\",{callback:!1,promise:!1,returns:[N]});var K=function(e,t,n,i,r){if(e.serverConfig&&e.serverConfig.isDestroyed())return r(new b(\"topology was destroyed\"));!function(e,t,n,i,r){if(\"string\"==typeof t&&null!=n&&\"object\"==typeof n&&(i=n,n=null),\"function\"==typeof i&&(r=i,i={}),null!=i.digestPassword)throw f(\"The digestPassword option is not supported via add_user. Please use db.command('createUser', ...) instead for this option.\");var o=null!=i.customData?i.customData:{},s=Array.isArray(i.roles)?i.roles:[],a=\"number\"==typeof i.maxTimeMS?i.maxTimeMS:null;0==s.length&&console.log(\"Creating a user without roles is deprecated in MongoDB >= 2.6\");var c={writeCommand:!0};i.dbName&&(c.dbName=i.dbName),null!=a&&(c.maxTimeMS=a),\"admin\"!=e.databaseName.toLowerCase()&&\"admin\"!=i.dbName||Array.isArray(i.roles)?Array.isArray(i.roles)||(s=[\"dbOwner\"]):s=[\"root\"];var l={createUser:t,customData:o,roles:s,digestPassword:!1};l=Y(l,e,i);var p=O.createHash(\"md5\");p.update(t+\":mongo:\"+n);var d=p.digest(\"hex\");\"string\"==typeof n&&(l.pwd=d),c.readPreference=m.primary,e.command(l,c,function(e,n){return e&&0==e.ok&&void 0==e.code?u(r,{code:-5e3},null):e?u(r,e,null):void u(r,n.ok?null:f(n),n.ok?[{user:t,pwd:\"\"}]:null)})}(e,t,n,i,function(o,s){if(o&&-5e3==o.code){var c=Y(a(i),e,i),l=O.createHash(\"md5\");l.update(t+\":mongo:\"+n);var p=l.digest(\"hex\"),d=(i.dbName?e.db(i.dbName):e).collection(N.SYSTEM_USER_COLLECTION);d.count({},function(e,n){if(null!=e)return u(r,e,null);d.find({user:t},{dbName:i.dbName}).toArray(function(e){if(null!=e)return u(r,e,null);c.upsert=!0,d.update({user:t},{$set:{user:t,pwd:p}},c,function(e){return 0==n&&e?u(r,null,[{user:t,pwd:p}]):e?u(r,e,null):void u(r,null,[{user:t,pwd:p}])})})})}else{if(o)return u(r,o);u(r,o,s)}})};N.prototype.addUser=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length&&o.shift()||{},\"function\"==typeof i?K(r,e,t,n,i):new this.s.promiseLibrary(function(i,o){K(r,e,t,n,function(e,t){if(e)return o(e);i(t)})})},A.classMethod(\"addUser\",{callback:!0,promise:!0});var F=function(e,t,n,i){!function(e,t,n,i){if(\"function\"==typeof n&&(i=n,n={}),e.serverConfig&&e.serverConfig.isDestroyed())return i(new b(\"topology was destroyed\"));var r={writeCommand:!0};n.dbName&&(r.dbName=n.dbName);var o=\"number\"==typeof n.maxTimeMS?n.maxTimeMS:null;null!=o&&(r.maxTimeMS=o);var s={dropUser:t};s=Y(s,e,n),r.readPreference=m.primary,e.command(s,r,function(e,t){return e&&!e.ok&&void 0==e.code?u(i,{code:-5e3}):e?u(i,e,null):void u(i,null,!!t.ok)})}(e,t,n,function(r,o){if(r&&-5e3==r.code){var s=Y(a(n),e,n),c=(n.dbName?e.db(n.dbName):e).collection(N.SYSTEM_USER_COLLECTION);c.findOne({user:t},{},function(e,n){if(null==n)return u(i,e,!1);c.remove({user:t},s,function(e){u(i,e,!0)})})}else{if(r)return u(i,r);u(i,r,o)}})};A.classMethod(\"removeUser\",{callback:!0,promise:!0}),N.prototype.removeUser=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=r.length&&r.shift()||{},\"function\"==typeof n?F(i,e,t,n):new this.s.promiseLibrary(function(n,r){F(i,e,t,function(e,t){if(e)return r(e);n(t)})})},N.prototype.authenticate=function(e,t,n,i){return console.warn(\"Db.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\"),r.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},A.classMethod(\"authenticate\",{callback:!0,promise:!0}),N.prototype.logout=function(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),e=e||{};var i=this.s.authSource?this.s.authSource:this.s.databaseName;return i=e.dbName?e.dbName:i,\"function\"==typeof t?n.s.topology.logout(i,function(e){if(e)return t(e);t(null,!0)}):new this.s.promiseLibrary(function(e,t){n.s.topology.logout(i,function(n){if(n)return t(n);e(!0)})})},A.classMethod(\"logout\",{callback:!0,promise:!0}),N.prototype.indexInformation=function(e,t,n){var i=this;return\"function\"==typeof t&&(n=t,t={}),t=t||{},\"function\"==typeof n?H(i,e,t,n):new this.s.promiseLibrary(function(n,r){H(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var H=function(e,t,n,i){var r=null!=n.full&&n.full;if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new b(\"topology was destroyed\"));e.collection(t).listIndexes(n).toArray(function(e,t){return e?i(f(e)):Array.isArray(t)?r?u(i,null,t):void u(i,null,function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];for(var r in t[i.name]=[],i.key)t[i.name].push([r,i.key[r]])}return t}(t)):u(i,null,[])})};A.classMethod(\"indexInformation\",{callback:!0,promise:!0});var $=function(e,t,n,i){var r=c(n),o=r.fieldHash,s=\"string\"==typeof i.name?i.name:r.name,a={ns:e.databaseName+\".\"+t,key:o,name:s},l=null!=i&&\"object\"!=typeof i&&i;i=null==i||\"boolean\"==typeof i?{}:i;var p=Object.keys(a);for(var u in i)-1==p.indexOf(u)&&(a[u]=i[u]);null==a.unique&&(a.unique=l);for(var d=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],f=0;f<d.length;f++)delete a[d[f]];return a},V=function(e,t,n,i,r){var o=c(n),s=\"string\"==typeof i.name?i.name:o.name,a=[{name:s,key:o.fieldHash}],l=Object.keys(a[0]);for(var p in i){-1==l.indexOf(p)&&(a[0][p]=i[p]);for(var d=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],v=0;v<d.length;v++)delete a[0][d[v]]}var g=e.s.topology.capabilities();if(a[0].collation&&g&&!g.commandsTakeCollation){var y=new b(h(\"server/primary/mongos does not support collation\"));return y.code=67,r(y)}var x=Y({createIndexes:t,indexes:a},e,i);D(x,e,i),i.readPreference=m.PRIMARY,e.command(x,i,function(e,t){return e?u(r,e,null):0==t.ok?u(r,f(t),null):void u(r,null,s)})},W=function(e){if(\"string\"!=typeof e)throw b.create({message:\"database name must be a string\",driver:!0});if(0===e.length)throw b.create({message:\"database name cannot be the empty string\",driver:!0});if(\"$external\"!=e)for(var t=[\" \",\".\",\"$\",\"/\",\"\\\\\"],n=0;n<t.length;n++)if(-1!=e.indexOf(t[n]))throw b.create({message:\"database names cannot contain the character '\"+t[n]+\"'\",driver:!0})},Y=function(e,t,n){if(null!=n.w||null!=n.j||null!=n.fsync){var i={};n.w&&(i.w=n.w),n.wtimeout&&(i.wtimeout=n.wtimeout),n.j&&(i.j=n.j),n.fsync&&(i.fsync=n.fsync),e.writeConcern=i}else null==t.writeConcern.w&&null==t.writeConcern.j&&null==t.writeConcern.fsync||(e.writeConcern=t.writeConcern);return e},G=function(e,t,n){return function(i){if(n.listeners(t).length>0){n.emit(t,i,e);for(var r=0;r<e.s.children.length;r++)e.s.children[r].emit(t,i,e.s.children[r])}}};N.prototype.unref=function(){this.s.topology.unref()},N.SYSTEM_NAMESPACE_COLLECTION=\"system.namespaces\",N.SYSTEM_INDEX_COLLECTION=\"system.indexes\",N.SYSTEM_PROFILE_COLLECTION=\"system.profile\",N.SYSTEM_USER_COLLECTION=\"system.users\",N.SYSTEM_COMMAND_COLLECTION=\"$cmd\",N.SYSTEM_JS_COLLECTION=\"system.js\",e.exports=N},function(e,t,n){var i=n(1).shallowClone,r=n(1).handleCallback,o=n(2).MongoError,s=n(0).format,a=function(e,t,n,i,a){if(e.serverConfig&&e.serverConfig.isDestroyed())return a(new o(\"topology was destroyed\"));var c=i.dbName?i.dbName:e.databaseName;c=e.authSource?e.authSource:c,c=i.authdb?i.authdb:c,c=i.authSource?i.authSource:c;var l=function(t,n){e.listeners(\"authenticated\").length>0&&e.emit(\"authenticated\",t,n),r(a,t,n)},p=i.authMechanism||\"\";\"MONGODB-CR\"==(p=p.toUpperCase())?e.s.topology.auth(\"mongocr\",c,t,n,function(e){if(e)return r(a,e,!1);l(null,!0)}):\"PLAIN\"==p?e.s.topology.auth(\"plain\",c,t,n,function(e){if(e)return r(a,e,!1);l(null,!0)}):\"MONGODB-X509\"==p?e.s.topology.auth(\"x509\",c,t,n,function(e){if(e)return r(a,e,!1);l(null,!0)}):\"SCRAM-SHA-1\"==p?e.s.topology.auth(\"scram-sha-1\",c,t,n,function(e){if(e)return r(a,e,!1);l(null,!0)}):\"GSSAPI\"==p?\"win32\"==process.platform?e.s.topology.auth(\"sspi\",c,t,n,i,function(e){if(e)return r(a,e,!1);l(null,!0)}):e.s.topology.auth(\"gssapi\",c,t,n,i,function(e){if(e)return r(a,e,!1);l(null,!0)}):\"DEFAULT\"==p?e.s.topology.auth(\"default\",c,t,n,function(e){if(e)return r(a,e,!1);l(null,!0)}):r(a,o.create({message:s(\"authentication mechanism %s not supported\",i.authMechanism),driver:!0}))};e.exports=function(e,t,n,s,c){if(\"function\"==typeof s&&(c=s,s={}),(s=i(s)).authMechanism){if(\"GSSAPI\"!=s.authMechanism&&\"DEFAULT\"!=s.authMechanism&&\"MONGODB-CR\"!=s.authMechanism&&\"MONGODB-X509\"!=s.authMechanism&&\"SCRAM-SHA-1\"!=s.authMechanism&&\"PLAIN\"!=s.authMechanism)return r(c,o.create({message:\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\",driver:!0}))}else s.authMechanism=\"DEFAULT\";return\"function\"==typeof c?a(e,t,n,s,function(e,t){if(e&&e.message&&-1!=e.message.indexOf(\"saslStart\")&&(e.code=59),e)return c(e,t);c(null,t)}):new e.s.promiseLibrary(function(i,r){a(e,t,n,s,function(e,t){if(e&&e.message&&-1!=e.message.indexOf(\"saslStart\")&&(e.code=59),e)return r(e);i(t)})})}},function(e){e.exports={_from:\"mongodb@^2.2.30\",_id:\"mongodb@2.2.36\",_inBundle:!1,_integrity:\"sha512-P2SBLQ8Z0PVx71ngoXwo12+FiSfbNfGOClAao03/bant5DgLNkOPAck5IaJcEk4gKlQhDEURzfR3xuBG1/B+IA==\",_location:\"/mongodb\",_phantomChildren:{\"buffer-shims\":\"1.0.0\",\"core-util-is\":\"1.0.2\",inherits:\"2.0.3\",isarray:\"1.0.0\",\"safe-buffer\":\"5.1.2\",\"util-deprecate\":\"1.0.2\"},_requested:{type:\"range\",registry:!0,raw:\"mongodb@^2.2.30\",name:\"mongodb\",escapedName:\"mongodb\",rawSpec:\"^2.2.30\",saveSpec:null,fetchSpec:\"^2.2.30\"},_requiredBy:[\"/\"],_resolved:\"https://registry.npmjs.org/mongodb/-/mongodb-2.2.36.tgz\",_shasum:\"1c573680b2849fb0f47acbba3dc5fa228de975f5\",_spec:\"mongodb@^2.2.30\",_where:\"/Users/takodaregister/Development/LAMBDA\",author:{name:\"Christian Kvalheim\"},bugs:{url:\"https://github.com/mongodb/node-mongodb-native/issues\"},bundleDependencies:!1,dependencies:{\"es6-promise\":\"3.2.1\",\"mongodb-core\":\"2.1.20\",\"readable-stream\":\"2.2.7\"},deprecated:!1,description:\"The official MongoDB driver for Node.js\",devDependencies:{JSONStream:\"^1.0.7\",betterbenchmarks:\"^0.1.0\",bluebird:\"3.4.6\",bson:\"latest\",\"cli-table\":\"^0.3.1\",co:\"4.6.0\",colors:\"^1.1.2\",\"conventional-changelog-cli\":\"^1.3.5\",coveralls:\"^2.11.6\",eslint:\"^3.8.1\",\"event-stream\":\"^3.3.2\",gleak:\"0.5.0\",integra:\"0.1.8\",jsdoc:\"3.4.0\",\"ldjson-stream\":\"^1.2.1\",\"mongodb-extended-json\":\"1.7.1\",\"mongodb-topology-manager\":\"1.0.x\",\"mongodb-version-manager\":\"github:christkv/mongodb-version-manager#master\",nyc:\"^8.1.0\",optimist:\"0.6.1\",rimraf:\"2.5.4\",semver:\"5.3.0\",\"worker-farm\":\"^1.3.1\"},engines:{node:\">=0.10.3\"},homepage:\"https://github.com/mongodb/node-mongodb-native\",keywords:[\"mongodb\",\"driver\",\"official\"],license:\"Apache-2.0\",main:\"index.js\",name:\"mongodb\",nyc:{include:[\"lib/**/*.js\"]},repository:{type:\"git\",url:\"git+ssh://git@github.com/mongodb/node-mongodb-native.git\"},scripts:{changelog:\"conventional-changelog -p angular -i HISTORY.md -s\",coverage:\"nyc node test/runner.js -t functional && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls\",lint:\"eslint lib\",test:\"node test/runner.js -t functional\"},version:\"2.2.36\"}},function(e,t,n){var i;function r(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),\"string\"!=typeof s[0]&&s.unshift(\"%O\");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,i){if(\"%%\"===n)return n;c++;var r=t.formatters[i];if(\"function\"==typeof r){var o=s[c];n=r.call(e,o),s.splice(c,1),c--}return n}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),\"function\"==typeof t.init&&t.init(n),n}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(83),r=n(84),o=n(40),s=n(32),a=n(16)(\"express:router\"),c=n(14)(\"express\"),l=n(31),p=n(22),u=n(41),d=/^\\[object (\\S+)\\]$/,f=Array.prototype.slice,m=Object.prototype.toString,h=e.exports=function(e){var t=e||{};function n(e,t,i){n.handle(e,t,i)}return u(n,h),n.params={},n._params=[],n.caseSensitive=t.caseSensitive,n.mergeParams=t.mergeParams,n.strict=t.strict,n.stack=[],n};function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}function g(e){var t=typeof e;return\"object\"!==t?t:m.call(e).replace(d,\"$1\")}function y(e,t){try{return e.match(t)}catch(e){return e}}h.param=function(e,t){if(\"function\"==typeof e)return c(\"router.param(fn): Refactor to use path params\"),void this._params.push(e);var n,i=this._params,r=i.length;\":\"===e[0]&&(c(\"router.param(\"+JSON.stringify(e)+\", fn): Use router.param(\"+JSON.stringify(e.substr(1))+\", fn) instead\"),e=e.substr(1));for(var o=0;o<r;++o)(n=i[o](e,t))&&(t=n);if(\"function\"!=typeof t)throw new Error(\"invalid param() call for \"+e+\", got \"+t);return(this.params[e]=this.params[e]||[]).push(t),this},h.handle=function(e,t,n){var i=this;a(\"dispatching %s %s\",e.method,e.url);var r=0,o=function(e){if(\"string\"!=typeof e||0===e.length||\"/\"===e[0])return;var t=e.indexOf(\"?\"),n=-1!==t?t:e.length,i=e.substr(0,n).indexOf(\"://\");return-1!==i?e.substr(0,e.indexOf(\"/\",3+i)):void 0}(e.url)||\"\",c=\"\",l=!1,u={},d=[],f=i.stack,m=e.params,h=e.baseUrl||\"\",g=function(e,t){for(var n=new Array(arguments.length-2),i=new Array(arguments.length-2),r=0;r<n.length;r++)n[r]=arguments[r+2],i[r]=t[n[r]];return function(){for(var r=0;r<n.length;r++)t[n[r]]=i[r];return e.apply(this,arguments)}}(n,e,\"baseUrl\",\"next\",\"params\");function b(n){var x=\"route\"===n?null:n;if(l&&(e.url=e.url.substr(1),l=!1),0!==c.length&&(e.baseUrl=h,e.url=o+c+e.url.substr(o.length),c=\"\"),\"router\"!==x)if(r>=f.length)setImmediate(g,x);else{var w,S,k,O=function(e){try{return p(e).pathname}catch(e){return}}(e);if(null==O)return g(x);for(;!0!==S&&r<f.length;)if(S=y(w=f[r++],O),k=w.route,\"boolean\"!=typeof S&&(x=x||S),!0===S&&k)if(x)S=!1;else{var E=e.method,C=k._handles_method(E);C||\"OPTIONS\"!==E||v(d,k._options()),C||\"HEAD\"===E||(S=!1)}if(!0!==S)return g(x);k&&(e.route=k),e.params=i.mergeParams?function(e,t){if(\"object\"!=typeof t||!t)return e;var n=s({},t);if(!(0 in e&&0 in t))return s(n,e);var i=0,r=0;for(;i in e;)i++;for(;r in t;)r++;for(i--;i>=0;i--)e[i+r]=e[i],i<r&&delete e[i];return s(n,e)}(w.params,m):w.params;var _=w.path;i.process_params(w,u,e,t,function(n){return n?b(x||n):k?w.handle_request(e,t,b):void function(n,i,r,s){if(0!==r.length){var p=s[r.length];if(p&&\"/\"!==p&&\".\"!==p)return b(i);a(\"trim prefix (%s) from url %s\",r,e.url),c=r,e.url=o+e.url.substr(o.length+c.length),o||\"/\"===e.url[0]||(e.url=\"/\"+e.url,l=!0),e.baseUrl=h+(\"/\"===c[c.length-1]?c.substring(0,c.length-1):c)}a(\"%s %s : %s\",n.name,r,e.originalUrl),i?n.handle_error(i,e,t,b):n.handle_request(e,t,b)}(w,x,_,O)})}else setImmediate(g,null)}e.next=b,\"OPTIONS\"===e.method&&(g=function(e,t){return function(){var n=new Array(arguments.length+1);n[0]=e;for(var i=0,r=arguments.length;i<r;i++)n[i+1]=arguments[i];t.apply(this,n)}}(g,function(e,n){if(n||0===d.length)return e(n);!function(e,t,n){try{var i=t.join(\",\");e.set(\"Allow\",i),e.send(i)}catch(e){n(e)}}(t,d,e)})),e.baseUrl=h,e.originalUrl=e.originalUrl||e.url,b()},h.process_params=function(e,t,n,i,r){var o=this.params,s=e.keys;if(!s||0===s.length)return r();var a,c,l,p,u,d=0,f=0;function m(e){return e?r(e):d>=s.length?r():(f=0,c=s[d++],a=c.name,l=n.params[a],p=o[a],u=t[a],void 0!==l&&p?u&&(u.match===l||u.error&&\"route\"!==u.error)?(n.params[a]=u.value,m(u.error)):(t[a]=u={error:null,match:l,value:l},void h()):m())}function h(e){var t=p[f++];if(u.value=n.params[c.name],e)return u.error=e,void m(e);if(!t)return m();try{t(n,i,h,l,c.name)}catch(e){h(e)}}m()},h.use=function(e){var t=0,n=\"/\";if(\"function\"!=typeof e){for(var i=e;Array.isArray(i)&&0!==i.length;)i=i[0];\"function\"!=typeof i&&(t=1,n=e)}var o=l(f.call(arguments,t));if(0===o.length)throw new TypeError(\"Router.use() requires middleware functions\");for(var s=0;s<o.length;s++){if(\"function\"!=typeof(e=o[s]))throw new TypeError(\"Router.use() requires middleware function but got a \"+g(e));a(\"use %o %s\",n,e.name||\"<anonymous>\");var c=new r(n,{sensitive:this.caseSensitive,strict:!1,end:!1},e);c.route=void 0,this.stack.push(c)}return this},h.route=function(e){var t=new i(e),n=new r(e,{sensitive:this.caseSensitive,strict:this.strict,end:!0},t.dispatch.bind(t));return n.route=t,this.stack.push(n),t},o.concat(\"all\").forEach(function(e){h[e]=function(t){var n=this.route(t);return n[e].apply(n,f.call(arguments,1)),this}})},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(16)(\"express:router:route\"),r=n(31),o=n(84),s=n(40),a=Array.prototype.slice,c=Object.prototype.toString;function l(e){this.path=e,this.stack=[],i(\"new %o\",e),this.methods={}}e.exports=l,l.prototype._handles_method=function(e){if(this.methods._all)return!0;var t=e.toLowerCase();return\"head\"!==t||this.methods.head||(t=\"get\"),Boolean(this.methods[t])},l.prototype._options=function(){var e=Object.keys(this.methods);this.methods.get&&!this.methods.head&&e.push(\"head\");for(var t=0;t<e.length;t++)e[t]=e[t].toUpperCase();return e},l.prototype.dispatch=function(e,t,n){var i=0,r=this.stack;if(0===r.length)return n();var o=e.method.toLowerCase();\"head\"!==o||this.methods.head||(o=\"get\"),e.route=this,function s(a){if(a&&\"route\"===a)return n();if(a&&\"router\"===a)return n(a);var c=r[i++];if(!c)return n(a);if(c.method&&c.method!==o)return s(a);a?c.handle_error(a,e,t,s):c.handle_request(e,t,s)}()},l.prototype.all=function(){for(var e=r(a.call(arguments)),t=0;t<e.length;t++){var n=e[t];if(\"function\"!=typeof n){var i=c.call(n);throw new TypeError(\"Route.all() requires callback functions but got a \"+i)}var s=o(\"/\",{},n);s.method=void 0,this.methods._all=!0,this.stack.push(s)}return this},s.forEach(function(e){l.prototype[e]=function(){for(var t=r(a.call(arguments)),n=0;n<t.length;n++){var s=t[n];if(\"function\"!=typeof s){var l=c.call(s);throw new Error(\"Route.\"+e+\"() requires callback functions but got a \"+l)}i(\"%s %o\",e,this.path);var p=o(\"/\",{},s);p.method=e,this.methods[e]=!0,this.stack.push(p)}return this}})},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(133),r=n(16)(\"express:router:layer\"),o=Object.prototype.hasOwnProperty;function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);r(\"new %o\",e);var o=t||{};this.handle=n,this.name=n.name||\"<anonymous>\",this.params=void 0,this.path=void 0,this.regexp=i(e,this.keys=[],o),this.regexp.fast_star=\"*\"===e,this.regexp.fast_slash=\"/\"===e&&!1===o.end}function a(e){if(\"string\"!=typeof e||0===e.length)return e;try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError&&(t.message=\"Failed to decode param '\"+e+\"'\",t.status=t.statusCode=400),t}}e.exports=s,s.prototype.handle_error=function(e,t,n,i){var r=this.handle;if(4!==r.length)return i(e);try{r(e,t,n,i)}catch(e){i(e)}},s.prototype.handle_request=function(e,t,n){var i=this.handle;if(i.length>3)return n();try{i(e,t,n)}catch(e){n(e)}},s.prototype.match=function(e){var t;if(null!=e){if(this.regexp.fast_slash)return this.params={},this.path=\"\",!0;if(this.regexp.fast_star)return this.params={0:a(e)},this.path=e,!0;t=this.regexp.exec(e)}if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var n=this.keys,i=this.params,r=1;r<t.length;r++){var s=n[r-1].name,c=a(t[r]);void 0===c&&o.call(i,s)||(i[s]=c)}return!0}},function(e,t,n){\"use strict\";\n/*!\n * depd\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(3).EventEmitter;function r(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var i=n();return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:i}),i}})}function o(e){return e.toString()}r(e.exports,\"callSiteToString\",function(){var e=Error.stackTraceLimit,t={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.stackTraceLimit=2,Error.captureStackTrace(t);var r=t.stack.slice();return Error.prepareStackTrace=i,Error.stackTraceLimit=e,r[0].toString?o:n(134)}),r(e.exports,\"eventListenerCount\",function(){return i.listenerCount||n(135)})},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(32),r=n(22),o=n(87);e.exports=function(e){var t=i({},e),n=o.parse;return\"function\"==typeof e&&(n=e,t=void 0),void 0!==t&&void 0===t.allowPrototypes&&(t.allowPrototypes=!0),function(e,i,o){if(!e.query){var s=r(e).query;e.query=n(s,t)}o()}}},function(e,t,n){\"use strict\";var i=n(137),r=n(138),o=n(89);e.exports={formats:o,parse:r,stringify:i}},function(e,t,n){\"use strict\";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push(\"%\"+((t<16?\"0\":\"\")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n},t.merge=function(e,n,r){if(!n)return e;if(\"object\"!=typeof n){if(Array.isArray(e))e.push(n);else{if(\"object\"!=typeof e)return[e,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if(\"object\"!=typeof e)return[e].concat(n);var o=e;return Array.isArray(e)&&!Array.isArray(n)&&(o=t.arrayToObject(e,r)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(e,o)?e[o]&&\"object\"==typeof e[o]?e[o]=t.merge(e[o],n,r):e.push(n):e[o]=n}),e):Object.keys(n).reduce(function(e,o){var s=n[o];return i.call(e,o)?e[o]=t.merge(e[o],s,r):e[o]=s,e},o)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\\+/g,\" \"))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t=\"string\"==typeof e?e:String(e),n=\"\",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},t.compact=function(e,n){if(\"object\"!=typeof e||null===e)return e;var i=n||[],r=i.indexOf(e);if(-1!==r)return i[r];if(i.push(e),Array.isArray(e)){for(var o=[],s=0;s<e.length;++s)e[s]&&\"object\"==typeof e[s]?o.push(t.compact(e[s],i)):void 0!==e[s]&&o.push(e[s]);return o}return Object.keys(e).forEach(function(n){e[n]=t.compact(e[n],i)}),e},t.isRegExp=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,n){\"use strict\";var i=String.prototype.replace,r=/%20/g;e.exports={default:\"RFC3986\",formatters:{RFC1738:function(e){return i.call(e,r,\"+\")},RFC3986:function(e){return e}},RFC1738:\"RFC1738\",RFC3986:\"RFC3986\"}},function(e,t,n){\"use strict\";\n/*!\n * content-disposition\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){var n=t||{},r=n.type||\"attachment\",s=function(e,t){if(void 0===e)return;var n={};if(\"string\"!=typeof e)throw new TypeError(\"filename must be a string\");void 0===t&&(t=!0);if(\"string\"!=typeof t&&\"boolean\"!=typeof t)throw new TypeError(\"fallback must be a string or boolean\");if(\"string\"==typeof t&&a.test(t))throw new TypeError(\"fallback must be ISO-8859-1 string\");var r=i(e),s=u.test(r),c=\"string\"!=typeof t?t&&v(r):i(t),l=\"string\"==typeof c&&c!==r;(l||!s||o.test(r))&&(n[\"filename*\"]=r);(s||l)&&(n.filename=l?c:r);return n}(e,n.fallback);return function(e){var t=e.parameters,n=e.type;if(!n||\"string\"!=typeof n||!d.test(n))throw new TypeError(\"invalid type\");var i=String(n).toLowerCase();if(t&&\"object\"==typeof t)for(var r,o=Object.keys(t).sort(),s=0;s<o.length;s++){var a=\"*\"===(r=o[s]).substr(-1)?x(t[r]):b(t[r]);i+=\"; \"+r+\"=\"+a}return i}(new w(r,s))},e.exports.parse=function(e){if(!e||\"string\"!=typeof e)throw new TypeError(\"argument string is required\");var t=m.exec(e);if(!t)throw new TypeError(\"invalid type format\");var n,i,r=t[0].length,o=t[1].toLowerCase(),s=[],a={};r=p.lastIndex=\";\"===t[0].substr(-1)?r-1:r;for(;t=p.exec(e);){if(t.index!==r)throw new TypeError(\"invalid parameter format\");if(r+=t[0].length,n=t[1].toLowerCase(),i=t[2],-1!==s.indexOf(n))throw new TypeError(\"invalid duplicate parameter\");s.push(n),n.indexOf(\"*\")+1!==n.length?\"string\"!=typeof a[n]&&('\"'===i[0]&&(i=i.substr(1,i.length-2).replace(c,\"$1\")),a[n]=i):(n=n.slice(0,-1),i=h(i),a[n]=i)}if(-1!==r&&r!==e.length)throw new TypeError(\"invalid parameter format\");return new w(o,a)};var i=n(7).basename,r=/[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g,o=/%[0-9A-Fa-f]{2}/,s=/%([0-9A-Fa-f]{2})/g,a=/[^\\x20-\\x7e\\xa0-\\xff]/g,c=/\\\\([\\u0000-\\u007f])/g,l=/([\\\\\"])/g,p=/;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g,u=/^[\\x20-\\x7e\\x80-\\xff]+$/,d=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,f=/^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,m=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/;function h(e){var t=f.exec(e);if(!t)throw new TypeError(\"invalid extended field value\");var n,i=t[1].toLowerCase(),r=t[2].replace(s,g);switch(i){case\"iso-8859-1\":n=v(r);break;case\"utf-8\":n=new Buffer(r,\"binary\").toString(\"utf8\");break;default:throw new TypeError(\"unsupported charset in extended field\")}return n}function v(e){return String(e).replace(a,\"?\")}function g(e,t){return String.fromCharCode(parseInt(t,16))}function y(e){var t=String(e).charCodeAt(0).toString(16).toUpperCase();return 1===t.length?\"%0\"+t:\"%\"+t}function b(e){return'\"'+String(e).replace(l,\"\\\\$1\")+'\"'}function x(e){var t=String(e);return\"UTF-8''\"+encodeURIComponent(t).replace(r,y)}function w(e,t){this.type=e,this.parameters=t}},function(e,t,n){\"use strict\";\n/*!\n * range-parser\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */function i(e,t){return{start:e.start,end:e.end,index:t}}function r(e){return{start:e.start,end:e.end}}function o(e,t){return e.index-t.index}function s(e,t){return e.start-t.start}e.exports=function(e,t,n){var a=t.indexOf(\"=\");if(-1===a)return-2;var c=t.slice(a+1).split(\",\"),l=[];l.type=t.slice(0,a);for(var p=0;p<c.length;p++){var u=c[p].split(\"-\"),d=parseInt(u[0],10),f=parseInt(u[1],10);isNaN(d)?(d=e-f,f=e-1):isNaN(f)&&(f=e-1),f>e-1&&(f=e-1),isNaN(d)||isNaN(f)||d>f||d<0||l.push({start:d,end:f})}if(l.length<1)return-1;return n&&n.combine?function(e){for(var t=e.map(i).sort(s),n=0,a=1;a<t.length;a++){var c=t[a],l=t[n];c.start>l.end+1?t[++n]=c:c.end>l.end&&(l.end=c.end,l.index=Math.min(l.index,c.index))}t.length=n+1;var p=t.sort(o).map(r);return p.type=e.type,p}(l):l}},function(e,t,n){\"use strict\";\n/*!\n * proxy-addr\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){if(!e)throw new TypeError(\"req argument is required\");if(!t)throw new TypeError(\"trust argument is required\");var n=l(e,t);return n[n.length-1]},e.exports.all=l,e.exports.compile=p;var i=n(150),r=n(151),o=/^[0-9]+$/,s=r.isValid,a=r.parse,c={linklocal:[\"169.254.0.0/16\",\"fe80::/10\"],loopback:[\"127.0.0.1/8\",\"::1/128\"],uniquelocal:[\"10.0.0.0/8\",\"172.16.0.0/12\",\"192.168.0.0/16\",\"fc00::/7\"]};function l(e,t){var n=i(e);if(!t)return n;\"function\"!=typeof t&&(t=p(t));for(var r=0;r<n.length-1;r++)t(n[r],r)||(n.length=r+1);return n}function p(e){if(!e)throw new TypeError(\"argument is required\");var t;if(\"string\"==typeof e)t=[e];else{if(!Array.isArray(e))throw new TypeError(\"unsupported trust argument\");t=e.slice()}for(var n=0;n<t.length;n++)e=t[n],c.hasOwnProperty(e)&&(e=c[e],t.splice.apply(t,[n,1].concat(e)),n+=e.length-1);return function(e){var t=e.length;return 0===t?d:1===t?function(e){var t=e[0],n=t.kind(),i=\"ipv4\"===n,r=e[1];return function(e){if(!s(e))return!1;var o=a(e),c=o.kind();if(c!==n){if(i&&!o.isIPv4MappedAddress())return!1;o=i?o.toIPv4Address():o.toIPv4MappedAddress()}return o.match(t,r)}}(e[0]):function(e){return function(t){if(!s(t))return!1;for(var n,i=a(t),r=i.kind(),o=0;o<e.length;o++){var c=e[o],l=c[0],p=l.kind(),u=c[1],d=i;if(r!==p){if(\"ipv4\"===p&&!i.isIPv4MappedAddress())continue;n||(n=\"ipv4\"===p?i.toIPv4Address():i.toIPv4MappedAddress()),d=n}if(d.match(l,u))return!0}return!1}}(e)}(function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=u(e[n]);return t}(t))}function u(e){var t=e.lastIndexOf(\"/\"),n=-1!==t?e.substring(0,t):e;if(!s(n))throw new TypeError(\"invalid IP address: \"+n);var i=a(n);-1===t&&\"ipv6\"===i.kind()&&i.isIPv4MappedAddress()&&(i=i.toIPv4Address());var r=\"ipv6\"===i.kind()?128:32,c=-1!==t?e.substring(t+1,e.length):null;if((c=null===c?r:o.test(c)?parseInt(c,10):\"ipv4\"===i.kind()&&s(c)?function(e){var t=a(e);return\"ipv4\"===t.kind()?t.prefixLengthFromSubnetMask():null}(c):null)<=0||c>r)throw new TypeError(\"invalid range on address: \"+e);return[i,c]}function d(){return!1}},function(e,t,n){\"use strict\";\n/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(159),r=n(7).extname,o=/^\\s*([^;\\s]*)(?:;|\\s|$)/,s=/^text\\//i;function a(e){if(!e||\"string\"!=typeof e)return!1;var t=o.exec(e),n=t&&i[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!s.test(t[1]))&&\"UTF-8\"}t.charset=a,t.charsets={lookup:a},t.contentType=function(e){if(!e||\"string\"!=typeof e)return!1;var n=-1===e.indexOf(\"/\")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf(\"charset\")){var i=t.charset(n);i&&(n+=\"; charset=\"+i.toLowerCase())}return n},t.extension=function(e){if(!e||\"string\"!=typeof e)return!1;var n=o.exec(e),i=n&&t.extensions[n[1].toLowerCase()];if(!i||!i.length)return!1;return i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||\"string\"!=typeof e)return!1;var n=r(\"x.\"+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),function(e,t){var n=[\"nginx\",\"apache\",void 0,\"iana\"];Object.keys(i).forEach(function(r){var o=i[r],s=o.extensions;if(s&&s.length){e[r]=s;for(var a=0;a<s.length;a++){var c=s[a];if(t[c]){var l=n.indexOf(i[t[c]].source),p=n.indexOf(o.source);if(\"application/octet-stream\"!==t[c]&&(l>p||l===p&&\"application/\"===t[c].substr(0,12)))continue}t[c]=r}}})}(t.extensions,t.types)},function(e,t,n){\"use strict\";const i=n(19),r=n(9),o=n(171),s=n(172),a=Symbol(),c=Symbol();e.exports=class extends i.ServerResponse{static body(e){return Buffer.concat(e[a])}static headers(e){const t=Object.assign(e._headers,e[c]);return s(t)}get headers(){return this[c]}setHeader(e,t){this._wroteHeader?this[c][e]=t:super.setHeader(e,t)}constructor(e){super(e),this[a]=[],this[c]={},this._headers={},this.useChunkedEncodingByDefault=!1,this.chunkedEncoding=!1;const t=e=>{if(!Buffer.isBuffer(e)&&\"string\"!=typeof e)throw new Error(`response.write() of unexpected type: ${typeof e}`);this[a].push(Buffer.from(e))};this.assignSocket(new r.Writable({write:(e,n,i)=>{if(\"function\"==typeof n&&(i=n,n=null),this._wroteHeader)t(e);else{const n=o(e),i=n.indexOf(\"\\r\\n\\r\\n\");if(-1!==i){const e=n.slice(i+\"\\r\\n\\r\\n\".length);e&&t(e),this._wroteHeader=!0}}\"function\"==typeof i&&i()}})),this.write=function(e,n,i){\"function\"==typeof n&&(i=n,n=null),t(e),\"function\"==typeof i&&i()}}}},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=n(124)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){\"use strict\";\n/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(161),r=n(93);function o(e,t){var n,r,o=t,s=function(e){try{return function(e){var t=i.parse(e);return t.parameters=void 0,i.format(t)}(e)}catch(e){return null}}(e);if(!s)return!1;if(o&&!Array.isArray(o))for(o=new Array(arguments.length-1),n=0;n<o.length;n++)o[n]=arguments[n+1];if(!o||!o.length)return s;for(n=0;n<o.length;n++)if(c(a(r=o[n]),s))return\"+\"===r[0]||-1!==r.indexOf(\"*\")?s:r;return!1}function s(e){return void 0!==e.headers[\"transfer-encoding\"]||!isNaN(e.headers[\"content-length\"])}function a(e){if(\"string\"!=typeof e)return!1;switch(e){case\"urlencoded\":return\"application/x-www-form-urlencoded\";case\"multipart\":return\"multipart/*\"}return\"+\"===e[0]?\"*/*\"+e:-1===e.indexOf(\"/\")?r.lookup(e):e}function c(e,t){if(!1===e)return!1;var n=t.split(\"/\"),i=e.split(\"/\");return 2===n.length&&2===i.length&&((\"*\"===i[0]||i[0]===n[0])&&(\"*+\"===i[1].substr(0,2)?i[1].length<=n[1].length+1&&i[1].substr(1)===n[1].substr(1-i[1].length):\"*\"===i[1]||i[1]===n[1]))}e.exports=function(e,t){var n=t;if(!s(e))return null;if(arguments.length>2){n=new Array(arguments.length-1);for(var i=0;i<n.length;i++)n[i]=arguments[i+1]}return o(e.headers[\"content-type\"],n)},e.exports.is=o,e.exports.hasBody=s,e.exports.normalize=a,e.exports.match=c},function(e,t,n){\"use strict\";const i=n(167),r=n(168),o=n(169),s=n(170),a=n(174),c=n(175),l=n(176),p=n(94),u={requestId:\"x-request-id\"};e.exports=function(e,t){const n=r(e),d=Object.assign({},u,t);return(e,t,r)=>{t.callbackWaitsForEmptyEventLoop=!!d.callbackWaitsForEmptyEventLoop;const u=Promise.resolve().then(()=>{const r=t||{},s=o(e),a=new l(s,d);return i(a,s,r,d.request).then(()=>{const e=new p(a);return n(a,e),i(e,s,r,d.response)})}).then(e=>{const t=e.statusCode,n=p.headers(e),i=a(n,d);return{isBase64Encoded:i,statusCode:t,headers:n,body:s(e,n,i)}});return c(u,r)}}},function(e,t,n){\"use strict\";\n/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/,o=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,s=/\\\\([\\u000b\\u0020-\\u00ff])/g,a=/([\\\\\"])/g,c=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){var t=String(e);if(o.test(t))return t;if(t.length>0&&!r.test(t))throw new TypeError(\"invalid parameter value\");return'\"'+t.replace(a,\"\\\\$1\")+'\"'}t.format=function(e){if(!e||\"object\"!=typeof e)throw new TypeError(\"argument obj is required\");var t=e.parameters,n=e.type;if(!n||!c.test(n))throw new TypeError(\"invalid type\");var i=n;if(t&&\"object\"==typeof t)for(var r,s=Object.keys(t).sort(),a=0;a<s.length;a++){if(r=s[a],!o.test(r))throw new TypeError(\"invalid parameter name\");i+=\"; \"+r+\"=\"+l(t[r])}return i},t.parse=function(e){if(!e)throw new TypeError(\"argument string is required\");var t=\"object\"==typeof e?function(e){var t;\"function\"==typeof e.getHeader?t=e.getHeader(\"content-type\"):\"object\"==typeof e.headers&&(t=e.headers&&e.headers[\"content-type\"]);if(\"string\"!=typeof t)throw new TypeError(\"content-type header is missing from object\");return t}(e):e;if(\"string\"!=typeof t)throw new TypeError(\"argument string is required to be a string\");var n=t.indexOf(\";\"),r=-1!==n?t.substr(0,n).trim():t.trim();if(!c.test(r))throw new TypeError(\"invalid media type\");var o=new function(e){this.parameters=Object.create(null),this.type=e}(r.toLowerCase());if(-1!==n){var a,l,p;for(i.lastIndex=n;l=i.exec(t);){if(l.index!==n)throw new TypeError(\"invalid parameter format\");n+=l[0].length,a=l[1].toLowerCase(),'\"'===(p=l[2])[0]&&(p=p.substr(1,p.length-2).replace(s,\"$1\")),o.parameters[a]=p}if(n!==t.length)throw new TypeError(\"invalid parameter format\")}return o}},function(e,t,n){\"use strict\";\n/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(14)(\"http-errors\"),r=n(141),o=n(142),s=n(24);function a(e){return Number(String(e).charAt(0)+\"00\")}e.exports=function e(){var t;var n;var r=500;var s={};for(var c=0;c<arguments.length;c++){var l=arguments[c];if(l instanceof Error)r=(t=l).status||t.statusCode||r;else switch(typeof l){case\"string\":n=l;break;case\"number\":r=l,0!==c&&i(\"non-first-argument status code; replace with createError(\"+l+\", ...)\");break;case\"object\":s=l}}\"number\"==typeof r&&(r<400||r>=600)&&i(\"non-error status code; use only 4xx or 5xx status codes\");(\"number\"!=typeof r||!o[r]&&(r<400||r>=600))&&(r=500);var p=e[r]||e[a(r)];t||(t=p?new p(n):new Error(n||o[r]),Error.captureStackTrace(t,e));p&&t instanceof p&&t.status===r||(t.expose=r<500,t.status=t.statusCode=r);for(var u in s)\"status\"!==u&&\"statusCode\"!==u&&(t[u]=s[u]);return t},e.exports.HttpError=function(){function e(){throw new TypeError(\"cannot construct abstract class\")}return s(e,Error),e}(),function(e,t,n){t.forEach(function(t){var i,c=function(e){return e.split(\" \").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join(\"\").replace(/[^ _0-9a-z]/gi,\"\")}(o[t]);switch(a(t)){case 400:i=function(e,t,n){var i=t.match(/Error$/)?t:t+\"Error\";function a(e){var t=null!=e?e:o[n],s=new Error(t);return Error.captureStackTrace(s,a),r(s,a.prototype),Object.defineProperty(s,\"message\",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,\"name\",{enumerable:!1,configurable:!0,value:i,writable:!0}),s}return s(a,e),a.prototype.status=n,a.prototype.statusCode=n,a.prototype.expose=!0,a}(n,c,t);break;case 500:i=function(e,t,n){var i=t.match(/Error$/)?t:t+\"Error\";function a(e){var t=null!=e?e:o[n],s=new Error(t);return Error.captureStackTrace(s,a),r(s,a.prototype),Object.defineProperty(s,\"message\",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,\"name\",{enumerable:!1,configurable:!0,value:i,writable:!0}),s}return s(a,e),a.prototype.status=n,a.prototype.statusCode=n,a.prototype.expose=!1,a}(n,c,t)}i&&(e[t]=i,e[c]=i)}),e[\"I'mateapot\"]=i.function(e.ImATeapot,'\"I\\'mateapot\"; use \"ImATeapot\" instead')}(e.exports,o.codes,e.exports.HttpError)},function(e,t){e.exports=require(\"tty\")},function(e,t,n){\"use strict\";\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */t.parse=function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"argument str must be a string\");for(var n={},r=t||{},s=e.split(o),c=r.decode||i,l=0;l<s.length;l++){var p=s[l],u=p.indexOf(\"=\");if(!(u<0)){var d=p.substr(0,u).trim(),f=p.substr(++u,p.length).trim();'\"'==f[0]&&(f=f.slice(1,-1)),void 0==n[d]&&(n[d]=a(f,c))}}return n},t.serialize=function(e,t,n){var i=n||{},o=i.encode||r;if(\"function\"!=typeof o)throw new TypeError(\"option encode is invalid\");if(!s.test(e))throw new TypeError(\"argument name is invalid\");var a=o(t);if(a&&!s.test(a))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+a;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l))throw new Error(\"maxAge should be a Number\");c+=\"; Max-Age=\"+Math.floor(l)}if(i.domain){if(!s.test(i.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+i.path}if(i.expires){if(\"function\"!=typeof i.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+i.expires.toUTCString()}i.httpOnly&&(c+=\"; HttpOnly\");i.secure&&(c+=\"; Secure\");if(i.sameSite){var p=\"string\"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite;switch(p){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var i=decodeURIComponent,r=encodeURIComponent,o=/; */,s=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},function(e,t,n){var i=n(177),r=n(35),o=n(48),s=n(51),a=n(49),c=n(43),l=n(68),p=n(25),u=n(67),d=n(50),f=n(34),m=n(45),h=n(46),v=n(47),g=n(44);i.BSON_INT32_MAX=2147483647,i.BSON_INT32_MIN=-2147483648,i.BSON_INT64_MAX=Math.pow(2,63)-1,i.BSON_INT64_MIN=-Math.pow(2,63),i.JS_INT_MAX=9007199254740992,i.JS_INT_MIN=-9007199254740992,i.Binary=r,i.Code=o,i.DBRef=s,i.Decimal128=a,i.Double=c,i.Int32=l,i.Long=p,i.Map=u,i.MaxKey=d,i.MinKey=f,i.ObjectId=m,i.ObjectID=m,i.BSONRegExp=h,i.Symbol=v,i.Timestamp=g,e.exports=i},function(e,t,n){\"use strict\";e.exports={normalizedFunctionString:function(e){return e.toString().replace(/function *\\(/,\"function (\")}}},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(3).EventEmitter,o=n(39),s=n(185),a=n(20),c=n(0).format,l=n(8).debugOptions,p=n(5).Response,u=n(4),d=n(21),f=0,m=[\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"checkServerIdentity\"],h=!1,v={},g=function(e,t){if(r.call(this),this.options=t||{},this.id=f++,this.logger=d(\"Connection\",t),!t.bson)throw new Error(\"must pass in valid bson parser\");this.bson=t.bson,this.tag=t.tag,this.messageHandler=e,this.maxBsonMessageSize=t.maxBsonMessageSize||67108864,this.logger.isDebug()&&this.logger.debug(c(\"creating connection %s with options [%s]\",this.id,JSON.stringify(l(m,t)))),this.port=t.port||27017,this.host=t.host||\"localhost\",this.family=\"number\"==typeof t.family?t.family:void 0,this.keepAlive=\"boolean\"!=typeof t.keepAlive||t.keepAlive,this.keepAliveInitialDelay=\"number\"==typeof t.keepAliveInitialDelay?t.keepAliveInitialDelay:3e5,this.noDelay=\"boolean\"!=typeof t.noDelay||t.noDelay,this.connectionTimeout=\"number\"==typeof t.connectionTimeout?t.connectionTimeout:3e4,this.socketTimeout=\"number\"==typeof t.socketTimeout?t.socketTimeout:36e4,this.keepAliveInitialDelay>this.socketTimeout&&(this.keepAliveInitialDelay=Math.round(this.socketTimeout/2)),this.destroyed=!1,this.domainSocket=-1!=this.host.indexOf(\"/\"),this.singleBufferSerializtion=\"boolean\"!=typeof t.singleBufferSerializtion||t.singleBufferSerializtion,this.serializationFunction=this.singleBufferSerializtion?\"toBinUnified\":\"toBin\",this.ca=t.ca||null,this.crl=t.crl||null,this.cert=t.cert||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.ciphers=t.ciphers||null,this.ecdhCurve=t.ecdhCurve||null,this.ssl=\"boolean\"==typeof t.ssl&&t.ssl,this.rejectUnauthorized=\"boolean\"!=typeof t.rejectUnauthorized||t.rejectUnauthorized,this.checkServerIdentity=\"boolean\"!=typeof t.checkServerIdentity&&\"function\"!=typeof t.checkServerIdentity||t.checkServerIdentity,this.ssl||(this.rejectUnauthorized=!1),this.responseOptions={promoteLongs:\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,promoteValues:\"boolean\"!=typeof t.promoteValues||t.promoteValues,promoteBuffers:\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers},this.flushing=!1,this.queue=[],this.connection=null,this.writeStream=null;var n=a.createHash(\"sha1\");n.update(c(\"%s:%s\",this.host,this.port)),this.hashedName=n.digest(\"hex\"),this.workItems=[]};function y(e){delete v[e]}i(g,r),g.prototype.setSocketTimeout=function(e){this.connection&&this.connection.setTimeout(e)},g.prototype.resetSocketTimeout=function(){this.connection&&this.connection.setTimeout(this.socketTimeout)},g.enableConnectionAccounting=function(){h=!0,v={}},g.disableConnectionAccounting=function(){h=!1},g.connections=function(){return v};var b=[\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"NPNProtocols\",\"ALPNProtocols\",\"servername\",\"ecdhCurve\",\"secureProtocol\",\"secureContext\",\"session\",\"minDHSize\"];function x(e,t){for(var n in t)null!=t[n]&&-1!=b.indexOf(n)&&(e[n]=t[n])}g.prototype.connect=function(e){var t,n=this;if(e=e||{},h&&function(e,t){v[e]=t}(this.id,this),\"boolean\"==typeof e.promoteLongs&&(n.responseOptions.promoteLongs=e.promoteLongs,n.responseOptions.promoteValues=e.promoteValues,n.responseOptions.promoteBuffers=e.promoteBuffers),n.domainSocket?t={path:n.host}:(t={port:n.port,host:n.host},void 0!==n.family&&(t.family=n.family)),n.connection=o.createConnection(t),n.connection.setKeepAlive(n.keepAlive,n.keepAliveInitialDelay),n.connection.setTimeout(n.connectionTimeout),n.connection.setNoDelay(n.noDelay),n.ssl){var i={socket:n.connection,rejectUnauthorized:n.rejectUnauthorized};x(i,this.options),x(i,e),n.ca&&(i.ca=n.ca),n.crl&&(i.crl=n.crl),n.cert&&(i.cert=n.cert),n.key&&(i.key=n.key),n.passphrase&&(i.passphrase=n.passphrase),0==n.checkServerIdentity?i.checkServerIdentity=function(){}:\"function\"==typeof n.checkServerIdentity&&(i.checkServerIdentity=n.checkServerIdentity),null==i.servername&&(i.servername=n.host),n.connection=s.connect(n.port,n.host,i,function(){if(n.connection.authorizationError&&n.rejectUnauthorized)return n.emit(\"error\",n.connection.authorizationError,n,{ssl:!0});n.connection.setTimeout(n.socketTimeout),n.emit(\"connect\",n)}),n.connection.setTimeout(n.connectionTimeout)}else n.connection.once(\"connect\",function(){n.connection.setTimeout(n.socketTimeout),n.emit(\"connect\",n)});n.connection.once(\"error\",function(e){return function(t){h&&y(e.id),e.logger.isDebug()&&e.logger.debug(c(\"connection %s for [%s:%s] errored out with [%s]\",e.id,e.host,e.port,JSON.stringify(t))),e.listeners(\"error\").length>0&&e.emit(\"error\",u.create(t),e)}}(n)),n.connection.once(\"timeout\",function(e){return function(){h&&y(e.id),e.logger.isDebug()&&e.logger.debug(c(\"connection %s for [%s:%s] timed out\",e.id,e.host,e.port)),e.emit(\"timeout\",u.create(c(\"connection %s to %s:%s timed out\",e.id,e.host,e.port)),e)}}(n)),n.connection.once(\"close\",function(e){return function(t){h&&y(e.id),e.logger.isDebug()&&e.logger.debug(c(\"connection %s with for [%s:%s] closed\",e.id,e.host,e.port)),t||e.emit(\"close\",u.create(c(\"connection %s to %s:%s closed\",e.id,e.host,e.port)),e)}}(n)),n.connection.on(\"data\",function(e){return function(t){for(;t.length>0;)if(e.bytesRead>0&&e.sizeOfMessage>0){var n=e.sizeOfMessage-e.bytesRead;if(n>t.length)t.copy(e.buffer,e.bytesRead),e.bytesRead=e.bytesRead+t.length,t=new Buffer(0);else{t.copy(e.buffer,e.bytesRead,0,n),t=t.slice(n);try{var i=e.buffer;e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,e.messageHandler(new p(e.bson,i,e.responseOptions),e)}catch(t){var r={err:\"socketHandler\",trace:t,bin:e.buffer,parseState:{sizeOfMessage:e.sizeOfMessage,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}};e.emit(\"parseError\",r,e)}}}else if(null!=e.stubBuffer&&e.stubBuffer.length>0)if(e.stubBuffer.length+t.length>4){var o=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(o,0),t.copy(o,e.stubBuffer.length),t=o,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null}else{var s=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(s,0),t.copy(s,e.stubBuffer.length),t=new Buffer(0)}else if(t.length>4){var a=t[0]|t[1]<<8|t[2]<<16|t[3]<<24;if(a<0||a>e.maxBsonMessageSize)return r={err:\"socketHandler\",trace:\"\",bin:e.buffer,parseState:{sizeOfMessage:a,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}},void e.emit(\"parseError\",r,e);if(a>4&&a<e.maxBsonMessageSize&&a>t.length)e.buffer=new Buffer(a),t.copy(e.buffer,0),e.bytesRead=t.length,e.sizeOfMessage=a,e.stubBuffer=null,t=new Buffer(0);else if(a>4&&a<e.maxBsonMessageSize&&a==t.length)try{i=t,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0),e.messageHandler(new p(e.bson,i,e.responseOptions),e)}catch(t){e.emit(\"parseError\",t,e)}else a<=4||a>e.maxBsonMessageSize?(r={err:\"socketHandler\",trace:null,bin:t,parseState:{sizeOfMessage:a,bytesRead:0,buffer:null,stubBuffer:null}},e.emit(\"parseError\",r,e),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0)):(i=t.slice(0,a),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=t.slice(a),e.messageHandler(new p(e.bson,i,e.responseOptions),e))}else e.stubBuffer=new Buffer(t.length),t.copy(e.stubBuffer,0),t=new Buffer(0)}}(n))},g.prototype.unref=function(){if(this.connection)this.connection.unref();else{var e=this;this.once(\"connect\",function(){e.connection.unref()})}},g.prototype.destroy=function(){if(h&&y(this.id),this.connection){try{this.connection.end()}catch(e){}this.connection.destroy()}this.destroyed=!0},g.prototype.write=function(e){var t;if(this.logger.isDebug())if(Array.isArray(e))for(t=0;t<e.length;t++)this.logger.debug(c(\"writing buffer [%s] to %s:%s\",e[t].toString(\"hex\"),this.host,this.port));else this.logger.debug(c(\"writing buffer [%s] to %s:%s\",e.toString(\"hex\"),this.host,this.port));if(!1===this.connection.destroyed){if(!Array.isArray(e))return this.connection.write(e,\"binary\"),!0;for(t=0;t<e.length;t++)this.connection.write(e[t],\"binary\");return!0}return!1},g.prototype.toString=function(){return\"\"+this.id},g.prototype.toJSON=function(){return{id:this.id,host:this.host,port:this.port}},g.prototype.isConnected=function(){return!this.destroyed&&(!this.connection.destroyed&&this.connection.writable)},e.exports=g},function(e,t,n){\"use strict\";var i=function(e,t,n){this.result=e,this.connection=t,this.message=n};i.prototype.toJSON=function(){return this.result},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.exports=i},function(e,t,n){\"use strict\";e.exports=v;var i,r=n(74),o=n(195);v.ReadableState=h;n(3).EventEmitter;var s,a=function(e,t){return e.listeners(t).length};!function(){try{s=n(9)}catch(e){}finally{s||(s=n(3).EventEmitter)}}();var c=n(13).Buffer,l=n(75),p=n(37);p.inherits=n(24);var u=n(0),d=void 0;d=u&&u.debuglog?u.debuglog(\"stream\"):function(){};var f,m=n(196);function h(e,t){i=i||n(27),e=e||{},this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(109).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(27),!(this instanceof v))return new v(e);this._readableState=new h(e,this),this.readable=!0,e&&\"function\"==typeof e.read&&(this._read=e.read),s.call(this)}function g(e,t,n,i,o){var s=function(e,t){var n=null;c.isBuffer(t)||\"string\"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError(\"Invalid non-string/buffer chunk\"));return n}(t,n);if(s)e.emit(\"error\",s);else if(null===n)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!o){var a=new Error(\"stream.push() after EOF\");e.emit(\"error\",a)}else if(t.endEmitted&&o){var l=new Error(\"stream.unshift() after end event\");e.emit(\"error\",l)}else{var p;!t.decoder||o||i||(n=t.decoder.write(n),p=!t.objectMode&&0===n.length),o||(t.reading=!1),p||(t.flowing&&0===t.length&&!t.sync?(e.emit(\"data\",n),e.read(0)):(t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e))),function(e,t){t.readingMore||(t.readingMore=!0,r(S,e,t))}(e,t)}else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}p.inherits(v,s),v.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||\"string\"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=\"\"),g(this,n,e,t,!1)},v.prototype.unshift=function(e){return g(this,this._readableState,e,\"\",!0)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return f||(f=n(109).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var y=8388608;function b(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=y?e=y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d(\"emitReadable\",t.flowing),t.emittedReadable=!0,t.sync?r(w,e):w(e))}function w(e){d(\"emit readable\"),e.emit(\"readable\"),E(e)}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d(\"maybeReadMore read 0\"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){d(\"readable nexttick read 0\"),e.read(0)}function O(e,t){t.reading||(d(\"resume read 0\"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit(\"resume\"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(d(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?r+=o:r+=o.slice(0,e),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,r=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(s));break}++r}return t.length-=r,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function _(e){var t=e._readableState;if(t.length>0)throw new Error('\"endReadable()\" called on non-empty stream');t.endEmitted||(t.ended=!0,r(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"))}function T(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){d(\"read\",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?_(this):x(this),null;if(0===(e=b(e,t))&&t.ended)return 0===t.length&&_(this),null;var i,r=t.needReadable;return d(\"need readable\",r),(0===t.length||t.length-e<t.highWaterMark)&&d(\"length less than watermark\",r=!0),t.ended||t.reading?d(\"reading or ended\",r=!1):r&&(d(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=b(n,t))),null===(i=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&_(this)),null!==i&&this.emit(\"data\",i),i},v.prototype._read=function(e){this.emit(\"error\",new Error(\"_read() is not implemented\"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d(\"pipe count=%d opts=%j\",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:f;function c(e){d(\"onunpipe\"),e===n&&f()}function l(){d(\"onend\"),e.end()}i.endEmitted?r(s):n.once(\"end\",s),e.on(\"unpipe\",c);var p=function(e){return function(){var t=e._readableState;d(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,\"data\")&&(t.flowing=!0,E(e))}}(n);e.on(\"drain\",p);var u=!1;function f(){d(\"cleanup\"),e.removeListener(\"close\",g),e.removeListener(\"finish\",y),e.removeListener(\"drain\",p),e.removeListener(\"error\",v),e.removeListener(\"unpipe\",c),n.removeListener(\"end\",l),n.removeListener(\"end\",f),n.removeListener(\"data\",h),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||p()}var m=!1;function h(t){d(\"ondata\"),m=!1,!1!==e.write(t)||m||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==T(i.pipes,e))&&!u&&(d(\"false write response, pause\",n._readableState.awaitDrain),n._readableState.awaitDrain++,m=!0),n.pause())}function v(t){d(\"onerror\",t),b(),e.removeListener(\"error\",v),0===a(e,\"error\")&&e.emit(\"error\",t)}function g(){e.removeListener(\"finish\",y),b()}function y(){d(\"onfinish\"),e.removeListener(\"close\",g),b()}function b(){d(\"unpipe\"),n.unpipe(e)}return n.on(\"data\",h),function(e,t,n){if(\"function\"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,\"error\",v),e.once(\"close\",g),e.once(\"finish\",y),e.emit(\"pipe\",n),i.flowing||(d(\"pipe resume\"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<i;r++)n[r].emit(\"unpipe\",this);return this}var o=T(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this),this)},v.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if(\"data\"===e)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&x(this):r(k,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(d(\"resume\"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r(O,e,t))}(this,e)),this},v.prototype.pause=function(){return d(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(d(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},v.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;for(var r in e.on(\"end\",function(){if(d(\"wrapped end\"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on(\"data\",function(r){(d(\"wrapped data\"),t.decoder&&(r=t.decoder.write(r)),!t.objectMode||null!==r&&void 0!==r)&&((t.objectMode||r&&r.length)&&(i.push(r)||(n=!0,e.pause())))}),e)void 0===this[r]&&\"function\"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));return function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)}([\"error\",\"close\",\"destroy\",\"pause\",\"resume\"],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){d(\"wrapped _read\",t),n&&(n=!1,e.resume())},i},v._fromList=C},function(e,t,n){\"use strict\";e.exports=m;var i,r=n(74),o=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:r;m.WritableState=f;var s=n(37);s.inherits=n(24);var a,c={deprecate:n(197)};!function(){try{a=n(9)}catch(e){}finally{a||(a=n(3).EventEmitter)}}();var l,p=n(13).Buffer,u=n(75);function d(){}function f(e,t){i=i||n(27),e=e||{},this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var s=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:a,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?r(o,i):o(i);e._writableState.errorEmitted=!0,e.emit(\"error\",i)}(e,n,i,t,s);else{var a=y(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||g(e,n),i?o(v,e,n,a,s):v(e,n,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function m(e){if(i=i||n(27),!(l.call(m,this)||this instanceof i))return new m(e);this._writableState=new f(e,this),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev)),a.call(this)}function h(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function v(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,i(),x(e,t)}function g(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;h(e,t,!0,t.length,r,\"\",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new w(t)}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(h(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit(\"prefinish\"))}function x(e,t){var n=y(t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit(\"finish\")):b(e,t)),n}function w(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}s.inherits(m,a),f.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(f.prototype,\"buffer\",{get:c.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||e&&e._writableState instanceof f}})):l=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},m.prototype.write=function(e,t,n){var i=this._writableState,o=!1,s=p.isBuffer(e);return\"function\"==typeof t&&(n=t,t=null),s?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof n&&(n=d),i.ended?function(e,t){var n=new Error(\"write after end\");e.emit(\"error\",n),r(t,n)}(this,n):(s||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError(\"May not write null values to stream\"):\"string\"==typeof n||void 0===n||t.objectMode||(s=new TypeError(\"Invalid non-string/buffer chunk\")),s&&(e.emit(\"error\",s),r(i,s),o=!1),o}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,i,r,o){n||(i=function(e,t,n){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=u.from(t,n));return t}(t,i,r),p.isBuffer(i)&&(r=\"buffer\"));var s=t.objectMode?1:i.length;t.length+=s;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new function(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}(i,r,o),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else h(e,t,!1,s,i,r,o);return a}(this,i,s,e,t,n)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},m.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+e);return this._writableState.defaultEncoding=e,this},m.prototype._write=function(e,t,n){n(new Error(\"_write() is not implemented\"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var i=this._writableState;\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?r(n):e.once(\"finish\",n));t.ended=!0,e.writable=!1}(this,i,n)}},function(e,t,n){\"use strict\";var i=n(198).Buffer,r=i.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(e);if(\"string\"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error(\"Unknown encoding: \"+e);return t||e}(e),this.encoding){case\"utf16le\":this.text=c,this.end=l,t=4;break;case\"utf8\":this.fillLast=a,t=4;break;case\"base64\":this.text=p,this.end=u,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,\"�\".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"�\".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"�\".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString(\"utf16le\",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString(\"base64\",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):\"\"}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return\"\";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||\"\"},o.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"�\".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n)return 0;if((r=s(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n)return 0;if((r=s(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString(\"utf8\",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){\"use strict\";e.exports=s;var i=n(27),r=n(37);function o(e){this.afterTransform=function(t,n){return function(e,t,n){var i=e._transformState;i.transforming=!1;var r=i.writecb;if(!r)return e.emit(\"error\",new Error(\"no writecb in Transform class\"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&e.push(n);r(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.once(\"prefinish\",function(){\"function\"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit(\"error\",t);null!==n&&void 0!==n&&e.push(n);var i=e._writableState,r=e._transformState;if(i.length)throw new Error(\"Calling transform done when ws.length != 0\");if(r.transforming)throw new Error(\"Calling transform done when still transforming\");return e.push(null)}r.inherits=n(24),r.inherits(s,i),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error(\"_transform() is not implemented\")},s.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){\"use strict\";var i=n(2).BSON.Long,r=(n(2).BSON.Timestamp,function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})}),o=function(e){if(!(this instanceof o))return new o(e);r(this,\"code\",e.code),r(this,\"errmsg\",e.errmsg),this.toJSON=function(){return{code:e.code,errmsg:e.errmsg}},this.toString=function(){return\"WriteConcernError(\"+e.errmsg+\")\"}},s=function(e){if(!(this instanceof s))return new s(e);r(this,\"code\",e.code),r(this,\"index\",e.index),r(this,\"errmsg\",e.errmsg),this.getOperation=function(){return e.op},this.toJSON=function(){return{code:e.code,index:e.index,errmsg:e.errmsg,op:e.op}},this.toString=function(){return\"WriteError(\"+JSON.stringify(this.toJSON())+\")\"}};t.BulkWriteResult=function(e){r(this,\"ok\",e.ok),r(this,\"nInserted\",e.nInserted),r(this,\"nUpserted\",e.nUpserted),r(this,\"nMatched\",e.nMatched),r(this,\"nModified\",e.nModified),r(this,\"nRemoved\",e.nRemoved),this.getInsertedIds=function(){return e.insertedIds},this.getUpsertedIds=function(){return e.upserted},this.getUpsertedIdAt=function(t){return e.upserted[t]},this.getRawResponse=function(){return e},this.hasWriteErrors=function(){return e.writeErrors.length>0},this.getWriteErrorCount=function(){return e.writeErrors.length},this.getWriteErrorAt=function(t){return t<e.writeErrors.length?e.writeErrors[t]:null},this.getWriteErrors=function(){return e.writeErrors},this.getLastOp=function(){return e.lastOp},this.getWriteConcernError=function(){if(0==e.writeConcernErrors.length)return null;if(1==e.writeConcernErrors.length)return e.writeConcernErrors[0];for(var t=\"\",n=0;n<e.writeConcernErrors.length;n++)t+=e.writeConcernErrors[n].errmsg,0==n&&(t+=\" and \");return new o({errmsg:t,code:64})},this.toJSON=function(){return e},this.toString=function(){return\"BulkWriteResult(\"+this.toJSON(e)+\")\"},this.isOk=function(){return 1==e.ok}},t.WriteError=s,t.Batch=function(e,t){this.originalZeroIndex=t,this.currentIndex=0,this.originalIndexes=[],this.batchType=e,this.operations=[],this.size=0,this.sizeBytes=0},t.LegacyOp=function(e,t,n){this.batchType=e,this.index=n,this.operation=t},t.mergeBatchResults=function(e,t,n,r,a){if(r)a=r;else if(a&&a.result)a=a.result;else if(null==a)return;if(0!=a.ok||1!=n.ok){if(0!=a.ok||0!=n.ok){if(a.opTime||a.lastOp){var c=a.lastOp||a.opTime,l=null,p=null;if(c&&\"Timestamp\"==c._bsontype)null==n.lastOp?n.lastOp=c:c.greaterThan(n.lastOp)&&(n.lastOp=c);else{n.lastOp&&(l=\"number\"==typeof n.lastOp.ts?i.fromNumber(n.lastOp.ts):n.lastOp.ts,p=\"number\"==typeof n.lastOp.t?i.fromNumber(n.lastOp.t):n.lastOp.t);var u=\"number\"==typeof c.ts?i.fromNumber(c.ts):c.ts,d=\"number\"==typeof c.t?i.fromNumber(c.t):c.t;null==n.lastOp?n.lastOp=c:u.greaterThan(l)?n.lastOp=c:u.equals(l)&&d.greaterThan(p)&&(n.lastOp=c)}}1==t.batchType&&a.n&&(n.nInserted=n.nInserted+a.n),3==t.batchType&&a.n&&(n.nRemoved=n.nRemoved+a.n);var f=0;if(Array.isArray(a.upserted)){f=a.upserted.length;for(var m=0;m<a.upserted.length;m++)n.upserted.push({index:a.upserted[m].index+t.originalZeroIndex,_id:a.upserted[m]._id})}else a.upserted&&(f=1,n.upserted.push({index:t.originalZeroIndex,_id:a.upserted}));if(2==t.batchType&&a.n){var h=a.nModified;n.nUpserted=n.nUpserted+f,n.nMatched=n.nMatched+(a.n-f),n.nModified=\"number\"==typeof h?n.nModified+h:null}if(Array.isArray(a.writeErrors))for(m=0;m<a.writeErrors.length;m++)v={index:t.originalZeroIndex+a.writeErrors[m].index,code:a.writeErrors[m].code,errmsg:a.writeErrors[m].errmsg,op:t.operations[a.writeErrors[m].index]},n.writeErrors.push(new s(v));a.writeConcernError&&n.writeConcernErrors.push(new o(a.writeConcernError))}}else{n.ok=0;var v={index:0,code:a.code||0,errmsg:a.message,op:t.operations[0]};n.writeErrors.push(new s(v))}},t.cloneOptions=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i]]=e[n[i]];return t},t.writeConcern=function(e,t,n){var i={};return t.writeConcern&&null!=t.writeConcern.w&&(i.w=t.writeConcern.w),t.writeConcern&&null!=t.writeConcern.j&&(i.j=t.writeConcern.j),t.writeConcern&&null!=t.writeConcern.fsync&&(i.fsync=t.writeConcern.fsync),t.writeConcern&&null!=t.writeConcern.wtimeout&&(i.wtimeout=t.writeConcern.wtimeout),n&&null!=n.w&&(i.w=n.w),n&&null!=n.wtimeout&&(i.wtimeout=n.wtimeout),n&&null!=n.j&&(i.j=n.j),n&&null!=n.fsync&&(i.fsync=n.fsync),i},t.INVALID_BSON_ERROR=22,t.WRITE_CONCERN_ERROR=64,t.MULTIPLE_ERROR=65,t.UNKNOWN_ERROR=8,t.INSERT=1,t.UPDATE=2,t.REMOVE=3},function(e,t,n){\"use strict\";var i=n(113),r=n(2).BSON.ObjectID,o=n(15),s=n(13).Buffer,a=n(62),c=n(12),l=n(0).format,p=n(0),u=n(10),d=n(2).MongoError,f=p.inherits,m=n(9).Duplex||n(61).Duplex,h=n(1).shallowClone,v=function e(t,s,a,c,l){if(!(this instanceof e))return new e(t,s,a,c,l);this.db=t,void 0===l&&(l={}),void 0===c?(c=a,a=void 0):\"object\"==typeof c&&(l=c,c=a,a=void 0),s&&\"ObjectID\"==s._bsontype?(this.referenceBy=1,this.fileId=s,this.filename=a):void 0===a?(this.referenceBy=0,this.filename=s,null!=c.indexOf(\"w\")&&(this.fileId=new r)):(this.referenceBy=1,this.fileId=s,this.filename=a),this.mode=null==c?\"r\":c,this.options=l||{},this.isOpen=!1,this.root=null==this.options.root?e.DEFAULT_ROOT_COLLECTION:this.options.root,this.position=0,this.readPreference=this.options.readPreference||t.options.readPreference||o.PRIMARY,this.writeConcern=q(t,this.options),this.internalChunkSize=null==this.options.chunkSize?i.DEFAULT_CHUNK_SIZE:this.options.chunkSize;var p=this.options.promiseLibrary;p||(p=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),this.promiseLibrary=p,Object.defineProperty(this,\"chunkSize\",{enumerable:!0,get:function(){return this.internalChunkSize},set:function(e){\"w\"!=this.mode[0]||0!=this.position||null!=this.uploadDate?this.internalChunkSize=this.internalChunkSize:this.internalChunkSize=e}}),Object.defineProperty(this,\"md5\",{enumerable:!0,get:function(){return this.internalMd5}}),Object.defineProperty(this,\"chunkNumber\",{enumerable:!0,get:function(){return this.currentChunk&&this.currentChunk.chunkNumber?this.currentChunk.chunkNumber:null}})},g=v.define=new u(\"Gridstore\",v,!0);v.prototype.open=function(e){var t=this;if(\"w\"!=this.mode&&\"w+\"!=this.mode&&\"r\"!=this.mode)throw d.create({message:\"Illegal mode \"+this.mode,driver:!0});return\"function\"==typeof e?y(t,e):new t.promiseLibrary(function(e,n){y(t,function(t,i){if(t)return n(t);e(i)})})};var y=function(e,t){var n=q(e.db,e.options);\"w\"==e.mode||\"w+\"==e.mode?e.collection().ensureIndex([[\"filename\",1]],n,function(){var i=e.chunkCollection(),r=h(n);r.unique=!0,i.ensureIndex([[\"files_id\",1],[\"n\",1]],r,function(){_(e,n,function(n,i){if(n)return t(n);e.isOpen=!0,t(n,i)})})}):_(e,n,function(n,i){if(n)return t(n);e.isOpen=!0,t(n,i)})};g.classMethod(\"open\",{callback:!0,promise:!0}),v.prototype.eof=function(){return this.position==this.length},g.classMethod(\"eof\",{callback:!1,promise:!1,returns:[Boolean]}),v.prototype.getc=function(e){var t=this;return\"function\"==typeof e?b(t,e):new t.promiseLibrary(function(e,n){b(t,function(t,i){if(t)return n(t);e(i)})})};var b=function(e,t){e.eof()?t(null,null):e.currentChunk.eof()?N(e,e.currentChunk.chunkNumber+1,function(n,i){e.currentChunk=i,e.position=e.position+1,t(n,e.currentChunk.getc())}):(e.position=e.position+1,t(null,e.currentChunk.getc()))};g.classMethod(\"getc\",{callback:!0,promise:!0}),v.prototype.puts=function(e,t){var n=this,i=null==e.match(/\\n$/)?e+\"\\n\":e;return\"function\"==typeof t?this.write(i,t):new n.promiseLibrary(function(e,t){n.write(i,function(n,i){if(n)return t(n);e(i)})})},g.classMethod(\"puts\",{callback:!0,promise:!0}),v.prototype.stream=function(){return new U(this)},g.classMethod(\"stream\",{callback:!1,promise:!1,returns:[U]}),v.prototype.write=function(e,t,n){var i=this;return\"function\"==typeof n?L(this,e,t,n):new i.promiseLibrary(function(n,r){L(i,e,t,function(e,t){if(e)return r(e);n(t)})})},g.classMethod(\"write\",{callback:!0,promise:!0}),v.prototype.destroy=function(){this.writable&&(this.readable=!1,this.writable&&(this.writable=!1,this._q.length=0,this.emit(\"close\")))},g.classMethod(\"destroy\",{callback:!1,promise:!1}),v.prototype.writeFile=function(e,t){var n=this;return\"function\"==typeof t?x(n,e,t):new n.promiseLibrary(function(t,i){x(n,e,function(e,n){if(e)return i(e);t(n)})})};var x=function(e,t,n){\"string\"!=typeof t?e.open(function(e,r){if(e)return n(e,r);c.fstat(t,function(e,o){if(e)return n(e,r);var a=0,l=0,p=function(){var e=new s(r.chunkSize);c.read(t,e,0,e.length,a,function(e,s,u){if(e)return n(e,r);a+=s,new i(r,{n:l++},r.writeConcern).write(u.slice(0,s),function(e,i){if(e)return n(e,r);i.save({},function(e){return e?n(e,r):(r.position=r.position+s,r.currentChunk=i,a>=o.size?(c.close(t),void r.close(function(e){return n(e||null,r)})):process.nextTick(p))})})})};process.nextTick(p)})}):c.open(t,\"r\",function(t,i){if(t)return n(t);e.writeFile(i,n)})};g.classMethod(\"writeFile\",{callback:!0,promise:!0}),v.prototype.close=function(e){var t=this;return\"function\"==typeof e?w(t,e):new t.promiseLibrary(function(e,n){w(t,function(t,i){if(t)return n(t);e(i)})})};var w=function(e,t){if(\"w\"==e.mode[0]){var n=e.writeConcern;null!=e.currentChunk&&e.currentChunk.position>0?e.currentChunk.save({},function(i){if(i&&\"function\"==typeof t)return t(i);e.collection(function(i,r){if(i&&\"function\"==typeof t)return t(i);null!=e.uploadDate?T(e,function(e,i){if(e){if(\"function\"==typeof t)return t(e);throw e}r.save(i,n,function(e){\"function\"==typeof t&&t(e,i)})}):(e.uploadDate=new Date,T(e,function(e,i){if(e){if(\"function\"==typeof t)return t(e);throw e}r.save(i,n,function(e){\"function\"==typeof t&&t(e,i)})}))})}):e.collection(function(i,r){if(i&&\"function\"==typeof t)return t(i);e.uploadDate=new Date,T(e,function(e,i){if(e){if(\"function\"==typeof t)return t(e);throw e}r.save(i,n,function(e){\"function\"==typeof t&&t(e,i)})})})}else\"r\"==e.mode[0]?\"function\"==typeof t&&t(null,null):\"function\"==typeof t&&t(d.create({message:l(\"Illegal mode %s\",e.mode),driver:!0}))};g.classMethod(\"close\",{callback:!0,promise:!0}),v.prototype.chunkCollection=function(e){return\"function\"==typeof e?this.db.collection(this.root+\".chunks\",e):this.db.collection(this.root+\".chunks\")},g.classMethod(\"chunkCollection\",{callback:!0,promise:!1,returns:[a]}),v.prototype.unlink=function(e){var t=this;return\"function\"==typeof e?S(t,e):new t.promiseLibrary(function(e,n){S(t,function(t,i){if(t)return n(t);e(i)})})};var S=function(e,t){M(e,function(n){if(null!==n)return n.message=\"at deleteChunks: \"+n.message,t(n);e.collection(function(n,i){if(null!==n)return n.message=\"at collection: \"+n.message,t(n);i.remove({_id:e.fileId},e.writeConcern,function(n){t(n,e)})})})};g.classMethod(\"unlink\",{callback:!0,promise:!0}),v.prototype.collection=function(e){return\"function\"==typeof e&&this.db.collection(this.root+\".files\",e),this.db.collection(this.root+\".files\")},g.classMethod(\"collection\",{callback:!0,promise:!1,returns:[a]}),v.prototype.readlines=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=i.pop())&&i.push(t),e=(e=i.length?i.shift():\"\\n\")||\"\\n\",\"function\"==typeof t?k(n,e,t):new n.promiseLibrary(function(t,i){k(n,e,function(e,n){if(e)return i(e);t(n)})})};var k=function(e,t,n){e.read(function(e,i){if(e)return n(e);var r=i.toString().split(t);r=r.length>0?r.splice(0,r.length-1):[];for(var o=0;o<r.length;o++)r[o]=r[o]+t;n(null,r)})};g.classMethod(\"readlines\",{callback:!0,promise:!0}),v.prototype.rewind=function(e){var t=this;return\"function\"==typeof e?O(t,e):new t.promiseLibrary(function(e,n){O(t,function(t,i){if(t)return n(t);e(i)})})};var O=function(e,t){0!=e.currentChunk.chunkNumber?\"w\"==e.mode[0]?M(e,function(n){if(n)return t(n);e.currentChunk=new i(e,{n:0},e.writeConcern),e.position=0,t(null,e)}):e.currentChunk(0,function(n,i){if(n)return t(n);e.currentChunk=i,e.currentChunk.rewind(),e.position=0,t(null,e)}):(e.currentChunk.rewind(),e.position=0,t(null,e))};g.classMethod(\"rewind\",{callback:!0,promise:!0}),v.prototype.read=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=r.pop())&&r.push(n),e=r.length?r.shift():null,t=r.length?r.shift():null,\"function\"==typeof n?E(i,e,t,n):new i.promiseLibrary(function(n,r){E(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var E=function(e,t,n,i){var r=null==t?e.length-e.position:t,o=null==n?new s(r):n;if(o._index=null!=n&&null!=n._index?n._index:0,e.currentChunk.length()-e.currentChunk.position+o._index>=r){var a=e.currentChunk.readSlice(r-o._index);return a.copy(o,o._index),e.position=e.position+o.length,0==r&&0==o.length?i(d.create({message:\"File does not exist\",driver:!0}),null):i(null,o)}(a=e.currentChunk.readSlice(e.currentChunk.length()-e.currentChunk.position)).copy(o,o._index),o._index+=a.length,N(e,e.currentChunk.chunkNumber+1,function(n,r){if(n)return i(n);r.length()>0?(e.currentChunk=r,e.read(t,o,i)):o._index>0?i(null,o):i(d.create({message:\"no chunks found for file, possibly corrupt\",driver:!0}),null)})};g.classMethod(\"read\",{callback:!0,promise:!0}),v.prototype.tell=function(e){var t=this;return\"function\"==typeof e?e(null,this.position):new t.promiseLibrary(function(e){e(t.position)})},g.classMethod(\"tell\",{callback:!0,promise:!0}),v.prototype.seek=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=r.length?r.shift():null,\"function\"==typeof n?C(i,e,t,n):new i.promiseLibrary(function(n,r){C(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var C=function(e,t,n,i){if(\"r\"!=e.mode)return i(d.create({message:\"seek is only supported for mode r\",driver:!0}));var r=null==n?v.IO_SEEK_SET:n,o=t,s=0;s=r==v.IO_SEEK_CUR?e.position+o:r==v.IO_SEEK_END?e.length+o:o;var a=Math.floor(s/e.chunkSize);N(e,a,function(t,n){return t?i(t,null):null==n?i(new Error(\"no chunk found\")):(e.currentChunk=n,e.position=s,e.currentChunk.position=e.position%e.chunkSize,void i(t,e))})};g.classMethod(\"seek\",{callback:!0,promise:!0});var _=function(e,t,n){var o=e.collection(),s=1==e.referenceBy?{_id:e.fileId}:{filename:e.filename};function a(e){a.err||n(a.err=e)}s=null==e.fileId&&null==e.filename?null:s,t.readPreference=e.readPreference,null!=s?o.findOne(s,t,function(o,s){if(o)return a(o);if(null!=s)e.fileId=s._id,e.filename=\"r\"==e.mode||void 0==e.filename?s.filename:e.filename,e.contentType=s.contentType,e.internalChunkSize=s.chunkSize,e.uploadDate=s.uploadDate,e.aliases=s.aliases,e.length=s.length,e.metadata=s.metadata,e.internalMd5=s.md5;else{if(\"r\"==e.mode){e.length=0;var c=\"ObjectID\"==e.fileId._bsontype?e.fileId.toHexString():e.fileId;return a(d.create({message:l(\"file with id %s not opened for writing\",1==e.referenceBy?c:e.filename),driver:!0}))}e.fileId=null==e.fileId?new r:e.fileId,e.contentType=v.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?i.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0}\"r\"==e.mode?N(e,0,t,function(t,i){if(t)return a(t);e.currentChunk=i,e.position=0,n(null,e)}):\"w\"==e.mode&&s?M(e,t,function(t){if(t)return a(t);e.currentChunk=new i(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)}):\"w\"==e.mode?(e.currentChunk=new i(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)):\"w+\"==e.mode&&N(e,A(e),t,function(t,r){if(t)return a(t);e.currentChunk=null==r?new i(e,{n:0},e.writeConcern):r,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,n(null,e)})}):(e.fileId=null==e.fileId?new r:e.fileId,e.contentType=v.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?i.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0,\"w\"==e.mode?M(e,t,function(t){if(t)return a(t);e.currentChunk=new i(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)}):\"w+\"==e.mode&&N(e,A(e),t,function(t,r){if(t)return a(t);e.currentChunk=null==r?new i(e,{n:0},e.writeConcern):r,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,n(null,e)}))},I=function(e,t,n,r){\"function\"==typeof n&&(r=n,n=null);var o=\"boolean\"==typeof n&&n;if(\"w\"!=e.mode)r(d.create({message:l(\"file with id %s not opened for writing\",1==e.referenceBy?e.referenceBy:e.filename),driver:!0}),null);else{if(!(e.currentChunk.position+t.length>=e.chunkSize))return e.position=e.position+t.length,e.currentChunk.write(t),o?e.close(function(t){r(t,e)}):r(null,e);for(var s=e.currentChunk.chunkNumber,a=e.chunkSize-e.currentChunk.position,c=t.slice(0,a),p=t.slice(a),u=[e.currentChunk.write(c)];p.length>=e.chunkSize;){var f=new i(e,{n:s+1},e.writeConcern);c=p.slice(0,e.chunkSize),p=p.slice(e.chunkSize),s+=1,f.write(c),u.push(f)}e.currentChunk=new i(e,{n:s+1},e.writeConcern),p.length>0&&e.currentChunk.write(p),e.position=e.position+t.length;for(var m=u.length,h=0;h<u.length;h++)u[h].save({},function(t){return t?r(t):(m-=1)<=0?o?e.close(function(t){r(t,e)}):r(null,e):void 0})}},T=function(e,t){var n={_id:e.fileId,filename:e.filename,contentType:e.contentType,length:e.position?e.position:0,chunkSize:e.chunkSize,uploadDate:e.uploadDate,aliases:e.aliases,metadata:e.metadata},i={filemd5:e.fileId,root:e.root};e.db.command(i,function(e,i){if(e)return t(e);n.md5=i.md5,t(null,n)})},N=function(e,t,n,r){\"function\"==typeof n&&(r=n,n={}),(n=n||e.writeConcern).readPreference=e.readPreference,e.chunkCollection().findOne({files_id:e.fileId,n:t},n,function(t,n){if(t)return r(t);r(null,new i(e,null==n?{}:n,e.writeConcern))})},A=function(e){return Math.floor((e.length?e.length-1:0)/e.chunkSize)},M=function(e,t,n){\"function\"==typeof t&&(n=t,t={}),t=t||e.writeConcern,null!=e.fileId?e.chunkCollection().remove({files_id:e.fileId},t,function(e){if(e)return n(e,!1);n(null,!0)}):n(null,!0)};v.DEFAULT_ROOT_COLLECTION=\"fs\",v.DEFAULT_CONTENT_TYPE=\"binary/octet-stream\",v.IO_SEEK_SET=0,v.IO_SEEK_CUR=1,v.IO_SEEK_END=2,v.exist=function(e,t,i,r,o){var s=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=s.pop())&&s.push(o),i=s.length?s.shift():null;var a=(r=(r=s.length?s.shift():{})||{}).promiseLibrary;return a||(a=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"==typeof o?B(e,t,i,r,o):new a(function(n,o){B(e,t,i,r,function(e,t){if(e)return o(e);n(t)})})};var B=function(e,t,n,i,r){var s=i.readPreference||o.PRIMARY,a=null!=n?n:v.DEFAULT_ROOT_COLLECTION;e.collection(a+\".files\",function(e,n){if(e)return r(e);var i=\"string\"==typeof t||\"[object RegExp]\"==Object.prototype.toString.call(t)?{filename:t}:{_id:t};null!=t&&\"object\"==typeof t&&\"[object RegExp]\"!=Object.prototype.toString.call(t)&&(i=t),n.findOne(i,{readPreference:s},function(e,t){if(e)return r(e);r(null,null!=t)})})};g.staticMethod(\"exist\",{callback:!0,promise:!0}),v.list=function(e,t,i,r){var o=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(r=o.pop())&&o.push(r),t=o.length?o.shift():null;var s=(i=(i=o.length?o.shift():{})||{}).promiseLibrary;return s||(s=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"==typeof r?j(e,t,i,r):new s(function(n,r){j(e,t,i,function(e,t){if(e)return r(e);n(t)})})};var j=function(e,t,n,i){null!=t&&\"object\"==typeof t&&(n=t,t=null);var r=n.readPreference||o.PRIMARY,s=null!=n.id&&n.id,a=null!=t?t:v.DEFAULT_ROOT_COLLECTION,c=[];e.collection(a+\".files\",function(e,t){if(e)return i(e);t.find({},{readPreference:r},function(e,t){if(e)return i(e);t.each(function(e,t){null!=t?c.push(s?t._id:t.filename):i(e,c)})})})};g.staticMethod(\"list\",{callback:!0,promise:!0}),v.read=function(e,t,i,r,o,s){var a=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(s=a.pop())&&a.push(s),i=a.length?a.shift():null,r=a.length?a.shift():null;var c=(o=(o=a.length?a.shift():null)||{})?o.promiseLibrary:null;return c||(c=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"==typeof s?P(e,t,i,r,o,s):new c(function(n,s){P(e,t,i,r,o,function(e,t){if(e)return s(e);n(t)})})};var P=function(e,t,n,i,r,o){new v(e,t,\"r\",r).open(function(e,t){return e?o(e):i&&i>=t.length?o(\"offset larger than size of file\",null):n&&n>t.length?o(\"length is larger than the size of the file\",null):i&&n&&i+n>t.length?o(\"offset and length is larger than the size of the file\",null):void(null!=i?t.seek(i,function(e,t){if(e)return o(e);t.read(n,o)}):t.read(n,o))})};g.staticMethod(\"read\",{callback:!0,promise:!0}),v.readlines=function(e,t,i,r,o){var s=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=s.pop())&&s.push(o),i=s.length?s.shift():null;var a=(r=(r=s.length?s.shift():null)||{})?r.promiseLibrary:null;return a||(a=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"==typeof o?D(e,t,i,r,o):new a(function(n,o){D(e,t,i,r,function(e,t){if(e)return o(e);n(t)})})};var D=function(e,t,n,i,r){var o=null==n?\"\\n\":n;new v(e,t,\"r\",i).open(function(e,t){if(e)return r(e);t.readlines(o,r)})};g.staticMethod(\"readlines\",{callback:!0,promise:!0}),v.unlink=function(e,t,i,r){var o=this,s=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(r=s.pop())&&s.push(r);var a=(i=(i=s.length?s.shift():{})||{}).promiseLibrary;return a||(a=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"==typeof r?R(o,e,t,i,r):new a(function(n,r){R(o,e,t,i,function(e,t){if(e)return r(e);n(t)})})};var R=function(e,t,n,i,r){var o=q(t,i);if(n.constructor==Array)for(var s=0,a=0;a<n.length;a++)++s,v.unlink(t,n[a],i,function(){0==--s&&r(null,e)});else new v(t,n,\"w\",i).open(function(t,n){if(t)return r(t);M(n,function(t){if(t)return r(t);n.collection(function(t,i){if(t)return r(t);i.remove({_id:n.fileId},o,function(t){r(t,e)})})})})};g.staticMethod(\"unlink\",{callback:!0,promise:!0});var L=function(e,t,n,i){return s.isBuffer(t)?I(e,t,n,i):I(e,new s(t,\"binary\"),n,i)},z=function(e){var t={};return null!=e.w&&(t.w=e.w),1==e.journal&&(t.j=e.journal),1==e.j&&(t.j=e.j),1==e.fsync&&(t.fsync=e.fsync),null!=e.wtimeout&&(t.wtimeout=e.wtimeout),t},q=function(e,t){var n={w:1};if(null!=(t=t||{}).w||\"boolean\"==typeof t.j||\"boolean\"==typeof t.journal||\"boolean\"==typeof t.fsync?n=z(t):null!=t.safe&&\"object\"==typeof t.safe?n=z(t.safe):\"boolean\"==typeof t.safe?n={w:t.safe?1:0}:null!=e.options.w||\"boolean\"==typeof e.options.j||\"boolean\"==typeof e.options.journal||\"boolean\"==typeof e.options.fsync?n=z(e.options):!e.safe||null==e.safe.w&&\"boolean\"!=typeof e.safe.j&&\"boolean\"!=typeof e.safe.journal&&\"boolean\"!=typeof e.safe.fsync?\"boolean\"==typeof e.safe&&(n={w:e.safe?1:0}):n=z(e.safe),n.w<1&&(1==n.journal||1==n.j||1==n.fsync))throw d.create({message:\"No acknowledgement using w < 1 cannot be combined with journal:true or fsync:true\",driver:!0});return n},U=function(e){m.call(this),this.gs=e,this.endCalled=!1,this.totalBytesToRead=this.gs.length-this.gs.position,this.seekPosition=this.gs.position};f(U,m),U.prototype._pipe=U.prototype.pipe,U.prototype.pipe=function(e){var t=this;return t.gs.isOpen?(t.totalBytesToRead=t.gs.length-t.gs.position,t._pipe.apply(t,[e])):t.gs.open(function(n){if(n)return t.emit(\"error\",n);t.totalBytesToRead=t.gs.length-t.gs.position,t._pipe.apply(t,[e])}),e},U.prototype._read=function(){var e=this,t=function(){e.gs.read(n,function(t,n){return t&&!e.endCalled?e.emit(\"error\",t):e.endCalled||null==n?e.push(null):(n.length<=e.totalBytesToRead?(e.totalBytesToRead=e.totalBytesToRead-n.length,e.push(n)):n.length>e.totalBytesToRead&&(e.totalBytesToRead=e.totalBytesToRead-n._index,e.push(n.slice(0,n._index))),void(e.totalBytesToRead<=0&&(e.endCalled=!0)))})},n=e.gs.length<e.gs.chunkSize?e.gs.length-e.seekPosition:e.gs.chunkSize;e.gs.isOpen?t():e.gs.open(function(n){if(e.totalBytesToRead=e.gs.length-e.gs.position,n)return e.emit(\"error\",n);t()})},U.prototype.destroy=function(){this.pause(),this.endCalled=!0,this.gs.close(),this.emit(\"end\")},U.prototype.write=function(e){var t=this;return t.endCalled?t.emit(\"error\",d.create({message:\"attempting to write to stream after end called\",driver:!0})):t.gs.isOpen?(t.gs.write(e,function(){t.emit(\"drain\")}),!0):(t.gs.open(function(){t.gs.isOpen=!0,t.gs.write(e,function(){process.nextTick(function(){t.emit(\"drain\")})})}),!1)},U.prototype.end=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(n=r.pop())&&r.push(n),e=r.length?r.shift():null,r.length&&r.shift(),i.endCalled=!0,e&&i.gs.write(e,function(){i.gs.close(function(){\"function\"==typeof n&&n(),i.emit(\"end\")})}),i.gs.close(function(){\"function\"==typeof n&&n(),i.emit(\"end\")})},e.exports=v},function(e,t,n){\"use strict\";var i=n(2).BSON.Binary,r=n(2).BSON.ObjectID,o=function(e,t,n){if(!(this instanceof o))return new o(e,t);this.file=e;var s=null==t?{}:t;if(this.writeConcern=n||{w:1},this.objectId=null==s._id?new r:s._id,this.chunkNumber=null==s.n?0:s.n,this.data=new i,\"string\"==typeof s.data){var a=new Buffer(s.data.length);a.write(s.data,0,s.data.length,\"binary\"),this.data=new i(a)}else if(Array.isArray(s.data)){a=new Buffer(s.data.length);var c=s.data.join(\"\");a.write(c,0,c.length,\"binary\"),this.data=new i(a)}else if(s.data&&\"Binary\"===s.data._bsontype)this.data=s.data;else if(!Buffer.isBuffer(s.data)&&null!=s.data)throw Error(\"Illegal chunk format\");this.internalPosition=0};o.prototype.write=function(e,t){return this.data.write(e,this.internalPosition,e.length,\"binary\"),this.internalPosition=this.data.length(),null!=t?t(null,this):this},o.prototype.read=function(e){if(e=null==e||0==e?this.length():e,this.length()-this.internalPosition+1>=e){var t=this.data.read(this.internalPosition,e);return this.internalPosition=this.internalPosition+e,t}return\"\"},o.prototype.readSlice=function(e){if(this.length()-this.internalPosition>=e){var t=null;return null!=this.data.buffer?t=this.data.buffer.slice(this.internalPosition,this.internalPosition+e):(t=new Buffer(e),e=this.data.readInto(t,this.internalPosition)),this.internalPosition=this.internalPosition+e,t}return null},o.prototype.eof=function(){return this.internalPosition==this.length()},o.prototype.getc=function(){return this.read(1)},o.prototype.rewind=function(){this.internalPosition=0,this.data=new i},o.prototype.save=function(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),n.file.chunkCollection(function(i,r){if(i)return t(i);var o={upsert:!0};for(var s in e)o[s]=e[s];for(s in n.writeConcern)o[s]=n.writeConcern[s];n.data.length()>0?n.buildMongoObject(function(e){var i={forceServerObjectId:!0};for(var s in n.writeConcern)i[s]=n.writeConcern[s];r.replaceOne({_id:n.objectId},e,o,function(e){t(e,n)})}):t(null,n)})},o.prototype.buildMongoObject=function(e){var t={files_id:this.file.fileId,n:this.chunkNumber,data:this.data};null!=this.objectId&&(t._id=this.objectId),e(t)},o.prototype.length=function(){return this.data.length()},Object.defineProperty(o.prototype,\"position\",{enumerable:!0,get:function(){return this.internalPosition},set:function(e){this.internalPosition=e}}),o.DEFAULT_CHUNK_SIZE=261120,e.exports=o},function(e,t,n){\"use strict\";var i=n(1).toError,r=n(10),o=n(1).shallowClone,s=n(1).assign,a=n(79),c=function(e,t,n){if(!(this instanceof c))return new c(e,t);this.s={db:e,topology:t,promiseLibrary:n}},l=c.define=new r(\"Admin\",c,!1);c.prototype.command=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=r.length?r.shift():{},\"function\"==typeof n?this.s.db.executeDbAdminCommand(e,t,function(e,t){return null!=n?n(e,t):null}):new this.s.promiseLibrary(function(n,r){i.s.db.executeDbAdminCommand(e,t,function(e,t){if(e)return r(e);n(t)})})},l.classMethod(\"command\",{callback:!0,promise:!0}),c.prototype.buildInfo=function(e){var t=this;return\"function\"==typeof e?this.serverInfo(e):new this.s.promiseLibrary(function(e,n){t.serverInfo(function(t,i){if(t)return n(t);e(i)})})},l.classMethod(\"buildInfo\",{callback:!0,promise:!0}),c.prototype.serverInfo=function(e){var t=this;return\"function\"==typeof e?this.s.db.executeDbAdminCommand({buildinfo:1},function(t,n){if(null!=t)return e(t,null);e(null,n)}):new this.s.promiseLibrary(function(e,n){t.s.db.executeDbAdminCommand({buildinfo:1},function(t,i){if(t)return n(t);e(i)})})},l.classMethod(\"serverInfo\",{callback:!0,promise:!0}),c.prototype.serverStatus=function(e){var t=this;return\"function\"==typeof e?p(t,e):new this.s.promiseLibrary(function(e,n){p(t,function(t,i){if(t)return n(t);e(i)})})};var p=function(e,t){e.s.db.executeDbAdminCommand({serverStatus:1},function(e,n){if(null!=e||1!==n.ok)return t(e||i(n),!1);t(null,n)})};l.classMethod(\"serverStatus\",{callback:!0,promise:!0}),c.prototype.profilingLevel=function(e){var t=this;return\"function\"==typeof e?u(t,e):new this.s.promiseLibrary(function(e,n){u(t,function(t,i){if(t)return n(t);e(i)})})};var u=function(e,t){e.s.db.executeDbAdminCommand({profile:-1},function(e,n){if(null==e&&1===n.ok){var i=n.was;return 0==i?t(null,\"off\"):1==i?t(null,\"slow_only\"):2==i?t(null,\"all\"):t(new Error(\"Error: illegal profiling level value \"+i),null)}t(null!=e?e:new Error(\"Error with profile command\"),null)})};l.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),c.prototype.ping=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=i.pop())&&i.push(t),\"function\"==typeof t?this.s.db.executeDbAdminCommand({ping:1},t):new this.s.promiseLibrary(function(e,t){n.s.db.executeDbAdminCommand({ping:1},function(n,i){if(n)return t(n);e(i)})})},l.classMethod(\"ping\",{callback:!0,promise:!0}),c.prototype.authenticate=function(e,t,n,i){console.warn(\"Admin.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\");var r=[this.s.db];return\"string\"==typeof e&&r.push(e),\"string\"==typeof t&&r.push(t),\"function\"==typeof n?(r.push({authdb:\"admin\"}),r.push(n)):r.push(s({},n,{authdb:\"admin\"})),\"function\"==typeof i&&r.push(i),a.apply(this.s.db,r)},l.classMethod(\"authenticate\",{callback:!0,promise:!0}),c.prototype.logout=function(e){var t=this;return\"function\"==typeof e?this.s.db.logout({dbName:\"admin\"},e):new this.s.promiseLibrary(function(e,n){t.s.db.logout({dbName:\"admin\"},function(t){if(t)return n(t);e(!0)})})},l.classMethod(\"logout\",{callback:!0,promise:!0});var d=function(e,t){return(e=o(e)).w||e.wtimeout||e.j||e.fsync?e:(t.writeConcern&&(e.w&&(e.w=t.writeConcern.w),e.wtimeout&&(e.wtimeout=t.writeConcern.wtimeout),e.j&&(e.j=t.writeConcern.j),e.fsync&&(e.fsync=t.writeConcern.fsync)),e)};c.prototype.addUser=function(e,t,n,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length?o.shift():{},(n=d(n=n||{},r.s.db)).dbName=\"admin\",\"function\"==typeof i?r.s.db.addUser(e,t,n,i):new this.s.promiseLibrary(function(i,o){r.s.db.addUser(e,t,n,function(e,t){if(e)return o(e);i(t)})})},l.classMethod(\"addUser\",{callback:!0,promise:!0}),c.prototype.removeUser=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=r.length?r.shift():{},(t=d(t=t||{},i.s.db)).dbName=\"admin\",\"function\"==typeof n?i.s.db.removeUser(e,t,n):new this.s.promiseLibrary(function(n,r){i.s.db.removeUser(e,t,function(e,t){if(e)return r(e);n(t)})})},l.classMethod(\"removeUser\",{callback:!0,promise:!0}),c.prototype.setProfilingLevel=function(e,t){var n=this;return\"function\"==typeof t?f(n,e,t):new this.s.promiseLibrary(function(t,i){f(n,e,function(e,n){if(e)return i(e);t(n)})})};var f=function(e,t,n){var i={},r=0;if(\"off\"==t)r=0;else if(\"slow_only\"==t)r=1;else{if(\"all\"!=t)return n(new Error(\"Error: illegal profiling level value \"+t));r=2}i.profile=r,e.s.db.executeDbAdminCommand(i,function(e,i){return null==e&&1===i.ok?n(null,t):n(null!=e?e:new Error(\"Error with profile command\"),null)})};l.classMethod(\"setProfilingLevel\",{callback:!0,promise:!0}),c.prototype.profilingInfo=function(e){var t=this;return\"function\"==typeof e?m(t,e):new this.s.promiseLibrary(function(e,n){m(t,function(t,i){if(t)return n(t);e(i)})})};var m=function(e,t){try{e.s.topology.cursor(\"admin.system.profile\",{find:\"system.profile\",query:{}},{}).toArray(t)}catch(e){return t(e,null)}};l.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),c.prototype.validateCollection=function(e,t,n){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=r.pop())&&r.push(n),t=(t=r.length?r.shift():{})||{},\"function\"==typeof n?h(i,e,t,n):new this.s.promiseLibrary(function(n,r){h(i,e,t,function(e,t){if(e)return r(e);n(t)})})};var h=function(e,t,n,i){for(var r={validate:t},o=Object.keys(n),s=0;s<o.length;s++)n.hasOwnProperty(o[s])&&(r[o[s]]=n[o[s]]);e.s.db.command(r,function(e,n){return null!=e?i(e,null):0===n.ok?i(new Error(\"Error with validate command\"),null):null!=n.result&&n.result.constructor!=String?i(new Error(\"Error with validation data\"),null):null!=n.result&&null!=n.result.match(/exception|corrupt/)?i(new Error(\"Error: invalid collection \"+t),null):null==n.valid||n.valid?i(null,n):i(new Error(\"Error: invalid collection \"+t),null)})};l.classMethod(\"validateCollection\",{callback:!0,promise:!0}),c.prototype.listDatabases=function(e){var t=this;return\"function\"==typeof e?t.s.db.executeDbAdminCommand({listDatabases:1},{},e):new this.s.promiseLibrary(function(e,n){t.s.db.executeDbAdminCommand({listDatabases:1},{},function(t,i){if(t)return n(t);e(i)})})},l.classMethod(\"listDatabases\",{callback:!0,promise:!0}),c.prototype.replSetGetStatus=function(e){var t=this;return\"function\"==typeof e?v(t,e):new this.s.promiseLibrary(function(e,n){v(t,function(t,i){if(t)return n(t);e(i)})})};var v=function(e,t){e.s.db.executeDbAdminCommand({replSetGetStatus:1},function(e,n){return null==e&&1===n.ok?t(null,n):e?t(e,!1):void t(i(n),!1)})};l.classMethod(\"replSetGetStatus\",{callback:!0,promise:!0}),e.exports=c},function(e,t,n){\"use strict\";var i=n(200),r=n(63),o=n(116),s=n(117),a=n(3).EventEmitter,c=n(0).inherits,l=n(10),p=n(15),u=n(2).Logger,d=n(2).MongoError,f=n(78),m=n(0).format,h=(n(1).assign,n(1).shallowClone),v=n(79),g=[\"poolSize\",\"ssl\",\"sslValidate\",\"sslCA\",\"sslCert\",\"ciphers\",\"ecdhCurve\",\"sslKey\",\"sslPass\",\"sslCRL\",\"autoReconnect\",\"noDelay\",\"keepAlive\",\"connectTimeoutMS\",\"family\",\"socketTimeoutMS\",\"reconnectTries\",\"reconnectInterval\",\"ha\",\"haInterval\",\"replicaSet\",\"secondaryAcceptableLatencyMS\",\"acceptableLatencyMS\",\"connectWithNoPrimary\",\"authSource\",\"w\",\"wtimeout\",\"j\",\"forceServerObjectId\",\"serializeFunctions\",\"ignoreUndefined\",\"raw\",\"bufferMaxEntries\",\"readPreference\",\"pkFactory\",\"promiseLibrary\",\"readConcern\",\"maxStalenessSeconds\",\"loggerLevel\",\"logger\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\",\"domainsEnabled\",\"keepAliveInitialDelay\",\"checkServerIdentity\",\"validateOptions\",\"appname\",\"auth\"],y=[\"native_parser\"],b=[\"server\",\"replset\",\"replSet\",\"mongos\",\"db\"];function x(){if(!(this instanceof x))return new x;a.call(this),this.connect=x.connect}c(x,a);var w=x.define=new l(\"MongoClient\",x,!1);x.connect=function(e,t,i){var r=Array.prototype.slice.call(arguments,1);i=\"function\"==typeof r[r.length-1]?r.pop():null;var o=this,s=function(e){var t=g.concat(b);for(var n in e)if(-1==y.indexOf(n)){if(-1==t.indexOf(n)&&e.validateOptions)return new d(m(\"option %s is not supported\",n));-1==t.indexOf(n)&&console.warn(m(\"the options [%s] is not supported\",n)),-1!=b.indexOf(n)&&console.warn(m(\"the server/replset/mongos options are deprecated, all their options are supported at the top level of the options object [%s]\",g))}}(t=(t=r.length?r.shift():null)||{}),a=t.promiseLibrary;return a||(a=\"function\"==typeof global.Promise?global.Promise:n(6).Promise),\"function\"!=typeof i?new a(function(n,i){if(s)return i(s);T(o,e,t,function(e,t){if(e)return i(e);n(t)})}):s?i(s):void T(o,e,t,i)},w.staticMethod(\"connect\",{callback:!0,promise:!0});var S=function(e,t,n){for(var i in t)t[i]&&\"object\"==typeof t[i]&&n?e=S(e,t[i],n):e[i]=t[i];return e},k=function(e,t){var n=[\"mongos\",\"server\",\"db\",\"replset\",\"db_options\",\"server_options\",\"rs_options\",\"mongos_options\"],i=[\"readconcern\"];for(var r in t)-1!=i.indexOf(r.toLowerCase())?e[r]=t[r]:-1!=n.indexOf(r.toLowerCase())?e=S(e,t[r],!1):!t[r]||\"object\"!=typeof t[r]||Buffer.isBuffer(t[r])||Array.isArray(t[r])?e[r]=t[r]:e=S(e,t[r],!0);return e};function O(e){return\"string\"!=typeof e.readPreference&&\"string\"!=typeof e.read_preference||(e.readPreference=new p(e.readPreference||e.read_preference)),e.readPreference&&(e.readPreferenceTags||e.read_preference_tags)&&(e.readPreference.tags=e.readPreferenceTags||e.read_preference_tags),e.maxStalenessSeconds&&(e.readPreference.maxStalenessSeconds=e.maxStalenessSeconds),null==e.socketTimeoutMS&&(e.socketTimeoutMS=36e4),null==e.connectTimeoutMS&&(e.connectTimeoutMS=3e4),e.servers.map(function(t){return t.domain_socket?new r(t.domain_socket,27017,e):new r(t.host,t.port,e)})}function E(e,t){if(e instanceof x){[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(n){t.serverConfig.on(n,function(t,i){e.emit(n,t,i)})})}}function C(e,t,n){var i=O(t),r=new f(t.dbName,new o(i,t),t);E(e,r),r.open(n)}function _(e,t,n){var i=O(t),r=new f(t.dbName,i[0],t),o=function(e,t){var n=[];e instanceof x&&[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(e){t.serverConfig.on(e,function(t,i){n.push({event:e,object1:t,object2:i})})});return n}(e,r);r.open(function(i,r){if(i)return n(i);var s=r.serverConfig.lastIsMaster();if(s&&\"isdbgrid\"==s.msg)return r.close(),C(e,t,n);!function(e,t){for(var n=0;n<t.length;n++)e.emit(t[n].event,t[n].object1,t[n].object2)}(e,o),E(e,r),n(i,r)})}function I(e,t){return function(n,i){if(n)return process.nextTick(function(){try{t(n,null)}catch(e){throw i&&i.close(),e}});if(!e.auth)return process.nextTick(function(){try{t(n,i)}catch(e){throw i&&i.close(),e}});var r=i;e.authSource&&(r=i.db(e.authSource)),v(r,e.user,e.password,e,function(n,r){r?process.nextTick(function(){try{t(null,i)}catch(e){throw i&&i.close(),e}}):(i&&i.close(),process.nextTick(function(){try{t(n||new Error(\"Could not authenticate user \"+e.auth[0]),null)}catch(e){throw i&&i.close(),e}}))})}}var T=function(e,t,n,r){if(n=h(n=n||{}),null==r)throw new Error(\"no callback function provided\");var o=u(\"MongoClient\",n);function a(e,t){if(e&&\"no mongos proxies found in seed list\"==e.message)return o.isWarn()&&o.warn(m(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\")),r(new d(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\"));r(e,t)}i(t,n,function(t,i){if(t)return r(t);var o=k({},i);if(o=S(o,i,!1),null==(o=k(o,n)).socketTimeoutMS&&(o.socketTimeoutMS=36e4),null==o.connectTimeoutMS&&(o.connectTimeoutMS=3e4),o.db_options&&o.db_options.auth&&delete o.db_options.auth,0==i.servers.length)throw new Error(\"connection string must contain at least one seed host\");return o.replicaSet||o.rs_name?function(e,t,n){var i=O(t),r=new f(t.dbName,new s(i,t),t);E(e,r),r.open(n)}(e,o,I(o,a)):i.servers.length>1?C(e,o,I(o,a)):_(e,o,I(o,a))})};e.exports=x},function(e,t,n){\"use strict\";var i=n(3).EventEmitter,r=n(0).inherits,o=n(0).format,s=n(28).ServerCapabilities,a=n(2).MongoError,c=n(2).Mongos,l=n(18),p=n(26),u=n(23),d=n(10),f=n(63),m=n(28).Store,h=n(1).MAX_JS_INT,v=n(1).translateOptions,g=n(1).filterOptions,y=n(1).mergeOptions,b=n(1).getReadPreference,x=n(60),w=n(80).version,S=o(\"Node.js %s, %s\",process.version,x.endianness()),k=x.type(),O=process.platform,E=process.arch,C=x.release(),_=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"ciphers\",\"ecdhCurve\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],I=function(e,t){if(!(this instanceof I))return new I(e,t);t=g(t=t||{},_);for(var n=0;n<e.length;n++)if(!(e[n]instanceof f))throw a.create({message:\"all seed list instances must be of the Server type\",driver:!0});var r={force:!1,bufferMaxEntries:\"number\"==typeof t.bufferMaxEntries?t.bufferMaxEntries:h},o=t.store||new m(this,r);i.call(this);var s=e.map(function(e){return{host:e.host,port:e.port}}),p=\"boolean\"!=typeof t.auto_reconnect||t.auto_reconnect;p=\"boolean\"==typeof t.autoReconnect?t.autoReconnect:p;var u=y({},{disconnectHandler:o,cursorFactory:l,reconnect:p,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5});u=v(u,t);var d=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;\"number\"==typeof(u=v(u,d)).keepAlive&&(u.keepAliveInitialDelay=u.keepAlive,u.keepAlive=u.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:w},os:{type:k,name:O,architecture:E,version:C},platform:S},u.clientInfo=this.clientInfo,t.appname&&(u.clientInfo.application={name:t.appname});var b=new c(s,u);this.s={mongos:b,sCapabilities:null,debug:u.debug,storeOptions:r,clonedOptions:u,store:o,options:t}},T=I.define=new d(\"Mongos\",I,!1);r(I,i),Object.defineProperty(I.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.mongos.lastIsMaster()}}),Object.defineProperty(I.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.mongos.parserType}}),Object.defineProperty(I.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.mongos.s.bson}}),Object.defineProperty(I.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.mongos.s.haInterval}}),I.prototype.connect=function(e,t,n){var i=this;\"function\"==typeof t&&(n=t,t={}),null==t&&(t={}),\"function\"!=typeof n&&(n=null),i.s.options=t,i.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){i.removeListener(e,r)}),i.s.mongos.removeListener(\"connect\",r);try{n(e)}catch(e){process.nextTick(function(){throw e})}}},o=function(e){return function(t){\"error\"!=e&&i.emit(e,t)}},s=function(e){return function(t,n){i.emit(e,t,n)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){i.s.mongos.removeAllListeners(e)}),i.s.mongos.on(\"serverDescriptionChanged\",s(\"serverDescriptionChanged\")),i.s.mongos.on(\"serverHeartbeatStarted\",s(\"serverHeartbeatStarted\")),i.s.mongos.on(\"serverHeartbeatSucceeded\",s(\"serverHeartbeatSucceeded\")),i.s.mongos.on(\"serverHeartbeatFailed\",s(\"serverHeartbeatFailed\")),i.s.mongos.on(\"serverOpening\",s(\"serverOpening\")),i.s.mongos.on(\"serverClosed\",s(\"serverClosed\")),i.s.mongos.on(\"topologyOpening\",s(\"topologyOpening\")),i.s.mongos.on(\"topologyClosed\",s(\"topologyClosed\")),i.s.mongos.on(\"topologyDescriptionChanged\",s(\"topologyDescriptionChanged\")),i.s.mongos.once(\"timeout\",r(\"timeout\")),i.s.mongos.once(\"error\",r(\"error\")),i.s.mongos.once(\"close\",r(\"close\")),i.s.mongos.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"fullsetup\"].forEach(function(e){i.s.mongos.removeAllListeners(e)}),i.s.mongos.once(\"timeout\",o(\"timeout\")),i.s.mongos.once(\"error\",o(\"error\")),i.s.mongos.once(\"close\",o(\"close\")),i.s.mongos.on(\"fullsetup\",function(){i.emit(\"fullsetup\",i)}),i.emit(\"open\",null,i);try{n(null,i)}catch(e){process.nextTick(function(){throw e})}}),i.s.mongos.on(\"joined\",s(\"joined\")),i.s.mongos.on(\"left\",s(\"left\")),i.s.mongos.on(\"reconnect\",function(){i.emit(\"reconnect\"),i.s.store.execute()}),i.s.mongos.connect(t)},I.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.mongos.lastIsMaster()?null:(this.s.sCapabilities=new s(this.s.mongos.lastIsMaster()),this.s.sCapabilities)},T.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[s]}),I.prototype.command=function(e,t,n,i){this.s.mongos.command(e,t,b(n),i)},T.classMethod(\"command\",{callback:!0,promise:!1}),I.prototype.insert=function(e,t,n,i){this.s.mongos.insert(e,t,n,function(e,t){i(e,t)})},T.classMethod(\"insert\",{callback:!0,promise:!1}),I.prototype.update=function(e,t,n,i){this.s.mongos.update(e,t,n,i)},T.classMethod(\"update\",{callback:!0,promise:!1}),I.prototype.remove=function(e,t,n,i){this.s.mongos.remove(e,t,n,i)},T.classMethod(\"remove\",{callback:!0,promise:!1}),I.prototype.isDestroyed=function(){return this.s.mongos.isDestroyed()},I.prototype.isConnected=function(){return this.s.mongos.isConnected()},T.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),I.prototype.cursor=function(e,t,n){return n.disconnectHandler=this.s.store,this.s.mongos.cursor(e,t,n)},T.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[l,p,u]}),I.prototype.lastIsMaster=function(){return this.s.mongos.lastIsMaster()},I.prototype.unref=function(){return this.s.mongos.unref()},I.prototype.close=function(e){this.s.mongos.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},T.classMethod(\"close\",{callback:!1,promise:!1}),I.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.auth.apply(this.s.mongos,e)},T.classMethod(\"auth\",{callback:!0,promise:!1}),I.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.logout.apply(this.s.mongos,e)},T.classMethod(\"logout\",{callback:!0,promise:!1}),I.prototype.connections=function(){return this.s.mongos.connections()},T.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),e.exports=I},function(e,t,n){\"use strict\";var i=n(3).EventEmitter,r=n(0).inherits,o=n(0).format,s=n(63),a=n(18),c=n(26),l=n(23),p=n(15),u=n(2).MongoError,d=n(28).ServerCapabilities,f=n(28).Store,m=n(10),h=n(2).ReplSet,v=n(2).ReadPreference,g=n(1).MAX_JS_INT,y=n(1).translateOptions,b=n(1).filterOptions,x=n(1).getReadPreference,w=n(1).mergeOptions,S=n(60),k=[\"ha\",\"haInterval\",\"replicaSet\",\"rs_name\",\"secondaryAcceptableLatencyMS\",\"connectWithNoPrimary\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslCRL\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"strategy\",\"debug\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"maxStalenessSeconds\"],O=n(80).version,E=o(\"Node.js %s, %s\",process.version,S.endianness()),C=S.type(),_=process.platform,I=process.arch,T=S.release(),N=function(e,t){if(!(this instanceof N))return new N(e,t);t=t||{};var n=this;i.call(this),t=b(t,k);for(var r=0;r<e.length;r++)if(!(e[r]instanceof s))throw u.create({message:\"all seed list instances must be of the Server type\",driver:!0});var o={force:!1,bufferMaxEntries:\"number\"==typeof t.bufferMaxEntries?t.bufferMaxEntries:g},c=t.store||new f(n,o),l=e.map(function(e){return{host:e.host,port:e.port}}),p=w({},{disconnectHandler:c,cursorFactory:a,reconnect:!1,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5});p=y(p,t);var d=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;\"number\"==typeof(p=y(p,d)).keepAlive&&(p.keepAliveInitialDelay=p.keepAlive,p.keepAlive=p.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:O},os:{type:C,name:_,architecture:I,version:T},platform:E},p.clientInfo=this.clientInfo,t.appname&&(p.clientInfo.application={name:t.appname});var m=new h(l,p);m.on(\"reconnect\",function(){n.emit(\"reconnect\"),c.execute()}),this.s={replset:m,sCapabilities:null,tag:t.tag,storeOptions:o,clonedOptions:p,store:c,options:t},p.debug&&Object.defineProperty(this,\"replset\",{enumerable:!0,get:function(){return m}})};r(N,i),Object.defineProperty(N.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.replset.lastIsMaster()}}),Object.defineProperty(N.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.replset.parserType}}),Object.defineProperty(N.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.replset.s.bson}}),Object.defineProperty(N.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.replset.s.haInterval}});var A=N.define=new m(\"ReplSet\",N,!1),M=function(e){return\"string\"==typeof e.readPreference?e.readPreference=new v(e.readPreference):e.readPreference instanceof p&&(e.readPreference=new v(e.readPreference.mode,e.readPreference.tags,{maxStalenessSeconds:e.readPreference.maxStalenessSeconds})),e};N.prototype.connect=function(e,t,n){var i=this;\"function\"==typeof t&&(n=t,t={}),null==t&&(t={}),\"function\"!=typeof n&&(n=null),i.s.options=t,i.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var r=function(e){return function(t){\"error\"!=e&&i.emit(e,t)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\"].forEach(function(e){i.s.replset.removeAllListeners(e)});var o=function(e){return function(t,n){i.emit(e,t,n)}};i.s.replset.on(\"joined\",function(e){return function(t,n){i.emit(e,t,n.lastIsMaster(),n)}}(\"joined\")),i.s.replset.on(\"left\",o(\"left\")),i.s.replset.on(\"ping\",o(\"ping\")),i.s.replset.on(\"ha\",function(e,t){i.emit(\"ha\",e,t),\"start\"==e?i.emit(\"ha_connect\",e,t):\"end\"==e&&i.emit(\"ha_ismaster\",e,t)}),i.s.replset.on(\"serverDescriptionChanged\",o(\"serverDescriptionChanged\")),i.s.replset.on(\"serverHeartbeatStarted\",o(\"serverHeartbeatStarted\")),i.s.replset.on(\"serverHeartbeatSucceeded\",o(\"serverHeartbeatSucceeded\")),i.s.replset.on(\"serverHeartbeatFailed\",o(\"serverHeartbeatFailed\")),i.s.replset.on(\"serverOpening\",o(\"serverOpening\")),i.s.replset.on(\"serverClosed\",o(\"serverClosed\")),i.s.replset.on(\"topologyOpening\",o(\"topologyOpening\")),i.s.replset.on(\"topologyClosed\",o(\"topologyClosed\")),i.s.replset.on(\"topologyDescriptionChanged\",o(\"topologyDescriptionChanged\")),i.s.replset.on(\"fullsetup\",function(){i.emit(\"fullsetup\",i,i)}),i.s.replset.on(\"all\",function(){i.emit(\"all\",null,i)});var s=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){i.s.replset.removeListener(e,s)}),i.s.replset.removeListener(\"connect\",s),i.s.replset.destroy();try{n(e)}catch(e){i.s.replset.isConnected()||process.nextTick(function(){throw e})}}};i.s.replset.once(\"timeout\",s(\"timeout\")),i.s.replset.once(\"error\",s(\"error\")),i.s.replset.once(\"close\",s(\"close\")),i.s.replset.once(\"connect\",function(){i.s.replset.once(\"timeout\",r(\"timeout\")),i.s.replset.once(\"error\",r(\"error\")),i.s.replset.once(\"close\",r(\"close\")),i.emit(\"open\",null,i);try{n(null,i)}catch(e){process.nextTick(function(){throw e})}}),i.s.replset.connect(t)},N.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.replset.lastIsMaster()?null:(this.s.sCapabilities=new d(this.s.replset.lastIsMaster()),this.s.sCapabilities)},A.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[d]}),N.prototype.command=function(e,t,n,i){this.s.replset.command(e,t,x(n),i)},A.classMethod(\"command\",{callback:!0,promise:!1}),N.prototype.insert=function(e,t,n,i){this.s.replset.insert(e,t,n,i)},A.classMethod(\"insert\",{callback:!0,promise:!1}),N.prototype.update=function(e,t,n,i){this.s.replset.update(e,t,n,i)},A.classMethod(\"update\",{callback:!0,promise:!1}),N.prototype.remove=function(e,t,n,i){this.s.replset.remove(e,t,n,i)},A.classMethod(\"remove\",{callback:!0,promise:!1}),N.prototype.isDestroyed=function(){return this.s.replset.isDestroyed()},N.prototype.isConnected=function(e){return(e=e||{}).readPreference&&(e.readPreference=M(e.readPreference)),this.s.replset.isConnected(e)},A.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),N.prototype.cursor=function(e,t,n){return(n=M(n)).disconnectHandler=this.s.store,this.s.replset.cursor(e,t,n)},A.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[a,c,l]}),N.prototype.lastIsMaster=function(){return this.s.replset.lastIsMaster()},N.prototype.unref=function(){return this.s.replset.unref()},N.prototype.close=function(e){var t=this;this.s.replset.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush());[\"timeout\",\"error\",\"close\",\"joined\",\"left\"].forEach(function(e){t.removeAllListeners(e)})},A.classMethod(\"close\",{callback:!1,promise:!1}),N.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.auth.apply(this.s.replset,e)},A.classMethod(\"auth\",{callback:!0,promise:!1}),N.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.logout.apply(this.s.replset,e)},A.classMethod(\"logout\",{callback:!0,promise:!1}),N.prototype.connections=function(){return this.s.replset.connections()},A.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),e.exports=N},function(e,t,n){\"use strict\";\n/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e){if(!e)throw new TypeError(\"argument stream is required\");if(\"function\"==typeof e.unpipe)return void e.unpipe();if(!function(e){for(var t=e.listeners(\"data\"),n=0;n<t.length;n++)if(\"ondata\"===t[n].name)return!0;return!1}(e))return;for(var t,n=e.listeners(\"close\"),i=0;i<n.length;i++)\"cleanup\"!==(t=n[i]).name&&\"onclose\"!==t.name||t.call(e)}},function(e,t){e.exports=require(\"querystring\")},function(e,t,n){var i=n(20);function r(e){return i.createHash(\"sha1\").update(e).digest(\"hex\")}t.sign=function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"Cookie value must be provided as a string.\");if(\"string\"!=typeof t)throw new TypeError(\"Secret string must be provided.\");return e+\".\"+i.createHmac(\"sha256\",t).update(e).digest(\"base64\").replace(/\\=+$/,\"\")},t.unsign=function(e,n){if(\"string\"!=typeof e)throw new TypeError(\"Signed cookie string must be provided.\");if(\"string\"!=typeof n)throw new TypeError(\"Secret string must be provided.\");var i=e.slice(0,e.lastIndexOf(\".\"));return r(t.sign(i,n))==r(e)&&i}},function(e,t,n){var i=n(2),r=n(194),o=n(115).connect;o.MongoError=i.MongoError,o.Admin=n(114),o.MongoClient=n(115),o.Db=n(78),o.Collection=n(62),o.Server=n(63),o.ReplSet=n(117),o.Mongos=n(116),o.ReadPreference=n(15),o.GridStore=n(112),o.Chunk=n(113),o.Logger=i.Logger,o.Cursor=n(18),o.GridFSBucket=n(202),o.CoreServer=n(2).Server,o.CoreConnection=n(2).Connection,o.Binary=i.BSON.Binary,o.Code=i.BSON.Code,o.Map=i.BSON.Map,o.DBRef=i.BSON.DBRef,o.Double=i.BSON.Double,o.Int32=i.BSON.Int32,o.Long=i.BSON.Long,o.MinKey=i.BSON.MinKey,o.MaxKey=i.BSON.MaxKey,o.ObjectID=i.BSON.ObjectID,o.ObjectId=i.BSON.ObjectID,o.Symbol=i.BSON.Symbol,o.Timestamp=i.BSON.Timestamp,o.BSONRegExp=i.BSON.BSONRegExp,o.Decimal128=i.BSON.Decimal128,o.connect=o,o.instrument=function(e,t){return\"function\"==typeof e&&(t=e,e={}),new r(i,e,t)},e.exports=o},,,function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(3).EventEmitter,r=n(125),o=n(126),s=n(83),a=n(82),c=n(152),l=n(162);(t=e.exports=function(){var e=function(t,n,i){e.handle(t,n,i)};return r(e,i.prototype,!1),r(e,o,!1),e.request=Object.create(c,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.response=Object.create(l,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.init(),e}).application=o,t.request=c,t.response=l,t.Route=s,t.Router=a,t.query=n(86),t.static=n(166),[\"json\",\"urlencoded\",\"bodyParser\",\"compress\",\"cookieSession\",\"session\",\"logger\",\"cookieParser\",\"favicon\",\"responseTime\",\"errorHandler\",\"timeout\",\"methodOverride\",\"vhost\",\"csrf\",\"directory\",\"limit\",\"multipart\",\"staticCache\"].forEach(function(e){Object.defineProperty(t,e,{get:function(){throw new Error(\"Most middleware (like \"+e+\") is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.\")},configurable:!0})})},function(e,t,n){\"use strict\";\n/*!\n * merge-descriptors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t,n){if(!e)throw new TypeError(\"argument dest is required\");if(!t)throw new TypeError(\"argument src is required\");void 0===n&&(n=!0);return Object.getOwnPropertyNames(t).forEach(function(r){if(n||!i.call(e,r)){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,o)}}),e};var i=Object.prototype.hasOwnProperty},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(127),r=n(82),o=n(40),s=n(136),a=n(86),c=n(16)(\"express:application\"),l=n(139),p=n(19),u=n(17).compileETag,d=n(17).compileQueryParser,f=n(17).compileTrust,m=n(14)(\"express\"),h=n(31),v=n(32),g=n(7).resolve,y=n(41),b=Array.prototype.slice,x=e.exports={};x.init=function(){this.cache={},this.engines={},this.settings={},this.defaultConfiguration()},x.defaultConfiguration=function(){var e=\"production\";this.enable(\"x-powered-by\"),this.set(\"etag\",\"weak\"),this.set(\"env\",e),this.set(\"query parser\",\"extended\"),this.set(\"subdomain offset\",2),this.set(\"trust proxy\",!1),Object.defineProperty(this.settings,\"@@symbol:trust_proxy_default\",{configurable:!0,value:!0}),c(\"booting in %s mode\",e),this.on(\"mount\",function(e){!0===this.settings[\"@@symbol:trust_proxy_default\"]&&\"function\"==typeof e.settings[\"trust proxy fn\"]&&(delete this.settings[\"trust proxy\"],delete this.settings[\"trust proxy fn\"]),y(this.request,e.request),y(this.response,e.response),y(this.engines,e.engines),y(this.settings,e.settings)}),this.locals=Object.create(null),this.mountpath=\"/\",this.locals.settings=this.settings,this.set(\"view\",l),this.set(\"views\",g(\"views\")),this.set(\"jsonp callback name\",\"callback\"),this.enable(\"view cache\"),Object.defineProperty(this,\"router\",{get:function(){throw new Error(\"'app.router' is deprecated!\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.\")}})},x.lazyrouter=function(){this._router||(this._router=new r({caseSensitive:this.enabled(\"case sensitive routing\"),strict:this.enabled(\"strict routing\")}),this._router.use(a(this.get(\"query parser fn\"))),this._router.use(s.init(this)))},x.handle=function(e,t,n){var r=this._router,o=n||i(e,t,{env:this.get(\"env\"),onerror:function(e){\"test\"!==this.get(\"env\")&&console.error(e.stack||e.toString())}.bind(this)});if(!r)return c(\"no routes defined on app\"),void o();r.handle(e,t,o)},x.use=function(e){var t=0,n=\"/\";if(\"function\"!=typeof e){for(var i=e;Array.isArray(i)&&0!==i.length;)i=i[0];\"function\"!=typeof i&&(t=1,n=e)}var r=h(b.call(arguments,t));if(0===r.length)throw new TypeError(\"app.use() requires middleware functions\");this.lazyrouter();var o=this._router;return r.forEach(function(e){if(!e||!e.handle||!e.set)return o.use(n,e);c(\".use app under %s\",n),e.mountpath=n,e.parent=this,o.use(n,function(t,n,i){var r=t.app;e.handle(t,n,function(e){y(t,r.request),y(n,r.response),i(e)})}),e.emit(\"mount\",this)},this),this},x.route=function(e){return this.lazyrouter(),this._router.route(e)},x.engine=function(e,t){if(\"function\"!=typeof t)throw new Error(\"callback function required\");var n=\".\"!==e[0]?\".\"+e:e;return this.engines[n]=t,this},x.param=function(e,t){if(this.lazyrouter(),Array.isArray(e)){for(var n=0;n<e.length;n++)this.param(e[n],t);return this}return this._router.param(e,t),this},x.set=function(e,t){if(1===arguments.length)return this.settings[e];switch(c('set \"%s\" to %o',e,t),this.settings[e]=t,e){case\"etag\":this.set(\"etag fn\",u(t));break;case\"query parser\":this.set(\"query parser fn\",d(t));break;case\"trust proxy\":this.set(\"trust proxy fn\",f(t)),Object.defineProperty(this.settings,\"@@symbol:trust_proxy_default\",{configurable:!0,value:!1})}return this},x.path=function(){return this.parent?this.parent.path()+this.mountpath:\"\"},x.enabled=function(e){return Boolean(this.set(e))},x.disabled=function(e){return!this.set(e)},x.enable=function(e){return this.set(e,!0)},x.disable=function(e){return this.set(e,!1)},o.forEach(function(e){x[e]=function(t){if(\"get\"===e&&1===arguments.length)return this.set(t);this.lazyrouter();var n=this._router.route(t);return n[e].apply(n,b.call(arguments,1)),this}}),x.all=function(e){this.lazyrouter();for(var t=this._router.route(e),n=b.call(arguments,1),i=0;i<o.length;i++)t[o[i]].apply(t,n);return this},x.del=m.function(x.delete,\"app.del: Use app.delete instead\"),x.render=function(e,t,n){var i,r=this.cache,o=n,s=this.engines,a=t,c={};if(\"function\"==typeof t&&(o=t,a={}),v(c,this.locals),a._locals&&v(c,a._locals),v(c,a),null==c.cache&&(c.cache=this.enabled(\"view cache\")),c.cache&&(i=r[e]),!i){if(!(i=new(this.get(\"view\"))(e,{defaultEngine:this.get(\"view engine\"),root:this.get(\"views\"),engines:s})).path){var l=Array.isArray(i.root)&&i.root.length>1?'directories \"'+i.root.slice(0,-1).join('\", \"')+'\" or \"'+i.root[i.root.length-1]+'\"':'directory \"'+i.root+'\"',p=new Error('Failed to lookup view \"'+e+'\" in views '+l);return p.view=i,o(p)}c.cache&&(r[e]=i)}!function(e,t,n){try{e.render(t,n)}catch(e){n(e)}}(i,c,o)},x.listen=function(){var e=p.createServer(this);return e.listen.apply(e,arguments)}},function(e,t,n){\"use strict\";\n/*!\n * finalhandler\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(16)(\"finalhandler\"),r=n(29),o=n(30),s=n(38),a=n(22),c=n(131),l=n(118),p=/\\x20{2}/g,u=/\\n/g,d=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))},f=s.isFinished;e.exports=function(e,t,n){var m=n||{},h=m.env||\"production\",v=m.onerror;return function(n){var m,g,y;if(n||!t._header){if(n?(void 0!==(y=function(e){if(\"number\"==typeof e.status&&e.status>=400&&e.status<600)return e.status;if(\"number\"==typeof e.statusCode&&e.statusCode>=400&&e.statusCode<600)return e.statusCode;return}(n))&&(m=function(e){if(!e.headers||\"object\"!=typeof e.headers)return;for(var t=Object.create(null),n=Object.keys(e.headers),i=0;i<n.length;i++){var r=n[i];t[r]=e.headers[r]}return t}(n)),void 0===y&&(y=function(e){var t=e.statusCode;(\"number\"!=typeof t||t<400||t>599)&&(t=500);return t}(t)),g=function(e,t,n){var i;\"production\"!==n&&((i=e.stack)||\"function\"!=typeof e.toString||(i=e.toString()));return i||c[t]}(n,y,h)):(y=404,g=\"Cannot \"+e.method+\" \"+r(a.original(e).pathname)),i(\"default %s\",y),n&&v&&d(v,n,e,t),t._header)return i(\"cannot %d after headers sent\",y),void e.socket.destroy();!function(e,t,n,i,r){function a(){var s=function(e){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>Error</title>\\n</head>\\n<body>\\n<pre>'+o(e).replace(u,\"<br>\").replace(p,\" &nbsp;\")+\"</pre>\\n</body>\\n</html>\\n\"}(r);t.statusCode=n,t.statusMessage=c[n],function(e,t){if(!t)return;for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];e.setHeader(r,t[r])}}(t,i),t.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),t.setHeader(\"X-Content-Type-Options\",\"nosniff\"),t.setHeader(\"Content-Type\",\"text/html; charset=utf-8\"),t.setHeader(\"Content-Length\",Buffer.byteLength(s,\"utf8\")),\"HEAD\"!==e.method?t.end(s,\"utf8\"):t.end()}if(f(e))return void a();l(e),s(e,a),e.resume()}(e,t,y,m,g)}else i(\"cannot 404 after headers sent\")}}},function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(81)).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?\"%c\":\"\")+this.namespace+(n?\" %c\":\" \")+e[0]+(n?\"%c \":\" \")+\"+\"+t.humanize(this.diff),!n)return;var i=\"color: \"+this.color;e.splice(1,0,i,\"color: inherit\");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){\"%%\"!==e&&\"%c\"===e&&(o=++r)}),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem(\"debug\"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&\"renderer\"===window.process.type)return!0;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},t.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},t.enable(i())},function(e,t,n){var i=n(101),r=n(0);(t=e.exports=n(81)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),i=0;i<n.length;i++)e.inspectOpts[n[i]]=t.inspectOpts[n[i]]},t.log=function(){return s.write(r.format.apply(r,arguments)+\"\\n\")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var i=this.color,r=\"  \u001b[3\"+i+\";1m\"+n+\" \u001b[0m\";e[0]=r+e[0].split(\"\\n\").join(\"\\n\"+r),e.push(\"\u001b[3\"+i+\"m+\"+t.humanize(this.diff)+\"\u001b[0m\")}else e[0]=(new Date).toUTCString()+\" \"+n+\" \"+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return\"colors\"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&(\"null\"===i?null:Number(i)),e[n]=i,e},{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&r.deprecate(function(){},\"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)\")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding(\"tty_wrap\").guessHandleType(e)){case\"TTY\":(t=new i.WriteStream(e))._type=\"tty\",t._handle&&t._handle.unref&&t._handle.unref();break;case\"FILE\":var r=n(12);(t=new r.SyncWriteStream(e,{autoClose:!1}))._type=\"fs\";break;case\"PIPE\":case\"TCP\":var o=n(39);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type=\"pipe\",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error(\"Implement me. Unknown stream file type!\")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split(\"\\n\").map(function(e){return e.trim()}).join(\" \")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t,n){\"use strict\";\n/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */function i(e,t){return function(n){for(var i=new Array(arguments.length),r=\"error\"===e?n:null,o=0;o<i.length;o++)i[o]=arguments[o];t(r,this,e,i)}}e.exports=function(e,t){if(!Array.isArray(e))throw new TypeError(\"arg must be an array of [ee, events...] arrays\");for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!Array.isArray(o)||o.length<2)throw new TypeError(\"each array member must be [ee, events...]\");for(var s=o[0],a=1;a<o.length;a++){var c=o[a],l=i(c,p);s.on(c,l),n.push({ee:s,event:c,fn:l})}}function p(){u(),t.apply(null,arguments)}function u(){for(var e,t=0;t<n.length;t++)(e=n[t]).ee.removeListener(e.event,e.fn)}function d(e){t=e}return d.cancel=u,d}},function(e,t,n){\"use strict\";\n/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(132);function r(e){if(\"number\"==typeof e){if(!r[e])throw new Error(\"invalid status code: \"+e);return e}if(\"string\"!=typeof e)throw new TypeError(\"code must be a number or string\");var t=parseInt(e,10);if(!isNaN(t)){if(!r[t])throw new Error(\"invalid status code: \"+t);return t}if(!(t=r[e.toLowerCase()]))throw new Error('invalid status message: \"'+e+'\"');return t}e.exports=r,r.codes=function(e,t){var n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=Number(i);e[o]=r,e[r]=o,e[r.toLowerCase()]=o,n.push(o)}),n}(r,i),r.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},r.empty={204:!0,205:!0,304:!0},r.retry={502:!0,503:!0,504:!0}},function(e){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"(Unused)\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},function(e,t){e.exports=function e(t,i,r){r=r||{};i=i||[];var o=r.strict;var s=!1!==r.end;var a=r.sensitive?\"\":\"i\";var c=0;var l=i.length;var p=0;var u=0;var d;if(t instanceof RegExp){for(;d=n.exec(t.source);)i.push({name:u++,optional:!1,offset:d.index});return t}if(Array.isArray(t))return t=t.map(function(t){return e(t,i,r).source}),new RegExp(\"(?:\"+t.join(\"|\")+\")\",a);t=(\"^\"+t+(o?\"\":\"/\"===t[t.length-1]?\"?\":\"/?\")).replace(/\\/\\(/g,\"/(?:\").replace(/([\\/\\.])/g,\"\\\\$1\").replace(/(\\\\\\/)?(\\\\\\.)?:(\\w+)(\\(.*?\\))?(\\*)?(\\?)?/g,function(e,t,n,r,o,s,a,l){t=t||\"\",n=n||\"\",o=o||\"([^\\\\/\"+n+\"]+?)\",a=a||\"\",i.push({name:r,optional:!!a,offset:l+c});var p=(a?\"\":t)+\"(?:\"+n+(a?t:\"\")+o+(s?\"((?:[\\\\/\"+n+\"].+?)?)\":\"\")+\")\"+a;return c+=p.length-e.length,p}).replace(/\\*/g,function(e,t){for(var n=i.length;n-- >l&&i[n].offset>t;)i[n].offset+=3;return\"(.*)\"});for(;d=n.exec(t);){for(var f=0,m=d.index;\"\\\\\"===t.charAt(--m);)f++;f%2!=1&&((l+p===i.length||i[l+p].offset>d.index)&&i.splice(l+p,0,{name:u++,optional:!1,offset:d.index}),p++)}t+=s?\"$\":\"/\"===t[t.length-1]?\"\":\"(?=\\\\/|$)\";return new RegExp(t,a)};var n=/\\((?!\\?)/g},function(e,t,n){\"use strict\";\n/*!\n * depd\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e){var t=!0,n=function(e){var t,n=\"\";e.isNative()?n=\"native\":e.isEval()?(t=e.getScriptNameOrSourceURL())||(n=e.getEvalOrigin()):t=e.getFileName();if(t){n+=t;var i=e.getLineNumber();if(null!=i){n+=\":\"+i;var r=e.getColumnNumber();r&&(n+=\":\"+r)}}return n||\"unknown source\"}(e),i=e.getFunctionName(),r=e.isConstructor(),o=\"\";if(e.isToplevel()||r)r?o+=\"new \"+(i||\"<anonymous>\"):i?o+=i:(t=!1,o+=n);else{var s=e.getMethodName(),a=function(e){var t=e.receiver;return t.constructor&&t.constructor.name||null}(e);i?(a&&0!==i.indexOf(a)&&(o+=a+\".\"),o+=i,s&&i.lastIndexOf(\".\"+s)!==i.length-s.length-1&&(o+=\" [as \"+s+\"]\")):o+=a+\".\"+(s||\"<anonymous>\")}t&&(o+=\" (\"+n+\")\");return o}},function(e,t,n){\"use strict\";\n/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){return e.listeners(t).length}},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(41);t.init=function(e){return function(t,n,r){e.enabled(\"x-powered-by\")&&n.setHeader(\"X-Powered-By\",\"Express\"),t.res=n,n.req=t,t.next=r,i(t,e.request),i(n,e.response),n.locals=n.locals||Object.create(null),r()}}},function(e,t,n){\"use strict\";var i=n(88),r=n(89),o={brackets:function(e){return e+\"[]\"},indices:function(e,t){return e+\"[\"+t+\"]\"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:\"&\",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,n,r,o,s,c,l,p,u,d,f,m){var h=t;if(\"function\"==typeof l)h=l(n,h);else if(h instanceof Date)h=d(h);else if(null===h){if(o)return c&&!m?c(n,a.encoder):n;h=\"\"}if(\"string\"==typeof h||\"number\"==typeof h||\"boolean\"==typeof h||i.isBuffer(h))return c?[f(m?n:c(n,a.encoder))+\"=\"+f(c(h,a.encoder))]:[f(n)+\"=\"+f(String(h))];var v,g=[];if(void 0===h)return g;if(Array.isArray(l))v=l;else{var y=Object.keys(h);v=p?y.sort(p):y}for(var b=0;b<v.length;++b){var x=v[b];s&&null===h[x]||(g=Array.isArray(h)?g.concat(e(h[x],r(n,x),r,o,s,c,l,p,u,d,f,m)):g.concat(e(h[x],n+(u?\".\"+x:\"[\"+x+\"]\"),r,o,s,c,l,p,u,d,f,m)))}return g};e.exports=function(e,t){var n=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&\"function\"!=typeof s.encoder)throw new TypeError(\"Encoder has to be a function.\");var l=void 0===s.delimiter?a.delimiter:s.delimiter,p=\"boolean\"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,u=\"boolean\"==typeof s.skipNulls?s.skipNulls:a.skipNulls,d=\"boolean\"==typeof s.encode?s.encode:a.encode,f=\"function\"==typeof s.encoder?s.encoder:a.encoder,m=\"function\"==typeof s.sort?s.sort:null,h=void 0!==s.allowDots&&s.allowDots,v=\"function\"==typeof s.serializeDate?s.serializeDate:a.serializeDate,g=\"boolean\"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,s.format))throw new TypeError(\"Unknown format option provided.\");var y,b,x=r.formatters[s.format];\"function\"==typeof s.filter?n=(b=s.filter)(\"\",n):Array.isArray(s.filter)&&(y=b=s.filter);var w,S=[];if(\"object\"!=typeof n||null===n)return\"\";w=s.arrayFormat in o?s.arrayFormat:\"indices\"in s?s.indices?\"indices\":\"repeat\":\"indices\";var k=o[w];y||(y=Object.keys(n)),m&&y.sort(m);for(var O=0;O<y.length;++O){var E=y[O];u&&null===n[E]||(S=S.concat(c(n[E],E,k,p,u,d?f:null,b,m,h,v,x,g)))}var C=S.join(l),_=!0===s.addQueryPrefix?\"?\":\"\";return C.length>0?_+C:\"\"}},function(e,t,n){\"use strict\";var i=n(88),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:\"&\",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t,n){if(!e.length)return t;var i,r=e.shift();if(\"[]\"===r)i=(i=[]).concat(s(e,t,n));else{i=n.plainObjects?Object.create(null):{};var o=\"[\"===r.charAt(0)&&\"]\"===r.charAt(r.length-1)?r.slice(1,-1):r,a=parseInt(o,10);!isNaN(a)&&r!==o&&String(a)===o&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(i=[])[a]=s(e,t,n):i[o]=s(e,t,n)}return i},a=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\\.([^.[]+)/g,\"[$1]\"):e,o=/(\\[[^[\\]]*])/g,a=/(\\[[^[\\]]*])/.exec(i),c=a?i.slice(0,a.index):i,l=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var p=0;null!==(a=o.exec(i))&&p<n.depth;){if(p+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push(\"[\"+i.slice(a.index)+\"]\"),s(l,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&\"function\"!=typeof n.decoder)throw new TypeError(\"Decoder has to be a function.\");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter=\"string\"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth=\"number\"==typeof n.depth?n.depth:o.depth,n.arrayLimit=\"number\"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder=\"function\"==typeof n.decoder?n.decoder:o.decoder,n.allowDots=\"boolean\"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects=\"boolean\"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes=\"boolean\"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit=\"number\"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling=\"boolean\"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,\"\"===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var s=\"string\"==typeof e?function(e,t){for(var n={},i=t.ignoreQueryPrefix?e.replace(/^\\?/,\"\"):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,s),c=0;c<a.length;++c){var l,p,u=a[c],d=u.indexOf(\"]=\"),f=-1===d?u.indexOf(\"=\"):d+1;-1===f?(l=t.decoder(u,o.decoder),p=t.strictNullHandling?null:\"\"):(l=t.decoder(u.slice(0,f),o.decoder),p=t.decoder(u.slice(f+1),o.decoder)),r.call(n,l)?n[l]=[].concat(n[l]).concat(p):n[l]=p}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},l=Object.keys(s),p=0;p<l.length;++p){var u=l[p],d=a(u,s[u],n);c=i.merge(c,d,n)}return i.compact(c)}},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(16)(\"express:view\"),r=n(7),o=n(12),s=r.dirname,a=r.basename,c=r.extname,l=r.join,p=r.resolve;function u(e,t){var r=t||{};if(this.defaultEngine=r.defaultEngine,this.ext=c(e),this.name=e,this.root=r.root,!this.ext&&!this.defaultEngine)throw new Error(\"No default engine was specified and no extension was provided.\");var o=e;if(this.ext||(this.ext=\".\"!==this.defaultEngine[0]?\".\"+this.defaultEngine:this.defaultEngine,o+=this.ext),!r.engines[this.ext]){var s=this.ext.substr(1);i('require \"%s\"',s),r.engines[this.ext]=n(140)(s).__express}this.engine=r.engines[this.ext],this.path=this.lookup(o)}function d(e){i('stat \"%s\"',e);try{return o.statSync(e)}catch(e){return}}e.exports=u,u.prototype.lookup=function(e){var t,n=[].concat(this.root);i('lookup \"%s\"',e);for(var r=0;r<n.length&&!t;r++){var o=n[r],c=p(o,e),l=s(c),u=a(c);t=this.resolve(l,u)}return t},u.prototype.render=function(e,t){i('render \"%s\"',this.path),this.engine(this.path,e,t)},u.prototype.resolve=function(e,t){var n=this.ext,i=l(e,t),r=d(i);return r&&r.isFile()?i:(r=d(i=l(e,a(t,n),\"index\"+n)))&&r.isFile()?i:void 0}},function(e,t){function n(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=140},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},function(e,t,n){\"use strict\";\n/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(143);function r(e){if(\"number\"==typeof e){if(!r[e])throw new Error(\"invalid status code: \"+e);return e}if(\"string\"!=typeof e)throw new TypeError(\"code must be a number or string\");var t=parseInt(e,10);if(!isNaN(t)){if(!r[t])throw new Error(\"invalid status code: \"+t);return t}if(!(t=r[e.toLowerCase()]))throw new Error('invalid status message: \"'+e+'\"');return t}e.exports=r,r.STATUS_CODES=i,r.codes=function(e,t){var n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=Number(i);e[o]=r,e[r]=o,e[r.toLowerCase()]=o,n.push(o)}),n}(r,i),r.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},r.empty={204:!0,205:!0,304:!0},r.retry={502:!0,503:!0,504:!0}},function(e){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",103:\"Early Hints\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"(Unused)\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},function(e,t){\"function\"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){\"use strict\";\n/*!\n * destroy\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */var i=n(12).ReadStream,r=n(9);function o(){\"number\"==typeof this.fd&&this.close()}e.exports=function(e){if(e instanceof i)return function(e){e.destroy(),\"function\"==typeof e.close&&e.on(\"open\",o);return e}(e);if(!(e instanceof r))return e;\"function\"==typeof e.destroy&&e.destroy();return e}},function(e,t,n){n(7);var i=n(12);function r(){this.types=Object.create(null),this.extensions=Object.create(null)}r.prototype.define=function(e){for(var t in e){for(var n=e[t],i=0;i<n.length;i++)process.env.DEBUG_MIME&&this.types[n]&&console.warn(this._loading.replace(/.*\\//,\"\"),'changes \"'+n[i]+'\" extension type from '+this.types[n]+\" to \"+t),this.types[n[i]]=t;this.extensions[t]||(this.extensions[t]=n[0])}},r.prototype.load=function(e){this._loading=e;var t={};i.readFileSync(e,\"ascii\").split(/[\\r\\n]+/).forEach(function(e){var n=e.replace(/\\s*#.*|^\\s*|\\s*$/g,\"\").split(/\\s+/);t[n.shift()]=n}),this.define(t),this._loading=null},r.prototype.lookup=function(e,t){var n=e.replace(/.*[\\.\\/\\\\]/,\"\").toLowerCase();return this.types[n]||t||this.default_type},r.prototype.extension=function(e){var t=e.match(/^\\s*([^;\\s]*)(?:;|\\s|$)/)[1].toLowerCase();return this.extensions[t]};var o=new r;o.define(n(147)),o.default_type=o.lookup(\"bin\"),o.Mime=r,o.charsets={lookup:function(e,t){return/^text\\//.test(e)?\"UTF-8\":t}},e.exports=o},function(e){e.exports={\"application/andrew-inset\":[\"ez\"],\"application/applixware\":[\"aw\"],\"application/atom+xml\":[\"atom\"],\"application/atomcat+xml\":[\"atomcat\"],\"application/atomsvc+xml\":[\"atomsvc\"],\"application/ccxml+xml\":[\"ccxml\"],\"application/cdmi-capability\":[\"cdmia\"],\"application/cdmi-container\":[\"cdmic\"],\"application/cdmi-domain\":[\"cdmid\"],\"application/cdmi-object\":[\"cdmio\"],\"application/cdmi-queue\":[\"cdmiq\"],\"application/cu-seeme\":[\"cu\"],\"application/dash+xml\":[\"mdp\"],\"application/davmount+xml\":[\"davmount\"],\"application/docbook+xml\":[\"dbk\"],\"application/dssc+der\":[\"dssc\"],\"application/dssc+xml\":[\"xdssc\"],\"application/ecmascript\":[\"ecma\"],\"application/emma+xml\":[\"emma\"],\"application/epub+zip\":[\"epub\"],\"application/exi\":[\"exi\"],\"application/font-tdpfr\":[\"pfr\"],\"application/font-woff\":[\"woff\"],\"application/font-woff2\":[\"woff2\"],\"application/gml+xml\":[\"gml\"],\"application/gpx+xml\":[\"gpx\"],\"application/gxf\":[\"gxf\"],\"application/hyperstudio\":[\"stk\"],\"application/inkml+xml\":[\"ink\",\"inkml\"],\"application/ipfix\":[\"ipfix\"],\"application/java-archive\":[\"jar\"],\"application/java-serialized-object\":[\"ser\"],\"application/java-vm\":[\"class\"],\"application/javascript\":[\"js\"],\"application/json\":[\"json\",\"map\"],\"application/json5\":[\"json5\"],\"application/jsonml+json\":[\"jsonml\"],\"application/lost+xml\":[\"lostxml\"],\"application/mac-binhex40\":[\"hqx\"],\"application/mac-compactpro\":[\"cpt\"],\"application/mads+xml\":[\"mads\"],\"application/marc\":[\"mrc\"],\"application/marcxml+xml\":[\"mrcx\"],\"application/mathematica\":[\"ma\",\"nb\",\"mb\"],\"application/mathml+xml\":[\"mathml\"],\"application/mbox\":[\"mbox\"],\"application/mediaservercontrol+xml\":[\"mscml\"],\"application/metalink+xml\":[\"metalink\"],\"application/metalink4+xml\":[\"meta4\"],\"application/mets+xml\":[\"mets\"],\"application/mods+xml\":[\"mods\"],\"application/mp21\":[\"m21\",\"mp21\"],\"application/mp4\":[\"mp4s\",\"m4p\"],\"application/msword\":[\"doc\",\"dot\"],\"application/mxf\":[\"mxf\"],\"application/octet-stream\":[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"buffer\"],\"application/oda\":[\"oda\"],\"application/oebps-package+xml\":[\"opf\"],\"application/ogg\":[\"ogx\"],\"application/omdoc+xml\":[\"omdoc\"],\"application/onenote\":[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"],\"application/oxps\":[\"oxps\"],\"application/patch-ops-error+xml\":[\"xer\"],\"application/pdf\":[\"pdf\"],\"application/pgp-encrypted\":[\"pgp\"],\"application/pgp-signature\":[\"asc\",\"sig\"],\"application/pics-rules\":[\"prf\"],\"application/pkcs10\":[\"p10\"],\"application/pkcs7-mime\":[\"p7m\",\"p7c\"],\"application/pkcs7-signature\":[\"p7s\"],\"application/pkcs8\":[\"p8\"],\"application/pkix-attr-cert\":[\"ac\"],\"application/pkix-cert\":[\"cer\"],\"application/pkix-crl\":[\"crl\"],\"application/pkix-pkipath\":[\"pkipath\"],\"application/pkixcmp\":[\"pki\"],\"application/pls+xml\":[\"pls\"],\"application/postscript\":[\"ai\",\"eps\",\"ps\"],\"application/prs.cww\":[\"cww\"],\"application/pskc+xml\":[\"pskcxml\"],\"application/rdf+xml\":[\"rdf\"],\"application/reginfo+xml\":[\"rif\"],\"application/relax-ng-compact-syntax\":[\"rnc\"],\"application/resource-lists+xml\":[\"rl\"],\"application/resource-lists-diff+xml\":[\"rld\"],\"application/rls-services+xml\":[\"rs\"],\"application/rpki-ghostbusters\":[\"gbr\"],\"application/rpki-manifest\":[\"mft\"],\"application/rpki-roa\":[\"roa\"],\"application/rsd+xml\":[\"rsd\"],\"application/rss+xml\":[\"rss\"],\"application/rtf\":[\"rtf\"],\"application/sbml+xml\":[\"sbml\"],\"application/scvp-cv-request\":[\"scq\"],\"application/scvp-cv-response\":[\"scs\"],\"application/scvp-vp-request\":[\"spq\"],\"application/scvp-vp-response\":[\"spp\"],\"application/sdp\":[\"sdp\"],\"application/set-payment-initiation\":[\"setpay\"],\"application/set-registration-initiation\":[\"setreg\"],\"application/shf+xml\":[\"shf\"],\"application/smil+xml\":[\"smi\",\"smil\"],\"application/sparql-query\":[\"rq\"],\"application/sparql-results+xml\":[\"srx\"],\"application/srgs\":[\"gram\"],\"application/srgs+xml\":[\"grxml\"],\"application/sru+xml\":[\"sru\"],\"application/ssdl+xml\":[\"ssdl\"],\"application/ssml+xml\":[\"ssml\"],\"application/tei+xml\":[\"tei\",\"teicorpus\"],\"application/thraud+xml\":[\"tfi\"],\"application/timestamped-data\":[\"tsd\"],\"application/vnd.3gpp.pic-bw-large\":[\"plb\"],\"application/vnd.3gpp.pic-bw-small\":[\"psb\"],\"application/vnd.3gpp.pic-bw-var\":[\"pvb\"],\"application/vnd.3gpp2.tcap\":[\"tcap\"],\"application/vnd.3m.post-it-notes\":[\"pwn\"],\"application/vnd.accpac.simply.aso\":[\"aso\"],\"application/vnd.accpac.simply.imp\":[\"imp\"],\"application/vnd.acucobol\":[\"acu\"],\"application/vnd.acucorp\":[\"atc\",\"acutc\"],\"application/vnd.adobe.air-application-installer-package+zip\":[\"air\"],\"application/vnd.adobe.formscentral.fcdt\":[\"fcdt\"],\"application/vnd.adobe.fxp\":[\"fxp\",\"fxpl\"],\"application/vnd.adobe.xdp+xml\":[\"xdp\"],\"application/vnd.adobe.xfdf\":[\"xfdf\"],\"application/vnd.ahead.space\":[\"ahead\"],\"application/vnd.airzip.filesecure.azf\":[\"azf\"],\"application/vnd.airzip.filesecure.azs\":[\"azs\"],\"application/vnd.amazon.ebook\":[\"azw\"],\"application/vnd.americandynamics.acc\":[\"acc\"],\"application/vnd.amiga.ami\":[\"ami\"],\"application/vnd.android.package-archive\":[\"apk\"],\"application/vnd.anser-web-certificate-issue-initiation\":[\"cii\"],\"application/vnd.anser-web-funds-transfer-initiation\":[\"fti\"],\"application/vnd.antix.game-component\":[\"atx\"],\"application/vnd.apple.installer+xml\":[\"mpkg\"],\"application/vnd.apple.mpegurl\":[\"m3u8\"],\"application/vnd.aristanetworks.swi\":[\"swi\"],\"application/vnd.astraea-software.iota\":[\"iota\"],\"application/vnd.audiograph\":[\"aep\"],\"application/vnd.blueice.multipass\":[\"mpm\"],\"application/vnd.bmi\":[\"bmi\"],\"application/vnd.businessobjects\":[\"rep\"],\"application/vnd.chemdraw+xml\":[\"cdxml\"],\"application/vnd.chipnuts.karaoke-mmd\":[\"mmd\"],\"application/vnd.cinderella\":[\"cdy\"],\"application/vnd.claymore\":[\"cla\"],\"application/vnd.cloanto.rp9\":[\"rp9\"],\"application/vnd.clonk.c4group\":[\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"],\"application/vnd.cluetrust.cartomobile-config\":[\"c11amc\"],\"application/vnd.cluetrust.cartomobile-config-pkg\":[\"c11amz\"],\"application/vnd.commonspace\":[\"csp\"],\"application/vnd.contact.cmsg\":[\"cdbcmsg\"],\"application/vnd.cosmocaller\":[\"cmc\"],\"application/vnd.crick.clicker\":[\"clkx\"],\"application/vnd.crick.clicker.keyboard\":[\"clkk\"],\"application/vnd.crick.clicker.palette\":[\"clkp\"],\"application/vnd.crick.clicker.template\":[\"clkt\"],\"application/vnd.crick.clicker.wordbank\":[\"clkw\"],\"application/vnd.criticaltools.wbs+xml\":[\"wbs\"],\"application/vnd.ctc-posml\":[\"pml\"],\"application/vnd.cups-ppd\":[\"ppd\"],\"application/vnd.curl.car\":[\"car\"],\"application/vnd.curl.pcurl\":[\"pcurl\"],\"application/vnd.dart\":[\"dart\"],\"application/vnd.data-vision.rdz\":[\"rdz\"],\"application/vnd.dece.data\":[\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"],\"application/vnd.dece.ttml+xml\":[\"uvt\",\"uvvt\"],\"application/vnd.dece.unspecified\":[\"uvx\",\"uvvx\"],\"application/vnd.dece.zip\":[\"uvz\",\"uvvz\"],\"application/vnd.denovo.fcselayout-link\":[\"fe_launch\"],\"application/vnd.dna\":[\"dna\"],\"application/vnd.dolby.mlp\":[\"mlp\"],\"application/vnd.dpgraph\":[\"dpg\"],\"application/vnd.dreamfactory\":[\"dfac\"],\"application/vnd.ds-keypoint\":[\"kpxx\"],\"application/vnd.dvb.ait\":[\"ait\"],\"application/vnd.dvb.service\":[\"svc\"],\"application/vnd.dynageo\":[\"geo\"],\"application/vnd.ecowin.chart\":[\"mag\"],\"application/vnd.enliven\":[\"nml\"],\"application/vnd.epson.esf\":[\"esf\"],\"application/vnd.epson.msf\":[\"msf\"],\"application/vnd.epson.quickanime\":[\"qam\"],\"application/vnd.epson.salt\":[\"slt\"],\"application/vnd.epson.ssf\":[\"ssf\"],\"application/vnd.eszigno3+xml\":[\"es3\",\"et3\"],\"application/vnd.ezpix-album\":[\"ez2\"],\"application/vnd.ezpix-package\":[\"ez3\"],\"application/vnd.fdf\":[\"fdf\"],\"application/vnd.fdsn.mseed\":[\"mseed\"],\"application/vnd.fdsn.seed\":[\"seed\",\"dataless\"],\"application/vnd.flographit\":[\"gph\"],\"application/vnd.fluxtime.clip\":[\"ftc\"],\"application/vnd.framemaker\":[\"fm\",\"frame\",\"maker\",\"book\"],\"application/vnd.frogans.fnc\":[\"fnc\"],\"application/vnd.frogans.ltf\":[\"ltf\"],\"application/vnd.fsc.weblaunch\":[\"fsc\"],\"application/vnd.fujitsu.oasys\":[\"oas\"],\"application/vnd.fujitsu.oasys2\":[\"oa2\"],\"application/vnd.fujitsu.oasys3\":[\"oa3\"],\"application/vnd.fujitsu.oasysgp\":[\"fg5\"],\"application/vnd.fujitsu.oasysprs\":[\"bh2\"],\"application/vnd.fujixerox.ddd\":[\"ddd\"],\"application/vnd.fujixerox.docuworks\":[\"xdw\"],\"application/vnd.fujixerox.docuworks.binder\":[\"xbd\"],\"application/vnd.fuzzysheet\":[\"fzs\"],\"application/vnd.genomatix.tuxedo\":[\"txd\"],\"application/vnd.geogebra.file\":[\"ggb\"],\"application/vnd.geogebra.tool\":[\"ggt\"],\"application/vnd.geometry-explorer\":[\"gex\",\"gre\"],\"application/vnd.geonext\":[\"gxt\"],\"application/vnd.geoplan\":[\"g2w\"],\"application/vnd.geospace\":[\"g3w\"],\"application/vnd.gmx\":[\"gmx\"],\"application/vnd.google-earth.kml+xml\":[\"kml\"],\"application/vnd.google-earth.kmz\":[\"kmz\"],\"application/vnd.grafeq\":[\"gqf\",\"gqs\"],\"application/vnd.groove-account\":[\"gac\"],\"application/vnd.groove-help\":[\"ghf\"],\"application/vnd.groove-identity-message\":[\"gim\"],\"application/vnd.groove-injector\":[\"grv\"],\"application/vnd.groove-tool-message\":[\"gtm\"],\"application/vnd.groove-tool-template\":[\"tpl\"],\"application/vnd.groove-vcard\":[\"vcg\"],\"application/vnd.hal+xml\":[\"hal\"],\"application/vnd.handheld-entertainment+xml\":[\"zmm\"],\"application/vnd.hbci\":[\"hbci\"],\"application/vnd.hhe.lesson-player\":[\"les\"],\"application/vnd.hp-hpgl\":[\"hpgl\"],\"application/vnd.hp-hpid\":[\"hpid\"],\"application/vnd.hp-hps\":[\"hps\"],\"application/vnd.hp-jlyt\":[\"jlt\"],\"application/vnd.hp-pcl\":[\"pcl\"],\"application/vnd.hp-pclxl\":[\"pclxl\"],\"application/vnd.ibm.minipay\":[\"mpy\"],\"application/vnd.ibm.modcap\":[\"afp\",\"listafp\",\"list3820\"],\"application/vnd.ibm.rights-management\":[\"irm\"],\"application/vnd.ibm.secure-container\":[\"sc\"],\"application/vnd.iccprofile\":[\"icc\",\"icm\"],\"application/vnd.igloader\":[\"igl\"],\"application/vnd.immervision-ivp\":[\"ivp\"],\"application/vnd.immervision-ivu\":[\"ivu\"],\"application/vnd.insors.igm\":[\"igm\"],\"application/vnd.intercon.formnet\":[\"xpw\",\"xpx\"],\"application/vnd.intergeo\":[\"i2g\"],\"application/vnd.intu.qbo\":[\"qbo\"],\"application/vnd.intu.qfx\":[\"qfx\"],\"application/vnd.ipunplugged.rcprofile\":[\"rcprofile\"],\"application/vnd.irepository.package+xml\":[\"irp\"],\"application/vnd.is-xpr\":[\"xpr\"],\"application/vnd.isac.fcs\":[\"fcs\"],\"application/vnd.jam\":[\"jam\"],\"application/vnd.jcp.javame.midlet-rms\":[\"rms\"],\"application/vnd.jisp\":[\"jisp\"],\"application/vnd.joost.joda-archive\":[\"joda\"],\"application/vnd.kahootz\":[\"ktz\",\"ktr\"],\"application/vnd.kde.karbon\":[\"karbon\"],\"application/vnd.kde.kchart\":[\"chrt\"],\"application/vnd.kde.kformula\":[\"kfo\"],\"application/vnd.kde.kivio\":[\"flw\"],\"application/vnd.kde.kontour\":[\"kon\"],\"application/vnd.kde.kpresenter\":[\"kpr\",\"kpt\"],\"application/vnd.kde.kspread\":[\"ksp\"],\"application/vnd.kde.kword\":[\"kwd\",\"kwt\"],\"application/vnd.kenameaapp\":[\"htke\"],\"application/vnd.kidspiration\":[\"kia\"],\"application/vnd.kinar\":[\"kne\",\"knp\"],\"application/vnd.koan\":[\"skp\",\"skd\",\"skt\",\"skm\"],\"application/vnd.kodak-descriptor\":[\"sse\"],\"application/vnd.las.las+xml\":[\"lasxml\"],\"application/vnd.llamagraphics.life-balance.desktop\":[\"lbd\"],\"application/vnd.llamagraphics.life-balance.exchange+xml\":[\"lbe\"],\"application/vnd.lotus-1-2-3\":[\"123\"],\"application/vnd.lotus-approach\":[\"apr\"],\"application/vnd.lotus-freelance\":[\"pre\"],\"application/vnd.lotus-notes\":[\"nsf\"],\"application/vnd.lotus-organizer\":[\"org\"],\"application/vnd.lotus-screencam\":[\"scm\"],\"application/vnd.lotus-wordpro\":[\"lwp\"],\"application/vnd.macports.portpkg\":[\"portpkg\"],\"application/vnd.mcd\":[\"mcd\"],\"application/vnd.medcalcdata\":[\"mc1\"],\"application/vnd.mediastation.cdkey\":[\"cdkey\"],\"application/vnd.mfer\":[\"mwf\"],\"application/vnd.mfmp\":[\"mfm\"],\"application/vnd.micrografx.flo\":[\"flo\"],\"application/vnd.micrografx.igx\":[\"igx\"],\"application/vnd.mif\":[\"mif\"],\"application/vnd.mobius.daf\":[\"daf\"],\"application/vnd.mobius.dis\":[\"dis\"],\"application/vnd.mobius.mbk\":[\"mbk\"],\"application/vnd.mobius.mqy\":[\"mqy\"],\"application/vnd.mobius.msl\":[\"msl\"],\"application/vnd.mobius.plc\":[\"plc\"],\"application/vnd.mobius.txf\":[\"txf\"],\"application/vnd.mophun.application\":[\"mpn\"],\"application/vnd.mophun.certificate\":[\"mpc\"],\"application/vnd.mozilla.xul+xml\":[\"xul\"],\"application/vnd.ms-artgalry\":[\"cil\"],\"application/vnd.ms-cab-compressed\":[\"cab\"],\"application/vnd.ms-excel\":[\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"],\"application/vnd.ms-excel.addin.macroenabled.12\":[\"xlam\"],\"application/vnd.ms-excel.sheet.binary.macroenabled.12\":[\"xlsb\"],\"application/vnd.ms-excel.sheet.macroenabled.12\":[\"xlsm\"],\"application/vnd.ms-excel.template.macroenabled.12\":[\"xltm\"],\"application/vnd.ms-fontobject\":[\"eot\"],\"application/vnd.ms-htmlhelp\":[\"chm\"],\"application/vnd.ms-ims\":[\"ims\"],\"application/vnd.ms-lrm\":[\"lrm\"],\"application/vnd.ms-officetheme\":[\"thmx\"],\"application/vnd.ms-pki.seccat\":[\"cat\"],\"application/vnd.ms-pki.stl\":[\"stl\"],\"application/vnd.ms-powerpoint\":[\"ppt\",\"pps\",\"pot\"],\"application/vnd.ms-powerpoint.addin.macroenabled.12\":[\"ppam\"],\"application/vnd.ms-powerpoint.presentation.macroenabled.12\":[\"pptm\"],\"application/vnd.ms-powerpoint.slide.macroenabled.12\":[\"sldm\"],\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\":[\"ppsm\"],\"application/vnd.ms-powerpoint.template.macroenabled.12\":[\"potm\"],\"application/vnd.ms-project\":[\"mpp\",\"mpt\"],\"application/vnd.ms-word.document.macroenabled.12\":[\"docm\"],\"application/vnd.ms-word.template.macroenabled.12\":[\"dotm\"],\"application/vnd.ms-works\":[\"wps\",\"wks\",\"wcm\",\"wdb\"],\"application/vnd.ms-wpl\":[\"wpl\"],\"application/vnd.ms-xpsdocument\":[\"xps\"],\"application/vnd.mseq\":[\"mseq\"],\"application/vnd.musician\":[\"mus\"],\"application/vnd.muvee.style\":[\"msty\"],\"application/vnd.mynfc\":[\"taglet\"],\"application/vnd.neurolanguage.nlu\":[\"nlu\"],\"application/vnd.nitf\":[\"ntf\",\"nitf\"],\"application/vnd.noblenet-directory\":[\"nnd\"],\"application/vnd.noblenet-sealer\":[\"nns\"],\"application/vnd.noblenet-web\":[\"nnw\"],\"application/vnd.nokia.n-gage.data\":[\"ngdat\"],\"application/vnd.nokia.radio-preset\":[\"rpst\"],\"application/vnd.nokia.radio-presets\":[\"rpss\"],\"application/vnd.novadigm.edm\":[\"edm\"],\"application/vnd.novadigm.edx\":[\"edx\"],\"application/vnd.novadigm.ext\":[\"ext\"],\"application/vnd.oasis.opendocument.chart\":[\"odc\"],\"application/vnd.oasis.opendocument.chart-template\":[\"otc\"],\"application/vnd.oasis.opendocument.database\":[\"odb\"],\"application/vnd.oasis.opendocument.formula\":[\"odf\"],\"application/vnd.oasis.opendocument.formula-template\":[\"odft\"],\"application/vnd.oasis.opendocument.graphics\":[\"odg\"],\"application/vnd.oasis.opendocument.graphics-template\":[\"otg\"],\"application/vnd.oasis.opendocument.image\":[\"odi\"],\"application/vnd.oasis.opendocument.image-template\":[\"oti\"],\"application/vnd.oasis.opendocument.presentation\":[\"odp\"],\"application/vnd.oasis.opendocument.presentation-template\":[\"otp\"],\"application/vnd.oasis.opendocument.spreadsheet\":[\"ods\"],\"application/vnd.oasis.opendocument.spreadsheet-template\":[\"ots\"],\"application/vnd.oasis.opendocument.text\":[\"odt\"],\"application/vnd.oasis.opendocument.text-master\":[\"odm\"],\"application/vnd.oasis.opendocument.text-template\":[\"ott\"],\"application/vnd.oasis.opendocument.text-web\":[\"oth\"],\"application/vnd.olpc-sugar\":[\"xo\"],\"application/vnd.oma.dd2+xml\":[\"dd2\"],\"application/vnd.openofficeorg.extension\":[\"oxt\"],\"application/vnd.openxmlformats-officedocument.presentationml.presentation\":[\"pptx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slide\":[\"sldx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\":[\"ppsx\"],\"application/vnd.openxmlformats-officedocument.presentationml.template\":[\"potx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":[\"xlsx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\":[\"xltx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":[\"docx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\":[\"dotx\"],\"application/vnd.osgeo.mapguide.package\":[\"mgp\"],\"application/vnd.osgi.dp\":[\"dp\"],\"application/vnd.osgi.subsystem\":[\"esa\"],\"application/vnd.palm\":[\"pdb\",\"pqa\",\"oprc\"],\"application/vnd.pawaafile\":[\"paw\"],\"application/vnd.pg.format\":[\"str\"],\"application/vnd.pg.osasli\":[\"ei6\"],\"application/vnd.picsel\":[\"efif\"],\"application/vnd.pmi.widget\":[\"wg\"],\"application/vnd.pocketlearn\":[\"plf\"],\"application/vnd.powerbuilder6\":[\"pbd\"],\"application/vnd.previewsystems.box\":[\"box\"],\"application/vnd.proteus.magazine\":[\"mgz\"],\"application/vnd.publishare-delta-tree\":[\"qps\"],\"application/vnd.pvi.ptid1\":[\"ptid\"],\"application/vnd.quark.quarkxpress\":[\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"],\"application/vnd.realvnc.bed\":[\"bed\"],\"application/vnd.recordare.musicxml\":[\"mxl\"],\"application/vnd.recordare.musicxml+xml\":[\"musicxml\"],\"application/vnd.rig.cryptonote\":[\"cryptonote\"],\"application/vnd.rim.cod\":[\"cod\"],\"application/vnd.rn-realmedia\":[\"rm\"],\"application/vnd.rn-realmedia-vbr\":[\"rmvb\"],\"application/vnd.route66.link66+xml\":[\"link66\"],\"application/vnd.sailingtracker.track\":[\"st\"],\"application/vnd.seemail\":[\"see\"],\"application/vnd.sema\":[\"sema\"],\"application/vnd.semd\":[\"semd\"],\"application/vnd.semf\":[\"semf\"],\"application/vnd.shana.informed.formdata\":[\"ifm\"],\"application/vnd.shana.informed.formtemplate\":[\"itp\"],\"application/vnd.shana.informed.interchange\":[\"iif\"],\"application/vnd.shana.informed.package\":[\"ipk\"],\"application/vnd.simtech-mindmapper\":[\"twd\",\"twds\"],\"application/vnd.smaf\":[\"mmf\"],\"application/vnd.smart.teacher\":[\"teacher\"],\"application/vnd.solent.sdkm+xml\":[\"sdkm\",\"sdkd\"],\"application/vnd.spotfire.dxp\":[\"dxp\"],\"application/vnd.spotfire.sfs\":[\"sfs\"],\"application/vnd.stardivision.calc\":[\"sdc\"],\"application/vnd.stardivision.draw\":[\"sda\"],\"application/vnd.stardivision.impress\":[\"sdd\"],\"application/vnd.stardivision.math\":[\"smf\"],\"application/vnd.stardivision.writer\":[\"sdw\",\"vor\"],\"application/vnd.stardivision.writer-global\":[\"sgl\"],\"application/vnd.stepmania.package\":[\"smzip\"],\"application/vnd.stepmania.stepchart\":[\"sm\"],\"application/vnd.sun.xml.calc\":[\"sxc\"],\"application/vnd.sun.xml.calc.template\":[\"stc\"],\"application/vnd.sun.xml.draw\":[\"sxd\"],\"application/vnd.sun.xml.draw.template\":[\"std\"],\"application/vnd.sun.xml.impress\":[\"sxi\"],\"application/vnd.sun.xml.impress.template\":[\"sti\"],\"application/vnd.sun.xml.math\":[\"sxm\"],\"application/vnd.sun.xml.writer\":[\"sxw\"],\"application/vnd.sun.xml.writer.global\":[\"sxg\"],\"application/vnd.sun.xml.writer.template\":[\"stw\"],\"application/vnd.sus-calendar\":[\"sus\",\"susp\"],\"application/vnd.svd\":[\"svd\"],\"application/vnd.symbian.install\":[\"sis\",\"sisx\"],\"application/vnd.syncml+xml\":[\"xsm\"],\"application/vnd.syncml.dm+wbxml\":[\"bdm\"],\"application/vnd.syncml.dm+xml\":[\"xdm\"],\"application/vnd.tao.intent-module-archive\":[\"tao\"],\"application/vnd.tcpdump.pcap\":[\"pcap\",\"cap\",\"dmp\"],\"application/vnd.tmobile-livetv\":[\"tmo\"],\"application/vnd.trid.tpt\":[\"tpt\"],\"application/vnd.triscape.mxs\":[\"mxs\"],\"application/vnd.trueapp\":[\"tra\"],\"application/vnd.ufdl\":[\"ufd\",\"ufdl\"],\"application/vnd.uiq.theme\":[\"utz\"],\"application/vnd.umajin\":[\"umj\"],\"application/vnd.unity\":[\"unityweb\"],\"application/vnd.uoml+xml\":[\"uoml\"],\"application/vnd.vcx\":[\"vcx\"],\"application/vnd.visio\":[\"vsd\",\"vst\",\"vss\",\"vsw\"],\"application/vnd.visionary\":[\"vis\"],\"application/vnd.vsf\":[\"vsf\"],\"application/vnd.wap.wbxml\":[\"wbxml\"],\"application/vnd.wap.wmlc\":[\"wmlc\"],\"application/vnd.wap.wmlscriptc\":[\"wmlsc\"],\"application/vnd.webturbo\":[\"wtb\"],\"application/vnd.wolfram.player\":[\"nbp\"],\"application/vnd.wordperfect\":[\"wpd\"],\"application/vnd.wqd\":[\"wqd\"],\"application/vnd.wt.stf\":[\"stf\"],\"application/vnd.xara\":[\"xar\"],\"application/vnd.xfdl\":[\"xfdl\"],\"application/vnd.yamaha.hv-dic\":[\"hvd\"],\"application/vnd.yamaha.hv-script\":[\"hvs\"],\"application/vnd.yamaha.hv-voice\":[\"hvp\"],\"application/vnd.yamaha.openscoreformat\":[\"osf\"],\"application/vnd.yamaha.openscoreformat.osfpvg+xml\":[\"osfpvg\"],\"application/vnd.yamaha.smaf-audio\":[\"saf\"],\"application/vnd.yamaha.smaf-phrase\":[\"spf\"],\"application/vnd.yellowriver-custom-menu\":[\"cmp\"],\"application/vnd.zul\":[\"zir\",\"zirz\"],\"application/vnd.zzazz.deck+xml\":[\"zaz\"],\"application/voicexml+xml\":[\"vxml\"],\"application/widget\":[\"wgt\"],\"application/winhlp\":[\"hlp\"],\"application/wsdl+xml\":[\"wsdl\"],\"application/wspolicy+xml\":[\"wspolicy\"],\"application/x-7z-compressed\":[\"7z\"],\"application/x-abiword\":[\"abw\"],\"application/x-ace-compressed\":[\"ace\"],\"application/x-apple-diskimage\":[\"dmg\"],\"application/x-authorware-bin\":[\"aab\",\"x32\",\"u32\",\"vox\"],\"application/x-authorware-map\":[\"aam\"],\"application/x-authorware-seg\":[\"aas\"],\"application/x-bcpio\":[\"bcpio\"],\"application/x-bittorrent\":[\"torrent\"],\"application/x-blorb\":[\"blb\",\"blorb\"],\"application/x-bzip\":[\"bz\"],\"application/x-bzip2\":[\"bz2\",\"boz\"],\"application/x-cbr\":[\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"],\"application/x-cdlink\":[\"vcd\"],\"application/x-cfs-compressed\":[\"cfs\"],\"application/x-chat\":[\"chat\"],\"application/x-chess-pgn\":[\"pgn\"],\"application/x-chrome-extension\":[\"crx\"],\"application/x-conference\":[\"nsc\"],\"application/x-cpio\":[\"cpio\"],\"application/x-csh\":[\"csh\"],\"application/x-debian-package\":[\"deb\",\"udeb\"],\"application/x-dgc-compressed\":[\"dgc\"],\"application/x-director\":[\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"],\"application/x-doom\":[\"wad\"],\"application/x-dtbncx+xml\":[\"ncx\"],\"application/x-dtbook+xml\":[\"dtb\"],\"application/x-dtbresource+xml\":[\"res\"],\"application/x-dvi\":[\"dvi\"],\"application/x-envoy\":[\"evy\"],\"application/x-eva\":[\"eva\"],\"application/x-font-bdf\":[\"bdf\"],\"application/x-font-ghostscript\":[\"gsf\"],\"application/x-font-linux-psf\":[\"psf\"],\"application/x-font-otf\":[\"otf\"],\"application/x-font-pcf\":[\"pcf\"],\"application/x-font-snf\":[\"snf\"],\"application/x-font-ttf\":[\"ttf\",\"ttc\"],\"application/x-font-type1\":[\"pfa\",\"pfb\",\"pfm\",\"afm\"],\"application/x-freearc\":[\"arc\"],\"application/x-futuresplash\":[\"spl\"],\"application/x-gca-compressed\":[\"gca\"],\"application/x-glulx\":[\"ulx\"],\"application/x-gnumeric\":[\"gnumeric\"],\"application/x-gramps-xml\":[\"gramps\"],\"application/x-gtar\":[\"gtar\"],\"application/x-hdf\":[\"hdf\"],\"application/x-install-instructions\":[\"install\"],\"application/x-iso9660-image\":[\"iso\"],\"application/x-java-jnlp-file\":[\"jnlp\"],\"application/x-latex\":[\"latex\"],\"application/x-lua-bytecode\":[\"luac\"],\"application/x-lzh-compressed\":[\"lzh\",\"lha\"],\"application/x-mie\":[\"mie\"],\"application/x-mobipocket-ebook\":[\"prc\",\"mobi\"],\"application/x-ms-application\":[\"application\"],\"application/x-ms-shortcut\":[\"lnk\"],\"application/x-ms-wmd\":[\"wmd\"],\"application/x-ms-wmz\":[\"wmz\"],\"application/x-ms-xbap\":[\"xbap\"],\"application/x-msaccess\":[\"mdb\"],\"application/x-msbinder\":[\"obd\"],\"application/x-mscardfile\":[\"crd\"],\"application/x-msclip\":[\"clp\"],\"application/x-msdownload\":[\"exe\",\"dll\",\"com\",\"bat\",\"msi\"],\"application/x-msmediaview\":[\"mvb\",\"m13\",\"m14\"],\"application/x-msmetafile\":[\"wmf\",\"wmz\",\"emf\",\"emz\"],\"application/x-msmoney\":[\"mny\"],\"application/x-mspublisher\":[\"pub\"],\"application/x-msschedule\":[\"scd\"],\"application/x-msterminal\":[\"trm\"],\"application/x-mswrite\":[\"wri\"],\"application/x-netcdf\":[\"nc\",\"cdf\"],\"application/x-nzb\":[\"nzb\"],\"application/x-pkcs12\":[\"p12\",\"pfx\"],\"application/x-pkcs7-certificates\":[\"p7b\",\"spc\"],\"application/x-pkcs7-certreqresp\":[\"p7r\"],\"application/x-rar-compressed\":[\"rar\"],\"application/x-research-info-systems\":[\"ris\"],\"application/x-sh\":[\"sh\"],\"application/x-shar\":[\"shar\"],\"application/x-shockwave-flash\":[\"swf\"],\"application/x-silverlight-app\":[\"xap\"],\"application/x-sql\":[\"sql\"],\"application/x-stuffit\":[\"sit\"],\"application/x-stuffitx\":[\"sitx\"],\"application/x-subrip\":[\"srt\"],\"application/x-sv4cpio\":[\"sv4cpio\"],\"application/x-sv4crc\":[\"sv4crc\"],\"application/x-t3vm-image\":[\"t3\"],\"application/x-tads\":[\"gam\"],\"application/x-tar\":[\"tar\"],\"application/x-tcl\":[\"tcl\"],\"application/x-tex\":[\"tex\"],\"application/x-tex-tfm\":[\"tfm\"],\"application/x-texinfo\":[\"texinfo\",\"texi\"],\"application/x-tgif\":[\"obj\"],\"application/x-ustar\":[\"ustar\"],\"application/x-wais-source\":[\"src\"],\"application/x-web-app-manifest+json\":[\"webapp\"],\"application/x-x509-ca-cert\":[\"der\",\"crt\"],\"application/x-xfig\":[\"fig\"],\"application/x-xliff+xml\":[\"xlf\"],\"application/x-xpinstall\":[\"xpi\"],\"application/x-xz\":[\"xz\"],\"application/x-zmachine\":[\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"],\"application/xaml+xml\":[\"xaml\"],\"application/xcap-diff+xml\":[\"xdf\"],\"application/xenc+xml\":[\"xenc\"],\"application/xhtml+xml\":[\"xhtml\",\"xht\"],\"application/xml\":[\"xml\",\"xsl\",\"xsd\"],\"application/xml-dtd\":[\"dtd\"],\"application/xop+xml\":[\"xop\"],\"application/xproc+xml\":[\"xpl\"],\"application/xslt+xml\":[\"xslt\"],\"application/xspf+xml\":[\"xspf\"],\"application/xv+xml\":[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"],\"application/yang\":[\"yang\"],\"application/yin+xml\":[\"yin\"],\"application/zip\":[\"zip\"],\"audio/adpcm\":[\"adp\"],\"audio/basic\":[\"au\",\"snd\"],\"audio/midi\":[\"mid\",\"midi\",\"kar\",\"rmi\"],\"audio/mp4\":[\"mp4a\",\"m4a\"],\"audio/mpeg\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"],\"audio/ogg\":[\"oga\",\"ogg\",\"spx\"],\"audio/s3m\":[\"s3m\"],\"audio/silk\":[\"sil\"],\"audio/vnd.dece.audio\":[\"uva\",\"uvva\"],\"audio/vnd.digital-winds\":[\"eol\"],\"audio/vnd.dra\":[\"dra\"],\"audio/vnd.dts\":[\"dts\"],\"audio/vnd.dts.hd\":[\"dtshd\"],\"audio/vnd.lucent.voice\":[\"lvp\"],\"audio/vnd.ms-playready.media.pya\":[\"pya\"],\"audio/vnd.nuera.ecelp4800\":[\"ecelp4800\"],\"audio/vnd.nuera.ecelp7470\":[\"ecelp7470\"],\"audio/vnd.nuera.ecelp9600\":[\"ecelp9600\"],\"audio/vnd.rip\":[\"rip\"],\"audio/webm\":[\"weba\"],\"audio/x-aac\":[\"aac\"],\"audio/x-aiff\":[\"aif\",\"aiff\",\"aifc\"],\"audio/x-caf\":[\"caf\"],\"audio/x-flac\":[\"flac\"],\"audio/x-matroska\":[\"mka\"],\"audio/x-mpegurl\":[\"m3u\"],\"audio/x-ms-wax\":[\"wax\"],\"audio/x-ms-wma\":[\"wma\"],\"audio/x-pn-realaudio\":[\"ram\",\"ra\"],\"audio/x-pn-realaudio-plugin\":[\"rmp\"],\"audio/x-wav\":[\"wav\"],\"audio/xm\":[\"xm\"],\"chemical/x-cdx\":[\"cdx\"],\"chemical/x-cif\":[\"cif\"],\"chemical/x-cmdf\":[\"cmdf\"],\"chemical/x-cml\":[\"cml\"],\"chemical/x-csml\":[\"csml\"],\"chemical/x-xyz\":[\"xyz\"],\"font/opentype\":[\"otf\"],\"image/bmp\":[\"bmp\"],\"image/cgm\":[\"cgm\"],\"image/g3fax\":[\"g3\"],\"image/gif\":[\"gif\"],\"image/ief\":[\"ief\"],\"image/jpeg\":[\"jpeg\",\"jpg\",\"jpe\"],\"image/ktx\":[\"ktx\"],\"image/png\":[\"png\"],\"image/prs.btif\":[\"btif\"],\"image/sgi\":[\"sgi\"],\"image/svg+xml\":[\"svg\",\"svgz\"],\"image/tiff\":[\"tiff\",\"tif\"],\"image/vnd.adobe.photoshop\":[\"psd\"],\"image/vnd.dece.graphic\":[\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"],\"image/vnd.djvu\":[\"djvu\",\"djv\"],\"image/vnd.dvb.subtitle\":[\"sub\"],\"image/vnd.dwg\":[\"dwg\"],\"image/vnd.dxf\":[\"dxf\"],\"image/vnd.fastbidsheet\":[\"fbs\"],\"image/vnd.fpx\":[\"fpx\"],\"image/vnd.fst\":[\"fst\"],\"image/vnd.fujixerox.edmics-mmr\":[\"mmr\"],\"image/vnd.fujixerox.edmics-rlc\":[\"rlc\"],\"image/vnd.ms-modi\":[\"mdi\"],\"image/vnd.ms-photo\":[\"wdp\"],\"image/vnd.net-fpx\":[\"npx\"],\"image/vnd.wap.wbmp\":[\"wbmp\"],\"image/vnd.xiff\":[\"xif\"],\"image/webp\":[\"webp\"],\"image/x-3ds\":[\"3ds\"],\"image/x-cmu-raster\":[\"ras\"],\"image/x-cmx\":[\"cmx\"],\"image/x-freehand\":[\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"],\"image/x-icon\":[\"ico\"],\"image/x-mrsid-image\":[\"sid\"],\"image/x-pcx\":[\"pcx\"],\"image/x-pict\":[\"pic\",\"pct\"],\"image/x-portable-anymap\":[\"pnm\"],\"image/x-portable-bitmap\":[\"pbm\"],\"image/x-portable-graymap\":[\"pgm\"],\"image/x-portable-pixmap\":[\"ppm\"],\"image/x-rgb\":[\"rgb\"],\"image/x-tga\":[\"tga\"],\"image/x-xbitmap\":[\"xbm\"],\"image/x-xpixmap\":[\"xpm\"],\"image/x-xwindowdump\":[\"xwd\"],\"message/rfc822\":[\"eml\",\"mime\"],\"model/iges\":[\"igs\",\"iges\"],\"model/mesh\":[\"msh\",\"mesh\",\"silo\"],\"model/vnd.collada+xml\":[\"dae\"],\"model/vnd.dwf\":[\"dwf\"],\"model/vnd.gdl\":[\"gdl\"],\"model/vnd.gtw\":[\"gtw\"],\"model/vnd.mts\":[\"mts\"],\"model/vnd.vtu\":[\"vtu\"],\"model/vrml\":[\"wrl\",\"vrml\"],\"model/x3d+binary\":[\"x3db\",\"x3dbz\"],\"model/x3d+vrml\":[\"x3dv\",\"x3dvz\"],\"model/x3d+xml\":[\"x3d\",\"x3dz\"],\"text/cache-manifest\":[\"appcache\",\"manifest\"],\"text/calendar\":[\"ics\",\"ifb\"],\"text/coffeescript\":[\"coffee\"],\"text/css\":[\"css\"],\"text/csv\":[\"csv\"],\"text/hjson\":[\"hjson\"],\"text/html\":[\"html\",\"htm\"],\"text/jade\":[\"jade\"],\"text/jsx\":[\"jsx\"],\"text/less\":[\"less\"],\"text/n3\":[\"n3\"],\"text/plain\":[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"],\"text/prs.lines.tag\":[\"dsc\"],\"text/richtext\":[\"rtx\"],\"text/sgml\":[\"sgml\",\"sgm\"],\"text/stylus\":[\"stylus\",\"styl\"],\"text/tab-separated-values\":[\"tsv\"],\"text/troff\":[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"],\"text/turtle\":[\"ttl\"],\"text/uri-list\":[\"uri\",\"uris\",\"urls\"],\"text/vcard\":[\"vcard\"],\"text/vnd.curl\":[\"curl\"],\"text/vnd.curl.dcurl\":[\"dcurl\"],\"text/vnd.curl.mcurl\":[\"mcurl\"],\"text/vnd.curl.scurl\":[\"scurl\"],\"text/vnd.dvb.subtitle\":[\"sub\"],\"text/vnd.fly\":[\"fly\"],\"text/vnd.fmi.flexstor\":[\"flx\"],\"text/vnd.graphviz\":[\"gv\"],\"text/vnd.in3d.3dml\":[\"3dml\"],\"text/vnd.in3d.spot\":[\"spot\"],\"text/vnd.sun.j2me.app-descriptor\":[\"jad\"],\"text/vnd.wap.wml\":[\"wml\"],\"text/vnd.wap.wmlscript\":[\"wmls\"],\"text/vtt\":[\"vtt\"],\"text/x-asm\":[\"s\",\"asm\"],\"text/x-c\":[\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"],\"text/x-component\":[\"htc\"],\"text/x-fortran\":[\"f\",\"for\",\"f77\",\"f90\"],\"text/x-handlebars-template\":[\"hbs\"],\"text/x-java-source\":[\"java\"],\"text/x-lua\":[\"lua\"],\"text/x-markdown\":[\"markdown\",\"md\",\"mkd\"],\"text/x-nfo\":[\"nfo\"],\"text/x-opml\":[\"opml\"],\"text/x-pascal\":[\"p\",\"pas\"],\"text/x-sass\":[\"sass\"],\"text/x-scss\":[\"scss\"],\"text/x-setext\":[\"etx\"],\"text/x-sfv\":[\"sfv\"],\"text/x-uuencode\":[\"uu\"],\"text/x-vcalendar\":[\"vcs\"],\"text/x-vcard\":[\"vcf\"],\"text/yaml\":[\"yaml\",\"yml\"],\"video/3gpp\":[\"3gp\"],\"video/3gpp2\":[\"3g2\"],\"video/h261\":[\"h261\"],\"video/h263\":[\"h263\"],\"video/h264\":[\"h264\"],\"video/jpeg\":[\"jpgv\"],\"video/jpm\":[\"jpm\",\"jpgm\"],\"video/mj2\":[\"mj2\",\"mjp2\"],\"video/mp2t\":[\"ts\"],\"video/mp4\":[\"mp4\",\"mp4v\",\"mpg4\"],\"video/mpeg\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"],\"video/ogg\":[\"ogv\"],\"video/quicktime\":[\"qt\",\"mov\"],\"video/vnd.dece.hd\":[\"uvh\",\"uvvh\"],\"video/vnd.dece.mobile\":[\"uvm\",\"uvvm\"],\"video/vnd.dece.pd\":[\"uvp\",\"uvvp\"],\"video/vnd.dece.sd\":[\"uvs\",\"uvvs\"],\"video/vnd.dece.video\":[\"uvv\",\"uvvv\"],\"video/vnd.dvb.file\":[\"dvb\"],\"video/vnd.fvt\":[\"fvt\"],\"video/vnd.mpegurl\":[\"mxu\",\"m4u\"],\"video/vnd.ms-playready.media.pyv\":[\"pyv\"],\"video/vnd.uvvu.mp4\":[\"uvu\",\"uvvu\"],\"video/vnd.vivo\":[\"viv\"],\"video/webm\":[\"webm\"],\"video/x-f4v\":[\"f4v\"],\"video/x-fli\":[\"fli\"],\"video/x-flv\":[\"flv\"],\"video/x-m4v\":[\"m4v\"],\"video/x-matroska\":[\"mkv\",\"mk3d\",\"mks\"],\"video/x-mng\":[\"mng\"],\"video/x-ms-asf\":[\"asf\",\"asx\"],\"video/x-ms-vob\":[\"vob\"],\"video/x-ms-wm\":[\"wm\"],\"video/x-ms-wmv\":[\"wmv\"],\"video/x-ms-wmx\":[\"wmx\"],\"video/x-ms-wvx\":[\"wvx\"],\"video/x-msvideo\":[\"avi\"],\"video/x-sgi-movie\":[\"movie\"],\"video/x-smv\":[\"smv\"],\"x-conference/x-cooltalk\":[\"ice\"]}},function(e,t,n){\"use strict\";\n/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(149);function r(e){if(\"number\"==typeof e){if(!r[e])throw new Error(\"invalid status code: \"+e);return e}if(\"string\"!=typeof e)throw new TypeError(\"code must be a number or string\");var t=parseInt(e,10);if(!isNaN(t)){if(!r[t])throw new Error(\"invalid status code: \"+t);return t}if(!(t=r[e.toLowerCase()]))throw new Error('invalid status message: \"'+e+'\"');return t}e.exports=r,r.codes=function(e,t){var n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=Number(i);e[o]=r,e[r]=o,e[r.toLowerCase()]=o,n.push(o)}),n}(r,i),r.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},r.empty={204:!0,205:!0,304:!0},r.retry={502:!0,503:!0,504:!0}},function(e){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"(Unused)\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},function(e,t,n){\"use strict\";\n/*!\n * forwarded\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e){if(!e)throw new TypeError(\"argument req is required\");var t=function(e){for(var t=e.length,n=[],i=e.length,r=e.length-1;r>=0;r--)switch(e.charCodeAt(r)){case 32:i===t&&(i=t=r);break;case 44:i!==t&&n.push(e.substring(i,t)),i=t=r;break;default:i=r}i!==t&&n.push(e.substring(i,t));return n}(e.headers[\"x-forwarded-for\"]||\"\");return[e.connection.remoteAddress].concat(t)}},function(e,t,n){(function(e){(function(){var t,n,i,r,o,s,a;n={},null!==e&&e.exports?e.exports=n:this.ipaddr=n,a=function(e,t,n,i){var r,o;if(e.length!==t.length)throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");for(r=0;i>0;){if((o=n-i)<0&&(o=0),e[r]>>o!=t[r]>>o)return!1;i-=n,r+=1}return!0},n.subnetMatch=function(e,t,n){var i,r,o,s,a;for(o in null==n&&(n=\"unicast\"),t)for(!(s=t[o])[0]||s[0]instanceof Array||(s=[s]),i=0,r=s.length;i<r;i++)if(a=s[i],e.match.apply(e,a))return o;return n},n.IPv4=function(){function e(e){var t,n,i;if(4!==e.length)throw new Error(\"ipaddr: ipv4 octet count should be 4\");for(t=0,n=e.length;t<n;t++)if(!(0<=(i=e[t])&&i<=255))throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");this.octets=e}return e.prototype.kind=function(){return\"ipv4\"},e.prototype.toString=function(){return this.octets.join(\".\")},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.match=function(e,t){var n;if(void 0===t&&(e=(n=e)[0],t=n[1]),\"ipv4\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");return a(this.octets,e.octets,8,t)},e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.range=function(){return n.subnetMatch(this,this.SpecialRanges)},e.prototype.toIPv4MappedAddress=function(){return n.IPv6.parse(\"::ffff:\"+this.toString())},e.prototype.prefixLengthFromSubnetMask=function(){var e,t,n,i,r,o,s;for(s={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},e=0,r=!1,t=n=3;n>=0;t=n+=-1){if(!((i=this.octets[t])in s))return null;if(o=s[i],r&&0!==o)return null;8!==o&&(r=!0),e+=o}return 32-e},e}(),i=\"(0?\\\\d+|0x[a-f0-9]+)\",r={fourOctet:new RegExp(\"^\"+i+\"\\\\.\"+i+\"\\\\.\"+i+\"\\\\.\"+i+\"$\",\"i\"),longValue:new RegExp(\"^\"+i+\"$\",\"i\")},n.IPv4.parser=function(e){var t,n,i,o,s;if(n=function(e){return\"0\"===e[0]&&\"x\"!==e[1]?parseInt(e,8):parseInt(e)},t=e.match(r.fourOctet))return function(){var e,r,o,s;for(s=[],e=0,r=(o=t.slice(1,6)).length;e<r;e++)i=o[e],s.push(n(i));return s}();if(t=e.match(r.longValue)){if((s=n(t[1]))>4294967295||s<0)throw new Error(\"ipaddr: address outside defined range\");return function(){var e,t;for(t=[],o=e=0;e<=24;o=e+=8)t.push(s>>o&255);return t}().reverse()}return null},n.IPv6=function(){function e(e){var t,n,i,r,o,s;if(16===e.length)for(this.parts=[],t=n=0;n<=14;t=n+=2)this.parts.push(e[t]<<8|e[t+1]);else{if(8!==e.length)throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");this.parts=e}for(i=0,r=(s=this.parts).length;i<r;i++)if(!(0<=(o=s[i])&&o<=65535))throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\")}return e.prototype.kind=function(){return\"ipv6\"},e.prototype.toString=function(){var e,t,n,i,r,o,s;for(s=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.parts).length;e<t;e++)i=n[e],r.push(i.toString(16));return r}.call(this),e=[],r=function(t){return e.push(t)},o=0,t=0,n=s.length;t<n;t++)switch(i=s[t],o){case 0:r(\"0\"===i?\"\":i),o=1;break;case 1:\"0\"===i?o=2:r(i);break;case 2:\"0\"!==i&&(r(\"\"),r(i),o=3);break;case 3:r(i)}return 2===o&&(r(\"\"),r(\"\")),e.join(\":\")},e.prototype.toByteArray=function(){var e,t,n,i,r;for(e=[],t=0,n=(r=this.parts).length;t<n;t++)i=r[t],e.push(i>>8),e.push(255&i);return e},e.prototype.toNormalizedString=function(){var e;return function(){var t,n,i,r;for(r=[],t=0,n=(i=this.parts).length;t<n;t++)e=i[t],r.push(e.toString(16));return r}.call(this).join(\":\")},e.prototype.match=function(e,t){var n;if(void 0===t&&(e=(n=e)[0],t=n[1]),\"ipv6\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");return a(this.parts,e.parts,16,t)},e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.range=function(){return n.subnetMatch(this,this.SpecialRanges)},e.prototype.isIPv4MappedAddress=function(){return\"ipv4Mapped\"===this.range()},e.prototype.toIPv4Address=function(){var e,t,i;if(!this.isIPv4MappedAddress())throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");return e=(i=this.parts.slice(-2))[0],t=i[1],new n.IPv4([e>>8,255&e,t>>8,255&t])},e}(),o=\"(?:[0-9a-f]+::?)+\",s={native:new RegExp(\"^(::)?(\"+o+\")?([0-9a-f]+)?(::)?$\",\"i\"),transitional:new RegExp(\"^((?:\"+o+\")|(?:::)(?:\"+o+\")?)\"+i+\"\\\\.\"+i+\"\\\\.\"+i+\"\\\\.\"+i+\"$\",\"i\")},t=function(e,t){var n,i,r,o,s;if(e.indexOf(\"::\")!==e.lastIndexOf(\"::\"))return null;for(n=0,i=-1;(i=e.indexOf(\":\",i+1))>=0;)n++;if(\"::\"===e.substr(0,2)&&n--,\"::\"===e.substr(-2,2)&&n--,n>t)return null;for(s=t-n,o=\":\";s--;)o+=\"0:\";return\":\"===(e=e.replace(\"::\",o))[0]&&(e=e.slice(1)),\":\"===e[e.length-1]&&(e=e.slice(0,-1)),function(){var t,n,i,o;for(o=[],t=0,n=(i=e.split(\":\")).length;t<n;t++)r=i[t],o.push(parseInt(r,16));return o}()},n.IPv6.parser=function(e){var n,i,r,o,a,c;if(e.match(s.native))return t(e,8);if((r=e.match(s.transitional))&&(c=t(r[1].slice(0,-1),6))){for(n=0,i=(a=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])]).length;n<i;n++)if(!(0<=(o=a[n])&&o<=255))return null;return c.push(a[0]<<8|a[1]),c.push(a[2]<<8|a[3]),c}return null},n.IPv4.isIPv4=n.IPv6.isIPv6=function(e){return null!==this.parser(e)},n.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return e,!1}},n.IPv4.isValidFourPartDecimal=function(e){return!(!n.IPv4.isValid(e)||!e.match(/^\\d+(\\.\\d+){3}$/))},n.IPv6.isValid=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{return new this(this.parser(e)),!0}catch(e){return e,!1}},n.IPv4.parse=n.IPv6.parse=function(e){var t;if(null===(t=this.parser(e)))throw new Error(\"ipaddr: string is not formatted like ip address\");return new this(t)},n.IPv4.parseCIDR=function(e){var t,n;if((n=e.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(n[2]))>=0&&t<=32)return[this.parse(n[1]),t];throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")},n.IPv4.subnetMaskFromPrefixLength=function(e){var t,i;if(e<0||e>32)throw new Error(\"ipaddr: invalid prefix length\");for(i=Array(4).fill(0),t=0;t<Math.floor(e/8);)i[t]=255,t++;return i[Math.floor(e/8)]=Math.pow(2,e%8)-1<<8-e%8,new n.IPv4(i)},n.IPv4.broadcastAddressFromCIDR=function(e){var t,i,r,o;try{for(i=n.IPv4.parseCIDR(e)[0],o=this.subnetMaskFromPrefixLength([n.IPv4.parseCIDR(e)[1]]),r=[],t=0;t<4;)r.push(parseInt(i.octets[t],10)|255^parseInt(o.octets[t],10)),t++;return new n.IPv4(r)}catch(e){throw e,new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},n.IPv4.networkAddressFromCIDR=function(e){var t,i,r,o;try{for(i=n.IPv4.parseCIDR(e)[0],o=this.subnetMaskFromPrefixLength([n.IPv4.parseCIDR(e)[1]]),r=[],t=0;t<4;)r.push(parseInt(i.octets[t],10)&parseInt(o.octets[t],10)),t++;return new n.IPv4(r)}catch(e){throw e,new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},n.IPv6.parseCIDR=function(e){var t,n;if((n=e.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(n[2]))>=0&&t<=128)return[this.parse(n[1]),t];throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")},n.isValid=function(e){return n.IPv6.isValid(e)||n.IPv4.isValid(e)},n.parse=function(e){if(n.IPv6.isValid(e))return n.IPv6.parse(e);if(n.IPv4.isValid(e))return n.IPv4.parse(e);throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")},n.parseCIDR=function(e){try{return n.IPv6.parseCIDR(e)}catch(t){t;try{return n.IPv4.parseCIDR(e)}catch(e){throw e,new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}},n.fromByteArray=function(e){var t;if(4===(t=e.length))return new n.IPv4(e);if(16===t)return new n.IPv6(e);throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")},n.process=function(e){var t;return\"ipv6\"===(t=this.parse(e)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}).call(this)}).call(this,n(96)(e))},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(153),r=n(14)(\"express\"),o=n(39).isIP,s=n(97),a=n(19),c=n(66),l=n(91),p=n(22),u=n(92),d=Object.create(a.IncomingMessage.prototype);function f(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:n})}e.exports=d,d.get=d.header=function(e){if(!e)throw new TypeError(\"name argument is required to req.get\");if(\"string\"!=typeof e)throw new TypeError(\"name must be a string to req.get\");var t=e.toLowerCase();switch(t){case\"referer\":case\"referrer\":return this.headers.referrer||this.headers.referer;default:return this.headers[t]}},d.accepts=function(){var e=i(this);return e.types.apply(e,arguments)},d.acceptsEncodings=function(){var e=i(this);return e.encodings.apply(e,arguments)},d.acceptsEncoding=r.function(d.acceptsEncodings,\"req.acceptsEncoding: Use acceptsEncodings instead\"),d.acceptsCharsets=function(){var e=i(this);return e.charsets.apply(e,arguments)},d.acceptsCharset=r.function(d.acceptsCharsets,\"req.acceptsCharset: Use acceptsCharsets instead\"),d.acceptsLanguages=function(){var e=i(this);return e.languages.apply(e,arguments)},d.acceptsLanguage=r.function(d.acceptsLanguages,\"req.acceptsLanguage: Use acceptsLanguages instead\"),d.range=function(e,t){var n=this.get(\"Range\");if(n)return l(e,n,t)},d.param=function(e,t){var n=this.params||{},i=this.body||{},o=this.query||{},s=1===arguments.length?\"name\":\"name, default\";return r(\"req.param(\"+s+\"): Use req.params, req.body, or req.query instead\"),null!=n[e]&&n.hasOwnProperty(e)?n[e]:null!=i[e]?i[e]:null!=o[e]?o[e]:t},d.is=function(e){var t=e;if(!Array.isArray(e)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return s(this,t)},f(d,\"protocol\",function(){var e=this.connection.encrypted?\"https\":\"http\";return this.app.get(\"trust proxy fn\")(this.connection.remoteAddress,0)?(e=this.get(\"X-Forwarded-Proto\")||e).split(/\\s*,\\s*/)[0]:e}),f(d,\"secure\",function(){return\"https\"===this.protocol}),f(d,\"ip\",function(){var e=this.app.get(\"trust proxy fn\");return u(this,e)}),f(d,\"ips\",function(){var e=this.app.get(\"trust proxy fn\"),t=u.all(this,e);return t.reverse().pop(),t}),f(d,\"subdomains\",function(){var e=this.hostname;if(!e)return[];var t=this.app.get(\"subdomain offset\"),n=o(e)?[e]:e.split(\".\").reverse();return n.slice(t)}),f(d,\"path\",function(){return p(this).pathname}),f(d,\"hostname\",function(){var e=this.app.get(\"trust proxy fn\"),t=this.get(\"X-Forwarded-Host\");if(t&&e(this.connection.remoteAddress,0)||(t=this.get(\"Host\")),t){var n=\"[\"===t[0]?t.indexOf(\"]\")+1:0,i=t.indexOf(\":\",n);return-1!==i?t.substring(0,i):t}}),f(d,\"host\",r.function(function(){return this.hostname},\"req.host: Use req.hostname instead\")),f(d,\"fresh\",function(){var e=this.method,t=this.res,n=t.statusCode;return(\"GET\"===e||\"HEAD\"===e)&&((n>=200&&n<300||304===n)&&c(this.headers,{etag:t.get(\"ETag\"),\"last-modified\":t.get(\"Last-Modified\")}))}),f(d,\"stale\",function(){return!this.fresh}),f(d,\"xhr\",function(){return\"xmlhttprequest\"===(this.get(\"X-Requested-With\")||\"\").toLowerCase()})},function(e,t,n){\"use strict\";\n/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(154),r=n(93);function o(e){if(!(this instanceof o))return new o(e);this.headers=e.headers,this.negotiator=new i(e)}function s(e){return-1===e.indexOf(\"/\")?r.lookup(e):e}function a(e){return\"string\"==typeof e}e.exports=o,o.prototype.type=o.prototype.types=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}if(!t||0===t.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return t[0];var i=t.map(s),r=this.negotiator.mediaTypes(i.filter(a))[0];return!!r&&t[i.indexOf(r)]},o.prototype.encoding=o.prototype.encodings=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},o.prototype.charset=o.prototype.charsets=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},o.prototype.lang=o.prototype.langs=o.prototype.language=o.prototype.languages=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},function(e,t,n){\"use strict\";\n/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=Object.create(null);function r(e){if(!(this instanceof r))return new r(e);this.request=e}function o(e){var t=i[e];if(void 0!==t)return t;switch(e){case\"charset\":t=n(155);break;case\"encoding\":t=n(156);break;case\"language\":t=n(157);break;case\"mediaType\":t=n(158);break;default:throw new Error(\"Cannot find module '\"+e+\"'\")}return i[e]=t,t}e.exports=r,e.exports.Negotiator=r,r.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},r.prototype.charsets=function(e){return(0,o(\"charset\").preferredCharsets)(this.request.headers[\"accept-charset\"],e)},r.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},r.prototype.encodings=function(e){return(0,o(\"encoding\").preferredEncodings)(this.request.headers[\"accept-encoding\"],e)},r.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},r.prototype.languages=function(e){return(0,o(\"language\").preferredLanguages)(this.request.headers[\"accept-language\"],e)},r.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},r.prototype.mediaTypes=function(e){return(0,o(\"mediaType\").preferredMediaTypes)(this.request.headers.accept,e)},r.prototype.preferredCharset=r.prototype.charset,r.prototype.preferredCharsets=r.prototype.charsets,r.prototype.preferredEncoding=r.prototype.encoding,r.prototype.preferredEncodings=r.prototype.encodings,r.prototype.preferredLanguage=r.prototype.language,r.prototype.preferredLanguages=r.prototype.languages,r.prototype.preferredMediaType=r.prototype.mediaType,r.prototype.preferredMediaTypes=r.prototype.mediaTypes},function(e,t,n){\"use strict\";e.exports=s,e.exports.preferredCharsets=s;var i=/^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;function r(e,t){var n=i.exec(e);if(!n)return null;var r=n[1],o=1;if(n[2]){var s=n[2].split(\";\");for(t=0;t<s.length;t++){var a=s[t].trim().split(\"=\");if(\"q\"===a[0]){o=parseFloat(a[1]);break}}}return{charset:r,q:o,i:t}}function o(e,t,n){var i=0;if(t.charset.toLowerCase()===e.toLowerCase())i|=1;else if(\"*\"!==t.charset)return null;return{i:n,o:t.i,q:t.q,s:i}}function s(e,t){var n=function(e){for(var t=e.split(\",\"),n=0,i=0;n<t.length;n++){var o=r(t[n].trim(),n);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?\"*\":e||\"\");if(!t)return n.filter(l).sort(a).map(c);var i=t.map(function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=o(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)});return i.filter(l).sort(a).map(function(e){return t[i.indexOf(e)]})}function a(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function c(e){return e.charset}function l(e){return e.q>0}},function(e,t,n){\"use strict\";e.exports=s,e.exports.preferredEncodings=s;var i=/^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;function r(e,t){var n=i.exec(e);if(!n)return null;var r=n[1],o=1;if(n[2]){var s=n[2].split(\";\");for(t=0;t<s.length;t++){var a=s[t].trim().split(\"=\");if(\"q\"===a[0]){o=parseFloat(a[1]);break}}}return{encoding:r,q:o,i:t}}function o(e,t,n){var i=0;if(t.encoding.toLowerCase()===e.toLowerCase())i|=1;else if(\"*\"!==t.encoding)return null;return{i:n,o:t.i,q:t.q,s:i}}function s(e,t){var n=function(e){for(var t=e.split(\",\"),n=!1,i=1,s=0,a=0;s<t.length;s++){var c=r(t[s].trim(),s);c&&(t[a++]=c,n=n||o(\"identity\",c),i=Math.min(i,c.q||1))}return n||(t[a++]={encoding:\"identity\",q:i,i:s}),t.length=a,t}(e||\"\");if(!t)return n.filter(l).sort(a).map(c);var i=t.map(function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=o(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)});return i.filter(l).sort(a).map(function(e){return t[i.indexOf(e)]})}function a(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function c(e){return e.encoding}function l(e){return e.q>0}},function(e,t,n){\"use strict\";e.exports=s,e.exports.preferredLanguages=s;var i=/^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;function r(e,t){var n=i.exec(e);if(!n)return null;var r=n[1],o=n[2],s=r;o&&(s+=\"-\"+o);var a=1;if(n[3]){var c=n[3].split(\";\");for(t=0;t<c.length;t++){var l=c[t].split(\"=\");\"q\"===l[0]&&(a=parseFloat(l[1]))}}return{prefix:r,suffix:o,q:a,i:t,full:s}}function o(e,t,n){var i=r(e);if(!i)return null;var o=0;if(t.full.toLowerCase()===i.full.toLowerCase())o|=4;else if(t.prefix.toLowerCase()===i.full.toLowerCase())o|=2;else if(t.full.toLowerCase()===i.prefix.toLowerCase())o|=1;else if(\"*\"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:o}}function s(e,t){var n=function(e){for(var t=e.split(\",\"),n=0,i=0;n<t.length;n++){var o=r(t[n].trim(),n);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?\"*\":e||\"\");if(!t)return n.filter(l).sort(a).map(c);var i=t.map(function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=o(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)});return i.filter(l).sort(a).map(function(e){return t[i.indexOf(e)]})}function a(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function c(e){return e.full}function l(e){return e.q>0}},function(e,t,n){\"use strict\";e.exports=a,e.exports.preferredMediaTypes=a;var i=/^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;function r(e){for(var t=function(e){for(var t=e.split(\",\"),n=1,i=0;n<t.length;n++)u(t[i])%2==0?t[++i]=t[n]:t[i]+=\",\"+t[n];return t.length=i+1,t}(e),n=0,i=0;n<t.length;n++){var r=o(t[n].trim(),n);r&&(t[i++]=r)}return t.length=i,t}function o(e,t){var n=i.exec(e);if(!n)return null;var r=Object.create(null),o=1,s=n[2],a=n[1];if(n[3])for(var c=function(e){for(var t=e.split(\";\"),n=1,i=0;n<t.length;n++)u(t[i])%2==0?t[++i]=t[n]:t[i]+=\";\"+t[n];t.length=i+1;for(var n=0;n<t.length;n++)t[n]=t[n].trim();return t}(n[3]).map(d),l=0;l<c.length;l++){var p=c[l],f=p[0].toLowerCase(),m=p[1],h=m&&'\"'===m[0]&&'\"'===m[m.length-1]?m.substr(1,m.length-2):m;if(\"q\"===f){o=parseFloat(h);break}r[f]=h}return{type:a,subtype:s,params:r,q:o,i:t}}function s(e,t,n){var i=o(e),r=0;if(!i)return null;if(t.type.toLowerCase()==i.type.toLowerCase())r|=4;else if(\"*\"!=t.type)return null;if(t.subtype.toLowerCase()==i.subtype.toLowerCase())r|=2;else if(\"*\"!=t.subtype)return null;var s=Object.keys(t.params);if(s.length>0){if(!s.every(function(e){return\"*\"==t.params[e]||(t.params[e]||\"\").toLowerCase()==(i.params[e]||\"\").toLowerCase()}))return null;r|=1}return{i:n,o:t.i,q:t.q,s:r}}function a(e,t){var n=r(void 0===e?\"*/*\":e||\"\");if(!t)return n.filter(p).sort(c).map(l);var i=t.map(function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var o=s(e,t[r],n);o&&(i.s-o.s||i.q-o.q||i.o-o.o)<0&&(i=o)}return i}(e,n,t)});return i.filter(p).sort(c).map(function(e){return t[i.indexOf(e)]})}function c(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function l(e){return e.type+\"/\"+e.subtype}function p(e){return e.q>0}function u(e){for(var t=0,n=0;-1!==(n=e.indexOf('\"',n));)t++,n++;return t}function d(e){var t,n,i=e.indexOf(\"=\");return-1===i?t=e:(t=e.substr(0,i),n=e.substr(i+1)),[t,n]}},function(e,t,n){\n/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\ne.exports=n(160)},function(e){e.exports={\"application/1d-interleaved-parityfec\":{source:\"iana\"},\"application/3gpdash-qoe-report+xml\":{source:\"iana\",compressible:!0},\"application/3gpp-ims+xml\":{source:\"iana\",compressible:!0},\"application/a2l\":{source:\"iana\"},\"application/activemessage\":{source:\"iana\"},\"application/activity+json\":{source:\"iana\",compressible:!0},\"application/alto-costmap+json\":{source:\"iana\",compressible:!0},\"application/alto-costmapfilter+json\":{source:\"iana\",compressible:!0},\"application/alto-directory+json\":{source:\"iana\",compressible:!0},\"application/alto-endpointcost+json\":{source:\"iana\",compressible:!0},\"application/alto-endpointcostparams+json\":{source:\"iana\",compressible:!0},\"application/alto-endpointprop+json\":{source:\"iana\",compressible:!0},\"application/alto-endpointpropparams+json\":{source:\"iana\",compressible:!0},\"application/alto-error+json\":{source:\"iana\",compressible:!0},\"application/alto-networkmap+json\":{source:\"iana\",compressible:!0},\"application/alto-networkmapfilter+json\":{source:\"iana\",compressible:!0},\"application/aml\":{source:\"iana\"},\"application/andrew-inset\":{source:\"iana\",extensions:[\"ez\"]},\"application/applefile\":{source:\"iana\"},\"application/applixware\":{source:\"apache\",extensions:[\"aw\"]},\"application/atf\":{source:\"iana\"},\"application/atfx\":{source:\"iana\"},\"application/atom+xml\":{source:\"iana\",compressible:!0,extensions:[\"atom\"]},\"application/atomcat+xml\":{source:\"iana\",compressible:!0,extensions:[\"atomcat\"]},\"application/atomdeleted+xml\":{source:\"iana\",compressible:!0},\"application/atomicmail\":{source:\"iana\"},\"application/atomsvc+xml\":{source:\"iana\",compressible:!0,extensions:[\"atomsvc\"]},\"application/atxml\":{source:\"iana\"},\"application/auth-policy+xml\":{source:\"iana\",compressible:!0},\"application/bacnet-xdd+zip\":{source:\"iana\",compressible:!1},\"application/batch-smtp\":{source:\"iana\"},\"application/bdoc\":{compressible:!1,extensions:[\"bdoc\"]},\"application/beep+xml\":{source:\"iana\",compressible:!0},\"application/calendar+json\":{source:\"iana\",compressible:!0},\"application/calendar+xml\":{source:\"iana\",compressible:!0},\"application/call-completion\":{source:\"iana\"},\"application/cals-1840\":{source:\"iana\"},\"application/cbor\":{source:\"iana\"},\"application/cccex\":{source:\"iana\"},\"application/ccmp+xml\":{source:\"iana\",compressible:!0},\"application/ccxml+xml\":{source:\"iana\",compressible:!0,extensions:[\"ccxml\"]},\"application/cdfx+xml\":{source:\"iana\",compressible:!0},\"application/cdmi-capability\":{source:\"iana\",extensions:[\"cdmia\"]},\"application/cdmi-container\":{source:\"iana\",extensions:[\"cdmic\"]},\"application/cdmi-domain\":{source:\"iana\",extensions:[\"cdmid\"]},\"application/cdmi-object\":{source:\"iana\",extensions:[\"cdmio\"]},\"application/cdmi-queue\":{source:\"iana\",extensions:[\"cdmiq\"]},\"application/cdni\":{source:\"iana\"},\"application/cea\":{source:\"iana\"},\"application/cea-2018+xml\":{source:\"iana\",compressible:!0},\"application/cellml+xml\":{source:\"iana\",compressible:!0},\"application/cfw\":{source:\"iana\"},\"application/clue_info+xml\":{source:\"iana\",compressible:!0},\"application/cms\":{source:\"iana\"},\"application/cnrp+xml\":{source:\"iana\",compressible:!0},\"application/coap-group+json\":{source:\"iana\",compressible:!0},\"application/coap-payload\":{source:\"iana\"},\"application/commonground\":{source:\"iana\"},\"application/conference-info+xml\":{source:\"iana\",compressible:!0},\"application/cose\":{source:\"iana\"},\"application/cose-key\":{source:\"iana\"},\"application/cose-key-set\":{source:\"iana\"},\"application/cpl+xml\":{source:\"iana\",compressible:!0},\"application/csrattrs\":{source:\"iana\"},\"application/csta+xml\":{source:\"iana\",compressible:!0},\"application/cstadata+xml\":{source:\"iana\",compressible:!0},\"application/csvm+json\":{source:\"iana\",compressible:!0},\"application/cu-seeme\":{source:\"apache\",extensions:[\"cu\"]},\"application/cwt\":{source:\"iana\"},\"application/cybercash\":{source:\"iana\"},\"application/dart\":{compressible:!0},\"application/dash+xml\":{source:\"iana\",compressible:!0,extensions:[\"mpd\"]},\"application/dashdelta\":{source:\"iana\"},\"application/davmount+xml\":{source:\"iana\",compressible:!0,extensions:[\"davmount\"]},\"application/dca-rft\":{source:\"iana\"},\"application/dcd\":{source:\"iana\"},\"application/dec-dx\":{source:\"iana\"},\"application/dialog-info+xml\":{source:\"iana\",compressible:!0},\"application/dicom\":{source:\"iana\"},\"application/dicom+json\":{source:\"iana\",compressible:!0},\"application/dicom+xml\":{source:\"iana\",compressible:!0},\"application/dii\":{source:\"iana\"},\"application/dit\":{source:\"iana\"},\"application/dns\":{source:\"iana\"},\"application/dns+json\":{source:\"iana\",compressible:!0},\"application/dns-message\":{source:\"iana\"},\"application/docbook+xml\":{source:\"apache\",compressible:!0,extensions:[\"dbk\"]},\"application/dskpp+xml\":{source:\"iana\",compressible:!0},\"application/dssc+der\":{source:\"iana\",extensions:[\"dssc\"]},\"application/dssc+xml\":{source:\"iana\",compressible:!0,extensions:[\"xdssc\"]},\"application/dvcs\":{source:\"iana\"},\"application/ecmascript\":{source:\"iana\",compressible:!0,extensions:[\"ecma\",\"es\"]},\"application/edi-consent\":{source:\"iana\"},\"application/edi-x12\":{source:\"iana\",compressible:!1},\"application/edifact\":{source:\"iana\",compressible:!1},\"application/efi\":{source:\"iana\"},\"application/emergencycalldata.comment+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.control+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.deviceinfo+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.ecall.msd\":{source:\"iana\"},\"application/emergencycalldata.providerinfo+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.serviceinfo+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.subscriberinfo+xml\":{source:\"iana\",compressible:!0},\"application/emergencycalldata.veds+xml\":{source:\"iana\",compressible:!0},\"application/emma+xml\":{source:\"iana\",compressible:!0,extensions:[\"emma\"]},\"application/emotionml+xml\":{source:\"iana\",compressible:!0},\"application/encaprtp\":{source:\"iana\"},\"application/epp+xml\":{source:\"iana\",compressible:!0},\"application/epub+zip\":{source:\"iana\",compressible:!1,extensions:[\"epub\"]},\"application/eshop\":{source:\"iana\"},\"application/exi\":{source:\"iana\",extensions:[\"exi\"]},\"application/fastinfoset\":{source:\"iana\"},\"application/fastsoap\":{source:\"iana\"},\"application/fdt+xml\":{source:\"iana\",compressible:!0},\"application/fhir+json\":{source:\"iana\",compressible:!0},\"application/fhir+xml\":{source:\"iana\",compressible:!0},\"application/fido.trusted-apps+json\":{compressible:!0},\"application/fits\":{source:\"iana\"},\"application/font-sfnt\":{source:\"iana\"},\"application/font-tdpfr\":{source:\"iana\",extensions:[\"pfr\"]},\"application/font-woff\":{source:\"iana\",compressible:!1},\"application/framework-attributes+xml\":{source:\"iana\",compressible:!0},\"application/geo+json\":{source:\"iana\",compressible:!0,extensions:[\"geojson\"]},\"application/geo+json-seq\":{source:\"iana\"},\"application/geopackage+sqlite3\":{source:\"iana\"},\"application/geoxacml+xml\":{source:\"iana\",compressible:!0},\"application/gltf-buffer\":{source:\"iana\"},\"application/gml+xml\":{source:\"iana\",compressible:!0,extensions:[\"gml\"]},\"application/gpx+xml\":{source:\"apache\",compressible:!0,extensions:[\"gpx\"]},\"application/gxf\":{source:\"apache\",extensions:[\"gxf\"]},\"application/gzip\":{source:\"iana\",compressible:!1,extensions:[\"gz\"]},\"application/h224\":{source:\"iana\"},\"application/held+xml\":{source:\"iana\",compressible:!0},\"application/hjson\":{extensions:[\"hjson\"]},\"application/http\":{source:\"iana\"},\"application/hyperstudio\":{source:\"iana\",extensions:[\"stk\"]},\"application/ibe-key-request+xml\":{source:\"iana\",compressible:!0},\"application/ibe-pkg-reply+xml\":{source:\"iana\",compressible:!0},\"application/ibe-pp-data\":{source:\"iana\"},\"application/iges\":{source:\"iana\"},\"application/im-iscomposing+xml\":{source:\"iana\",compressible:!0},\"application/index\":{source:\"iana\"},\"application/index.cmd\":{source:\"iana\"},\"application/index.obj\":{source:\"iana\"},\"application/index.response\":{source:\"iana\"},\"application/index.vnd\":{source:\"iana\"},\"application/inkml+xml\":{source:\"iana\",compressible:!0,extensions:[\"ink\",\"inkml\"]},\"application/iotp\":{source:\"iana\"},\"application/ipfix\":{source:\"iana\",extensions:[\"ipfix\"]},\"application/ipp\":{source:\"iana\"},\"application/isup\":{source:\"iana\"},\"application/its+xml\":{source:\"iana\",compressible:!0},\"application/java-archive\":{source:\"apache\",compressible:!1,extensions:[\"jar\",\"war\",\"ear\"]},\"application/java-serialized-object\":{source:\"apache\",compressible:!1,extensions:[\"ser\"]},\"application/java-vm\":{source:\"apache\",compressible:!1,extensions:[\"class\"]},\"application/javascript\":{source:\"iana\",charset:\"UTF-8\",compressible:!0,extensions:[\"js\",\"mjs\"]},\"application/jf2feed+json\":{source:\"iana\",compressible:!0},\"application/jose\":{source:\"iana\"},\"application/jose+json\":{source:\"iana\",compressible:!0},\"application/jrd+json\":{source:\"iana\",compressible:!0},\"application/json\":{source:\"iana\",charset:\"UTF-8\",compressible:!0,extensions:[\"json\",\"map\"]},\"application/json-patch+json\":{source:\"iana\",compressible:!0},\"application/json-seq\":{source:\"iana\"},\"application/json5\":{extensions:[\"json5\"]},\"application/jsonml+json\":{source:\"apache\",compressible:!0,extensions:[\"jsonml\"]},\"application/jwk+json\":{source:\"iana\",compressible:!0},\"application/jwk-set+json\":{source:\"iana\",compressible:!0},\"application/jwt\":{source:\"iana\"},\"application/kpml-request+xml\":{source:\"iana\",compressible:!0},\"application/kpml-response+xml\":{source:\"iana\",compressible:!0},\"application/ld+json\":{source:\"iana\",compressible:!0,extensions:[\"jsonld\"]},\"application/lgr+xml\":{source:\"iana\",compressible:!0},\"application/link-format\":{source:\"iana\"},\"application/load-control+xml\":{source:\"iana\",compressible:!0},\"application/lost+xml\":{source:\"iana\",compressible:!0,extensions:[\"lostxml\"]},\"application/lostsync+xml\":{source:\"iana\",compressible:!0},\"application/lxf\":{source:\"iana\"},\"application/mac-binhex40\":{source:\"iana\",extensions:[\"hqx\"]},\"application/mac-compactpro\":{source:\"apache\",extensions:[\"cpt\"]},\"application/macwriteii\":{source:\"iana\"},\"application/mads+xml\":{source:\"iana\",compressible:!0,extensions:[\"mads\"]},\"application/manifest+json\":{charset:\"UTF-8\",compressible:!0,extensions:[\"webmanifest\"]},\"application/marc\":{source:\"iana\",extensions:[\"mrc\"]},\"application/marcxml+xml\":{source:\"iana\",compressible:!0,extensions:[\"mrcx\"]},\"application/mathematica\":{source:\"iana\",extensions:[\"ma\",\"nb\",\"mb\"]},\"application/mathml+xml\":{source:\"iana\",compressible:!0,extensions:[\"mathml\"]},\"application/mathml-content+xml\":{source:\"iana\",compressible:!0},\"application/mathml-presentation+xml\":{source:\"iana\",compressible:!0},\"application/mbms-associated-procedure-description+xml\":{source:\"iana\",compressible:!0},\"application/mbms-deregister+xml\":{source:\"iana\",compressible:!0},\"application/mbms-envelope+xml\":{source:\"iana\",compressible:!0},\"application/mbms-msk+xml\":{source:\"iana\",compressible:!0},\"application/mbms-msk-response+xml\":{source:\"iana\",compressible:!0},\"application/mbms-protection-description+xml\":{source:\"iana\",compressible:!0},\"application/mbms-reception-report+xml\":{source:\"iana\",compressible:!0},\"application/mbms-register+xml\":{source:\"iana\",compressible:!0},\"application/mbms-register-response+xml\":{source:\"iana\",compressible:!0},\"application/mbms-schedule+xml\":{source:\"iana\",compressible:!0},\"application/mbms-user-service-description+xml\":{source:\"iana\",compressible:!0},\"application/mbox\":{source:\"iana\",extensions:[\"mbox\"]},\"application/media-policy-dataset+xml\":{source:\"iana\",compressible:!0},\"application/media_control+xml\":{source:\"iana\",compressible:!0},\"application/mediaservercontrol+xml\":{source:\"iana\",compressible:!0,extensions:[\"mscml\"]},\"application/merge-patch+json\":{source:\"iana\",compressible:!0},\"application/metalink+xml\":{source:\"apache\",compressible:!0,extensions:[\"metalink\"]},\"application/metalink4+xml\":{source:\"iana\",compressible:!0,extensions:[\"meta4\"]},\"application/mets+xml\":{source:\"iana\",compressible:!0,extensions:[\"mets\"]},\"application/mf4\":{source:\"iana\"},\"application/mikey\":{source:\"iana\"},\"application/mmt-usd+xml\":{source:\"iana\",compressible:!0},\"application/mods+xml\":{source:\"iana\",compressible:!0,extensions:[\"mods\"]},\"application/moss-keys\":{source:\"iana\"},\"application/moss-signature\":{source:\"iana\"},\"application/mosskey-data\":{source:\"iana\"},\"application/mosskey-request\":{source:\"iana\"},\"application/mp21\":{source:\"iana\",extensions:[\"m21\",\"mp21\"]},\"application/mp4\":{source:\"iana\",extensions:[\"mp4s\",\"m4p\"]},\"application/mpeg4-generic\":{source:\"iana\"},\"application/mpeg4-iod\":{source:\"iana\"},\"application/mpeg4-iod-xmt\":{source:\"iana\"},\"application/mrb-consumer+xml\":{source:\"iana\",compressible:!0},\"application/mrb-publish+xml\":{source:\"iana\",compressible:!0},\"application/msc-ivr+xml\":{source:\"iana\",compressible:!0},\"application/msc-mixer+xml\":{source:\"iana\",compressible:!0},\"application/msword\":{source:\"iana\",compressible:!1,extensions:[\"doc\",\"dot\"]},\"application/mud+json\":{source:\"iana\",compressible:!0},\"application/mxf\":{source:\"iana\",extensions:[\"mxf\"]},\"application/n-quads\":{source:\"iana\"},\"application/n-triples\":{source:\"iana\"},\"application/nasdata\":{source:\"iana\"},\"application/news-checkgroups\":{source:\"iana\"},\"application/news-groupinfo\":{source:\"iana\"},\"application/news-transmission\":{source:\"iana\"},\"application/nlsml+xml\":{source:\"iana\",compressible:!0},\"application/node\":{source:\"iana\"},\"application/nss\":{source:\"iana\"},\"application/ocsp-request\":{source:\"iana\"},\"application/ocsp-response\":{source:\"iana\"},\"application/octet-stream\":{source:\"iana\",compressible:!1,extensions:[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"]},\"application/oda\":{source:\"iana\",extensions:[\"oda\"]},\"application/odx\":{source:\"iana\"},\"application/oebps-package+xml\":{source:\"iana\",compressible:!0,extensions:[\"opf\"]},\"application/ogg\":{source:\"iana\",compressible:!1,extensions:[\"ogx\"]},\"application/omdoc+xml\":{source:\"apache\",compressible:!0,extensions:[\"omdoc\"]},\"application/onenote\":{source:\"apache\",extensions:[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"]},\"application/oxps\":{source:\"iana\",extensions:[\"oxps\"]},\"application/p2p-overlay+xml\":{source:\"iana\",compressible:!0},\"application/parityfec\":{source:\"iana\"},\"application/passport\":{source:\"iana\"},\"application/patch-ops-error+xml\":{source:\"iana\",compressible:!0,extensions:[\"xer\"]},\"application/pdf\":{source:\"iana\",compressible:!1,extensions:[\"pdf\"]},\"application/pdx\":{source:\"iana\"},\"application/pgp-encrypted\":{source:\"iana\",compressible:!1,extensions:[\"pgp\"]},\"application/pgp-keys\":{source:\"iana\"},\"application/pgp-signature\":{source:\"iana\",extensions:[\"asc\",\"sig\"]},\"application/pics-rules\":{source:\"apache\",extensions:[\"prf\"]},\"application/pidf+xml\":{source:\"iana\",compressible:!0},\"application/pidf-diff+xml\":{source:\"iana\",compressible:!0},\"application/pkcs10\":{source:\"iana\",extensions:[\"p10\"]},\"application/pkcs12\":{source:\"iana\"},\"application/pkcs7-mime\":{source:\"iana\",extensions:[\"p7m\",\"p7c\"]},\"application/pkcs7-signature\":{source:\"iana\",extensions:[\"p7s\"]},\"application/pkcs8\":{source:\"iana\",extensions:[\"p8\"]},\"application/pkcs8-encrypted\":{source:\"iana\"},\"application/pkix-attr-cert\":{source:\"iana\",extensions:[\"ac\"]},\"application/pkix-cert\":{source:\"iana\",extensions:[\"cer\"]},\"application/pkix-crl\":{source:\"iana\",extensions:[\"crl\"]},\"application/pkix-pkipath\":{source:\"iana\",extensions:[\"pkipath\"]},\"application/pkixcmp\":{source:\"iana\",extensions:[\"pki\"]},\"application/pls+xml\":{source:\"iana\",compressible:!0,extensions:[\"pls\"]},\"application/poc-settings+xml\":{source:\"iana\",compressible:!0},\"application/postscript\":{source:\"iana\",compressible:!0,extensions:[\"ai\",\"eps\",\"ps\"]},\"application/ppsp-tracker+json\":{source:\"iana\",compressible:!0},\"application/problem+json\":{source:\"iana\",compressible:!0},\"application/problem+xml\":{source:\"iana\",compressible:!0},\"application/provenance+xml\":{source:\"iana\",compressible:!0},\"application/prs.alvestrand.titrax-sheet\":{source:\"iana\"},\"application/prs.cww\":{source:\"iana\",extensions:[\"cww\"]},\"application/prs.hpub+zip\":{source:\"iana\",compressible:!1},\"application/prs.nprend\":{source:\"iana\"},\"application/prs.plucker\":{source:\"iana\"},\"application/prs.rdf-xml-crypt\":{source:\"iana\"},\"application/prs.xsf+xml\":{source:\"iana\",compressible:!0},\"application/pskc+xml\":{source:\"iana\",compressible:!0,extensions:[\"pskcxml\"]},\"application/qsig\":{source:\"iana\"},\"application/raml+yaml\":{compressible:!0,extensions:[\"raml\"]},\"application/raptorfec\":{source:\"iana\"},\"application/rdap+json\":{source:\"iana\",compressible:!0},\"application/rdf+xml\":{source:\"iana\",compressible:!0,extensions:[\"rdf\",\"owl\"]},\"application/reginfo+xml\":{source:\"iana\",compressible:!0,extensions:[\"rif\"]},\"application/relax-ng-compact-syntax\":{source:\"iana\",extensions:[\"rnc\"]},\"application/remote-printing\":{source:\"iana\"},\"application/reputon+json\":{source:\"iana\",compressible:!0},\"application/resource-lists+xml\":{source:\"iana\",compressible:!0,extensions:[\"rl\"]},\"application/resource-lists-diff+xml\":{source:\"iana\",compressible:!0,extensions:[\"rld\"]},\"application/rfc+xml\":{source:\"iana\",compressible:!0},\"application/riscos\":{source:\"iana\"},\"application/rlmi+xml\":{source:\"iana\",compressible:!0},\"application/rls-services+xml\":{source:\"iana\",compressible:!0,extensions:[\"rs\"]},\"application/route-apd+xml\":{source:\"iana\",compressible:!0},\"application/route-s-tsid+xml\":{source:\"iana\",compressible:!0},\"application/route-usd+xml\":{source:\"iana\",compressible:!0},\"application/rpki-ghostbusters\":{source:\"iana\",extensions:[\"gbr\"]},\"application/rpki-manifest\":{source:\"iana\",extensions:[\"mft\"]},\"application/rpki-publication\":{source:\"iana\"},\"application/rpki-roa\":{source:\"iana\",extensions:[\"roa\"]},\"application/rpki-updown\":{source:\"iana\"},\"application/rsd+xml\":{source:\"apache\",compressible:!0,extensions:[\"rsd\"]},\"application/rss+xml\":{source:\"apache\",compressible:!0,extensions:[\"rss\"]},\"application/rtf\":{source:\"iana\",compressible:!0,extensions:[\"rtf\"]},\"application/rtploopback\":{source:\"iana\"},\"application/rtx\":{source:\"iana\"},\"application/samlassertion+xml\":{source:\"iana\",compressible:!0},\"application/samlmetadata+xml\":{source:\"iana\",compressible:!0},\"application/sbml+xml\":{source:\"iana\",compressible:!0,extensions:[\"sbml\"]},\"application/scaip+xml\":{source:\"iana\",compressible:!0},\"application/scim+json\":{source:\"iana\",compressible:!0},\"application/scvp-cv-request\":{source:\"iana\",extensions:[\"scq\"]},\"application/scvp-cv-response\":{source:\"iana\",extensions:[\"scs\"]},\"application/scvp-vp-request\":{source:\"iana\",extensions:[\"spq\"]},\"application/scvp-vp-response\":{source:\"iana\",extensions:[\"spp\"]},\"application/sdp\":{source:\"iana\",extensions:[\"sdp\"]},\"application/secevent+jwt\":{source:\"iana\"},\"application/senml+cbor\":{source:\"iana\"},\"application/senml+json\":{source:\"iana\",compressible:!0},\"application/senml+xml\":{source:\"iana\",compressible:!0},\"application/senml-exi\":{source:\"iana\"},\"application/sensml+cbor\":{source:\"iana\"},\"application/sensml+json\":{source:\"iana\",compressible:!0},\"application/sensml+xml\":{source:\"iana\",compressible:!0},\"application/sensml-exi\":{source:\"iana\"},\"application/sep+xml\":{source:\"iana\",compressible:!0},\"application/sep-exi\":{source:\"iana\"},\"application/session-info\":{source:\"iana\"},\"application/set-payment\":{source:\"iana\"},\"application/set-payment-initiation\":{source:\"iana\",extensions:[\"setpay\"]},\"application/set-registration\":{source:\"iana\"},\"application/set-registration-initiation\":{source:\"iana\",extensions:[\"setreg\"]},\"application/sgml\":{source:\"iana\"},\"application/sgml-open-catalog\":{source:\"iana\"},\"application/shf+xml\":{source:\"iana\",compressible:!0,extensions:[\"shf\"]},\"application/sieve\":{source:\"iana\"},\"application/simple-filter+xml\":{source:\"iana\",compressible:!0},\"application/simple-message-summary\":{source:\"iana\"},\"application/simplesymbolcontainer\":{source:\"iana\"},\"application/slate\":{source:\"iana\"},\"application/smil\":{source:\"iana\"},\"application/smil+xml\":{source:\"iana\",compressible:!0,extensions:[\"smi\",\"smil\"]},\"application/smpte336m\":{source:\"iana\"},\"application/soap+fastinfoset\":{source:\"iana\"},\"application/soap+xml\":{source:\"iana\",compressible:!0},\"application/sparql-query\":{source:\"iana\",extensions:[\"rq\"]},\"application/sparql-results+xml\":{source:\"iana\",compressible:!0,extensions:[\"srx\"]},\"application/spirits-event+xml\":{source:\"iana\",compressible:!0},\"application/sql\":{source:\"iana\"},\"application/srgs\":{source:\"iana\",extensions:[\"gram\"]},\"application/srgs+xml\":{source:\"iana\",compressible:!0,extensions:[\"grxml\"]},\"application/sru+xml\":{source:\"iana\",compressible:!0,extensions:[\"sru\"]},\"application/ssdl+xml\":{source:\"apache\",compressible:!0,extensions:[\"ssdl\"]},\"application/ssml+xml\":{source:\"iana\",compressible:!0,extensions:[\"ssml\"]},\"application/stix+json\":{source:\"iana\",compressible:!0},\"application/tamp-apex-update\":{source:\"iana\"},\"application/tamp-apex-update-confirm\":{source:\"iana\"},\"application/tamp-community-update\":{source:\"iana\"},\"application/tamp-community-update-confirm\":{source:\"iana\"},\"application/tamp-error\":{source:\"iana\"},\"application/tamp-sequence-adjust\":{source:\"iana\"},\"application/tamp-sequence-adjust-confirm\":{source:\"iana\"},\"application/tamp-status-query\":{source:\"iana\"},\"application/tamp-status-response\":{source:\"iana\"},\"application/tamp-update\":{source:\"iana\"},\"application/tamp-update-confirm\":{source:\"iana\"},\"application/tar\":{compressible:!0},\"application/taxii+json\":{source:\"iana\",compressible:!0},\"application/tei+xml\":{source:\"iana\",compressible:!0,extensions:[\"tei\",\"teicorpus\"]},\"application/thraud+xml\":{source:\"iana\",compressible:!0,extensions:[\"tfi\"]},\"application/timestamp-query\":{source:\"iana\"},\"application/timestamp-reply\":{source:\"iana\"},\"application/timestamped-data\":{source:\"iana\",extensions:[\"tsd\"]},\"application/tlsrpt+gzip\":{source:\"iana\"},\"application/tlsrpt+json\":{source:\"iana\",compressible:!0},\"application/tnauthlist\":{source:\"iana\"},\"application/trickle-ice-sdpfrag\":{source:\"iana\"},\"application/trig\":{source:\"iana\"},\"application/ttml+xml\":{source:\"iana\",compressible:!0},\"application/tve-trigger\":{source:\"iana\"},\"application/ulpfec\":{source:\"iana\"},\"application/urc-grpsheet+xml\":{source:\"iana\",compressible:!0},\"application/urc-ressheet+xml\":{source:\"iana\",compressible:!0},\"application/urc-targetdesc+xml\":{source:\"iana\",compressible:!0},\"application/urc-uisocketdesc+xml\":{source:\"iana\",compressible:!0},\"application/vcard+json\":{source:\"iana\",compressible:!0},\"application/vcard+xml\":{source:\"iana\",compressible:!0},\"application/vemmi\":{source:\"iana\"},\"application/vividence.scriptfile\":{source:\"apache\"},\"application/vnd.1000minds.decision-model+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp-prose+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp-prose-pc3ch+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp-v2x-local-service-information\":{source:\"iana\"},\"application/vnd.3gpp.access-transfer-events+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.bsf+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.gmop+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mc-signalling-ear\":{source:\"iana\"},\"application/vnd.3gpp.mcdata-payload\":{source:\"iana\"},\"application/vnd.3gpp.mcdata-signalling\":{source:\"iana\"},\"application/vnd.3gpp.mcptt-affiliation-command+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mcptt-floor-request+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mcptt-info+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mcptt-location-info+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mcptt-mbms-usage-info+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mcptt-signed+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.mid-call+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.pic-bw-large\":{source:\"iana\",extensions:[\"plb\"]},\"application/vnd.3gpp.pic-bw-small\":{source:\"iana\",extensions:[\"psb\"]},\"application/vnd.3gpp.pic-bw-var\":{source:\"iana\",extensions:[\"pvb\"]},\"application/vnd.3gpp.sms\":{source:\"iana\"},\"application/vnd.3gpp.sms+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.srvcc-ext+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.srvcc-info+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.state-and-event-info+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp.ussd+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp2.bcmcsinfo+xml\":{source:\"iana\",compressible:!0},\"application/vnd.3gpp2.sms\":{source:\"iana\"},\"application/vnd.3gpp2.tcap\":{source:\"iana\",extensions:[\"tcap\"]},\"application/vnd.3lightssoftware.imagescal\":{source:\"iana\"},\"application/vnd.3m.post-it-notes\":{source:\"iana\",extensions:[\"pwn\"]},\"application/vnd.accpac.simply.aso\":{source:\"iana\",extensions:[\"aso\"]},\"application/vnd.accpac.simply.imp\":{source:\"iana\",extensions:[\"imp\"]},\"application/vnd.acucobol\":{source:\"iana\",extensions:[\"acu\"]},\"application/vnd.acucorp\":{source:\"iana\",extensions:[\"atc\",\"acutc\"]},\"application/vnd.adobe.air-application-installer-package+zip\":{source:\"apache\",compressible:!1,extensions:[\"air\"]},\"application/vnd.adobe.flash.movie\":{source:\"iana\"},\"application/vnd.adobe.formscentral.fcdt\":{source:\"iana\",extensions:[\"fcdt\"]},\"application/vnd.adobe.fxp\":{source:\"iana\",extensions:[\"fxp\",\"fxpl\"]},\"application/vnd.adobe.partial-upload\":{source:\"iana\"},\"application/vnd.adobe.xdp+xml\":{source:\"iana\",compressible:!0,extensions:[\"xdp\"]},\"application/vnd.adobe.xfdf\":{source:\"iana\",extensions:[\"xfdf\"]},\"application/vnd.aether.imp\":{source:\"iana\"},\"application/vnd.afpc.afplinedata\":{source:\"iana\"},\"application/vnd.afpc.modca\":{source:\"iana\"},\"application/vnd.ah-barcode\":{source:\"iana\"},\"application/vnd.ahead.space\":{source:\"iana\",extensions:[\"ahead\"]},\"application/vnd.airzip.filesecure.azf\":{source:\"iana\",extensions:[\"azf\"]},\"application/vnd.airzip.filesecure.azs\":{source:\"iana\",extensions:[\"azs\"]},\"application/vnd.amadeus+json\":{source:\"iana\",compressible:!0},\"application/vnd.amazon.ebook\":{source:\"apache\",extensions:[\"azw\"]},\"application/vnd.amazon.mobi8-ebook\":{source:\"iana\"},\"application/vnd.americandynamics.acc\":{source:\"iana\",extensions:[\"acc\"]},\"application/vnd.amiga.ami\":{source:\"iana\",extensions:[\"ami\"]},\"application/vnd.amundsen.maze+xml\":{source:\"iana\",compressible:!0},\"application/vnd.android.package-archive\":{source:\"apache\",compressible:!1,extensions:[\"apk\"]},\"application/vnd.anki\":{source:\"iana\"},\"application/vnd.anser-web-certificate-issue-initiation\":{source:\"iana\",extensions:[\"cii\"]},\"application/vnd.anser-web-funds-transfer-initiation\":{source:\"apache\",extensions:[\"fti\"]},\"application/vnd.antix.game-component\":{source:\"iana\",extensions:[\"atx\"]},\"application/vnd.apache.thrift.binary\":{source:\"iana\"},\"application/vnd.apache.thrift.compact\":{source:\"iana\"},\"application/vnd.apache.thrift.json\":{source:\"iana\"},\"application/vnd.api+json\":{source:\"iana\",compressible:!0},\"application/vnd.apothekende.reservation+json\":{source:\"iana\",compressible:!0},\"application/vnd.apple.installer+xml\":{source:\"iana\",compressible:!0,extensions:[\"mpkg\"]},\"application/vnd.apple.keynote\":{source:\"iana\",extensions:[\"keynote\"]},\"application/vnd.apple.mpegurl\":{source:\"iana\",extensions:[\"m3u8\"]},\"application/vnd.apple.numbers\":{source:\"iana\",extensions:[\"numbers\"]},\"application/vnd.apple.pages\":{source:\"iana\",extensions:[\"pages\"]},\"application/vnd.apple.pkpass\":{compressible:!1,extensions:[\"pkpass\"]},\"application/vnd.arastra.swi\":{source:\"iana\"},\"application/vnd.aristanetworks.swi\":{source:\"iana\",extensions:[\"swi\"]},\"application/vnd.artisan+json\":{source:\"iana\",compressible:!0},\"application/vnd.artsquare\":{source:\"iana\"},\"application/vnd.astraea-software.iota\":{source:\"iana\",extensions:[\"iota\"]},\"application/vnd.audiograph\":{source:\"iana\",extensions:[\"aep\"]},\"application/vnd.autopackage\":{source:\"iana\"},\"application/vnd.avalon+json\":{source:\"iana\",compressible:!0},\"application/vnd.avistar+xml\":{source:\"iana\",compressible:!0},\"application/vnd.balsamiq.bmml+xml\":{source:\"iana\",compressible:!0},\"application/vnd.balsamiq.bmpr\":{source:\"iana\"},\"application/vnd.banana-accounting\":{source:\"iana\"},\"application/vnd.bbf.usp.msg\":{source:\"iana\"},\"application/vnd.bbf.usp.msg+json\":{source:\"iana\",compressible:!0},\"application/vnd.bekitzur-stech+json\":{source:\"iana\",compressible:!0},\"application/vnd.bint.med-content\":{source:\"iana\"},\"application/vnd.biopax.rdf+xml\":{source:\"iana\",compressible:!0},\"application/vnd.blink-idb-value-wrapper\":{source:\"iana\"},\"application/vnd.blueice.multipass\":{source:\"iana\",extensions:[\"mpm\"]},\"application/vnd.bluetooth.ep.oob\":{source:\"iana\"},\"application/vnd.bluetooth.le.oob\":{source:\"iana\"},\"application/vnd.bmi\":{source:\"iana\",extensions:[\"bmi\"]},\"application/vnd.businessobjects\":{source:\"iana\",extensions:[\"rep\"]},\"application/vnd.byu.uapi+json\":{source:\"iana\",compressible:!0},\"application/vnd.cab-jscript\":{source:\"iana\"},\"application/vnd.canon-cpdl\":{source:\"iana\"},\"application/vnd.canon-lips\":{source:\"iana\"},\"application/vnd.capasystems-pg+json\":{source:\"iana\",compressible:!0},\"application/vnd.cendio.thinlinc.clientconf\":{source:\"iana\"},\"application/vnd.century-systems.tcp_stream\":{source:\"iana\"},\"application/vnd.chemdraw+xml\":{source:\"iana\",compressible:!0,extensions:[\"cdxml\"]},\"application/vnd.chess-pgn\":{source:\"iana\"},\"application/vnd.chipnuts.karaoke-mmd\":{source:\"iana\",extensions:[\"mmd\"]},\"application/vnd.cinderella\":{source:\"iana\",extensions:[\"cdy\"]},\"application/vnd.cirpack.isdn-ext\":{source:\"iana\"},\"application/vnd.citationstyles.style+xml\":{source:\"iana\",compressible:!0,extensions:[\"csl\"]},\"application/vnd.claymore\":{source:\"iana\",extensions:[\"cla\"]},\"application/vnd.cloanto.rp9\":{source:\"iana\",extensions:[\"rp9\"]},\"application/vnd.clonk.c4group\":{source:\"iana\",extensions:[\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"]},\"application/vnd.cluetrust.cartomobile-config\":{source:\"iana\",extensions:[\"c11amc\"]},\"application/vnd.cluetrust.cartomobile-config-pkg\":{source:\"iana\",extensions:[\"c11amz\"]},\"application/vnd.coffeescript\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.document\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.document-template\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.presentation\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.presentation-template\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.spreadsheet\":{source:\"iana\"},\"application/vnd.collabio.xodocuments.spreadsheet-template\":{source:\"iana\"},\"application/vnd.collection+json\":{source:\"iana\",compressible:!0},\"application/vnd.collection.doc+json\":{source:\"iana\",compressible:!0},\"application/vnd.collection.next+json\":{source:\"iana\",compressible:!0},\"application/vnd.comicbook+zip\":{source:\"iana\",compressible:!1},\"application/vnd.comicbook-rar\":{source:\"iana\"},\"application/vnd.commerce-battelle\":{source:\"iana\"},\"application/vnd.commonspace\":{source:\"iana\",extensions:[\"csp\"]},\"application/vnd.contact.cmsg\":{source:\"iana\",extensions:[\"cdbcmsg\"]},\"application/vnd.coreos.ignition+json\":{source:\"iana\",compressible:!0},\"application/vnd.cosmocaller\":{source:\"iana\",extensions:[\"cmc\"]},\"application/vnd.crick.clicker\":{source:\"iana\",extensions:[\"clkx\"]},\"application/vnd.crick.clicker.keyboard\":{source:\"iana\",extensions:[\"clkk\"]},\"application/vnd.crick.clicker.palette\":{source:\"iana\",extensions:[\"clkp\"]},\"application/vnd.crick.clicker.template\":{source:\"iana\",extensions:[\"clkt\"]},\"application/vnd.crick.clicker.wordbank\":{source:\"iana\",extensions:[\"clkw\"]},\"application/vnd.criticaltools.wbs+xml\":{source:\"iana\",compressible:!0,extensions:[\"wbs\"]},\"application/vnd.ctc-posml\":{source:\"iana\",extensions:[\"pml\"]},\"application/vnd.ctct.ws+xml\":{source:\"iana\",compressible:!0},\"application/vnd.cups-pdf\":{source:\"iana\"},\"application/vnd.cups-postscript\":{source:\"iana\"},\"application/vnd.cups-ppd\":{source:\"iana\",extensions:[\"ppd\"]},\"application/vnd.cups-raster\":{source:\"iana\"},\"application/vnd.cups-raw\":{source:\"iana\"},\"application/vnd.curl\":{source:\"iana\"},\"application/vnd.curl.car\":{source:\"apache\",extensions:[\"car\"]},\"application/vnd.curl.pcurl\":{source:\"apache\",extensions:[\"pcurl\"]},\"application/vnd.cyan.dean.root+xml\":{source:\"iana\",compressible:!0},\"application/vnd.cybank\":{source:\"iana\"},\"application/vnd.d2l.coursepackage1p0+zip\":{source:\"iana\",compressible:!1},\"application/vnd.dart\":{source:\"iana\",compressible:!0,extensions:[\"dart\"]},\"application/vnd.data-vision.rdz\":{source:\"iana\",extensions:[\"rdz\"]},\"application/vnd.datapackage+json\":{source:\"iana\",compressible:!0},\"application/vnd.dataresource+json\":{source:\"iana\",compressible:!0},\"application/vnd.debian.binary-package\":{source:\"iana\"},\"application/vnd.dece.data\":{source:\"iana\",extensions:[\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"]},\"application/vnd.dece.ttml+xml\":{source:\"iana\",compressible:!0,extensions:[\"uvt\",\"uvvt\"]},\"application/vnd.dece.unspecified\":{source:\"iana\",extensions:[\"uvx\",\"uvvx\"]},\"application/vnd.dece.zip\":{source:\"iana\",extensions:[\"uvz\",\"uvvz\"]},\"application/vnd.denovo.fcselayout-link\":{source:\"iana\",extensions:[\"fe_launch\"]},\"application/vnd.desmume.movie\":{source:\"iana\"},\"application/vnd.dir-bi.plate-dl-nosuffix\":{source:\"iana\"},\"application/vnd.dm.delegation+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dna\":{source:\"iana\",extensions:[\"dna\"]},\"application/vnd.document+json\":{source:\"iana\",compressible:!0},\"application/vnd.dolby.mlp\":{source:\"apache\",extensions:[\"mlp\"]},\"application/vnd.dolby.mobile.1\":{source:\"iana\"},\"application/vnd.dolby.mobile.2\":{source:\"iana\"},\"application/vnd.doremir.scorecloud-binary-document\":{source:\"iana\"},\"application/vnd.dpgraph\":{source:\"iana\",extensions:[\"dpg\"]},\"application/vnd.dreamfactory\":{source:\"iana\",extensions:[\"dfac\"]},\"application/vnd.drive+json\":{source:\"iana\",compressible:!0},\"application/vnd.ds-keypoint\":{source:\"apache\",extensions:[\"kpxx\"]},\"application/vnd.dtg.local\":{source:\"iana\"},\"application/vnd.dtg.local.flash\":{source:\"iana\"},\"application/vnd.dtg.local.html\":{source:\"iana\"},\"application/vnd.dvb.ait\":{source:\"iana\",extensions:[\"ait\"]},\"application/vnd.dvb.dvbj\":{source:\"iana\"},\"application/vnd.dvb.esgcontainer\":{source:\"iana\"},\"application/vnd.dvb.ipdcdftnotifaccess\":{source:\"iana\"},\"application/vnd.dvb.ipdcesgaccess\":{source:\"iana\"},\"application/vnd.dvb.ipdcesgaccess2\":{source:\"iana\"},\"application/vnd.dvb.ipdcesgpdd\":{source:\"iana\"},\"application/vnd.dvb.ipdcroaming\":{source:\"iana\"},\"application/vnd.dvb.iptv.alfec-base\":{source:\"iana\"},\"application/vnd.dvb.iptv.alfec-enhancement\":{source:\"iana\"},\"application/vnd.dvb.notif-aggregate-root+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-container+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-generic+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-ia-msglist+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-ia-registration-request+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-ia-registration-response+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.notif-init+xml\":{source:\"iana\",compressible:!0},\"application/vnd.dvb.pfr\":{source:\"iana\"},\"application/vnd.dvb.service\":{source:\"iana\",extensions:[\"svc\"]},\"application/vnd.dxr\":{source:\"iana\"},\"application/vnd.dynageo\":{source:\"iana\",extensions:[\"geo\"]},\"application/vnd.dzr\":{source:\"iana\"},\"application/vnd.easykaraoke.cdgdownload\":{source:\"iana\"},\"application/vnd.ecdis-update\":{source:\"iana\"},\"application/vnd.ecip.rlp\":{source:\"iana\"},\"application/vnd.ecowin.chart\":{source:\"iana\",extensions:[\"mag\"]},\"application/vnd.ecowin.filerequest\":{source:\"iana\"},\"application/vnd.ecowin.fileupdate\":{source:\"iana\"},\"application/vnd.ecowin.series\":{source:\"iana\"},\"application/vnd.ecowin.seriesrequest\":{source:\"iana\"},\"application/vnd.ecowin.seriesupdate\":{source:\"iana\"},\"application/vnd.efi.img\":{source:\"iana\"},\"application/vnd.efi.iso\":{source:\"iana\"},\"application/vnd.emclient.accessrequest+xml\":{source:\"iana\",compressible:!0},\"application/vnd.enliven\":{source:\"iana\",extensions:[\"nml\"]},\"application/vnd.enphase.envoy\":{source:\"iana\"},\"application/vnd.eprints.data+xml\":{source:\"iana\",compressible:!0},\"application/vnd.epson.esf\":{source:\"iana\",extensions:[\"esf\"]},\"application/vnd.epson.msf\":{source:\"iana\",extensions:[\"msf\"]},\"application/vnd.epson.quickanime\":{source:\"iana\",extensions:[\"qam\"]},\"application/vnd.epson.salt\":{source:\"iana\",extensions:[\"slt\"]},\"application/vnd.epson.ssf\":{source:\"iana\",extensions:[\"ssf\"]},\"application/vnd.ericsson.quickcall\":{source:\"iana\"},\"application/vnd.espass-espass+zip\":{source:\"iana\",compressible:!1},\"application/vnd.eszigno3+xml\":{source:\"iana\",compressible:!0,extensions:[\"es3\",\"et3\"]},\"application/vnd.etsi.aoc+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.asic-e+zip\":{source:\"iana\",compressible:!1},\"application/vnd.etsi.asic-s+zip\":{source:\"iana\",compressible:!1},\"application/vnd.etsi.cug+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvcommand+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvdiscovery+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvprofile+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvsad-bc+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvsad-cod+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvsad-npvr+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvservice+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvsync+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.iptvueprofile+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.mcid+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.mheg5\":{source:\"iana\"},\"application/vnd.etsi.overload-control-policy-dataset+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.pstn+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.sci+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.simservs+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.timestamp-token\":{source:\"iana\"},\"application/vnd.etsi.tsl+xml\":{source:\"iana\",compressible:!0},\"application/vnd.etsi.tsl.der\":{source:\"iana\"},\"application/vnd.eudora.data\":{source:\"iana\"},\"application/vnd.evolv.ecig.profile\":{source:\"iana\"},\"application/vnd.evolv.ecig.settings\":{source:\"iana\"},\"application/vnd.evolv.ecig.theme\":{source:\"iana\"},\"application/vnd.exstream-empower+zip\":{source:\"iana\",compressible:!1},\"application/vnd.ezpix-album\":{source:\"iana\",extensions:[\"ez2\"]},\"application/vnd.ezpix-package\":{source:\"iana\",extensions:[\"ez3\"]},\"application/vnd.f-secure.mobile\":{source:\"iana\"},\"application/vnd.fastcopy-disk-image\":{source:\"iana\"},\"application/vnd.fdf\":{source:\"iana\",extensions:[\"fdf\"]},\"application/vnd.fdsn.mseed\":{source:\"iana\",extensions:[\"mseed\"]},\"application/vnd.fdsn.seed\":{source:\"iana\",extensions:[\"seed\",\"dataless\"]},\"application/vnd.ffsns\":{source:\"iana\"},\"application/vnd.filmit.zfc\":{source:\"iana\"},\"application/vnd.fints\":{source:\"iana\"},\"application/vnd.firemonkeys.cloudcell\":{source:\"iana\"},\"application/vnd.flographit\":{source:\"iana\",extensions:[\"gph\"]},\"application/vnd.fluxtime.clip\":{source:\"iana\",extensions:[\"ftc\"]},\"application/vnd.font-fontforge-sfd\":{source:\"iana\"},\"application/vnd.framemaker\":{source:\"iana\",extensions:[\"fm\",\"frame\",\"maker\",\"book\"]},\"application/vnd.frogans.fnc\":{source:\"iana\",extensions:[\"fnc\"]},\"application/vnd.frogans.ltf\":{source:\"iana\",extensions:[\"ltf\"]},\"application/vnd.fsc.weblaunch\":{source:\"iana\",extensions:[\"fsc\"]},\"application/vnd.fujitsu.oasys\":{source:\"iana\",extensions:[\"oas\"]},\"application/vnd.fujitsu.oasys2\":{source:\"iana\",extensions:[\"oa2\"]},\"application/vnd.fujitsu.oasys3\":{source:\"iana\",extensions:[\"oa3\"]},\"application/vnd.fujitsu.oasysgp\":{source:\"iana\",extensions:[\"fg5\"]},\"application/vnd.fujitsu.oasysprs\":{source:\"iana\",extensions:[\"bh2\"]},\"application/vnd.fujixerox.art-ex\":{source:\"iana\"},\"application/vnd.fujixerox.art4\":{source:\"iana\"},\"application/vnd.fujixerox.ddd\":{source:\"iana\",extensions:[\"ddd\"]},\"application/vnd.fujixerox.docuworks\":{source:\"iana\",extensions:[\"xdw\"]},\"application/vnd.fujixerox.docuworks.binder\":{source:\"iana\",extensions:[\"xbd\"]},\"application/vnd.fujixerox.docuworks.container\":{source:\"iana\"},\"application/vnd.fujixerox.hbpl\":{source:\"iana\"},\"application/vnd.fut-misnet\":{source:\"iana\"},\"application/vnd.futoin+cbor\":{source:\"iana\"},\"application/vnd.futoin+json\":{source:\"iana\",compressible:!0},\"application/vnd.fuzzysheet\":{source:\"iana\",extensions:[\"fzs\"]},\"application/vnd.genomatix.tuxedo\":{source:\"iana\",extensions:[\"txd\"]},\"application/vnd.geo+json\":{source:\"iana\",compressible:!0},\"application/vnd.geocube+xml\":{source:\"iana\",compressible:!0},\"application/vnd.geogebra.file\":{source:\"iana\",extensions:[\"ggb\"]},\"application/vnd.geogebra.tool\":{source:\"iana\",extensions:[\"ggt\"]},\"application/vnd.geometry-explorer\":{source:\"iana\",extensions:[\"gex\",\"gre\"]},\"application/vnd.geonext\":{source:\"iana\",extensions:[\"gxt\"]},\"application/vnd.geoplan\":{source:\"iana\",extensions:[\"g2w\"]},\"application/vnd.geospace\":{source:\"iana\",extensions:[\"g3w\"]},\"application/vnd.gerber\":{source:\"iana\"},\"application/vnd.globalplatform.card-content-mgt\":{source:\"iana\"},\"application/vnd.globalplatform.card-content-mgt-response\":{source:\"iana\"},\"application/vnd.gmx\":{source:\"iana\",extensions:[\"gmx\"]},\"application/vnd.google-apps.document\":{compressible:!1,extensions:[\"gdoc\"]},\"application/vnd.google-apps.presentation\":{compressible:!1,extensions:[\"gslides\"]},\"application/vnd.google-apps.spreadsheet\":{compressible:!1,extensions:[\"gsheet\"]},\"application/vnd.google-earth.kml+xml\":{source:\"iana\",compressible:!0,extensions:[\"kml\"]},\"application/vnd.google-earth.kmz\":{source:\"iana\",compressible:!1,extensions:[\"kmz\"]},\"application/vnd.gov.sk.e-form+xml\":{source:\"iana\",compressible:!0},\"application/vnd.gov.sk.e-form+zip\":{source:\"iana\",compressible:!1},\"application/vnd.gov.sk.xmldatacontainer+xml\":{source:\"iana\",compressible:!0},\"application/vnd.grafeq\":{source:\"iana\",extensions:[\"gqf\",\"gqs\"]},\"application/vnd.gridmp\":{source:\"iana\"},\"application/vnd.groove-account\":{source:\"iana\",extensions:[\"gac\"]},\"application/vnd.groove-help\":{source:\"iana\",extensions:[\"ghf\"]},\"application/vnd.groove-identity-message\":{source:\"iana\",extensions:[\"gim\"]},\"application/vnd.groove-injector\":{source:\"iana\",extensions:[\"grv\"]},\"application/vnd.groove-tool-message\":{source:\"iana\",extensions:[\"gtm\"]},\"application/vnd.groove-tool-template\":{source:\"iana\",extensions:[\"tpl\"]},\"application/vnd.groove-vcard\":{source:\"iana\",extensions:[\"vcg\"]},\"application/vnd.hal+json\":{source:\"iana\",compressible:!0},\"application/vnd.hal+xml\":{source:\"iana\",compressible:!0,extensions:[\"hal\"]},\"application/vnd.handheld-entertainment+xml\":{source:\"iana\",compressible:!0,extensions:[\"zmm\"]},\"application/vnd.hbci\":{source:\"iana\",extensions:[\"hbci\"]},\"application/vnd.hc+json\":{source:\"iana\",compressible:!0},\"application/vnd.hcl-bireports\":{source:\"iana\"},\"application/vnd.hdt\":{source:\"iana\"},\"application/vnd.heroku+json\":{source:\"iana\",compressible:!0},\"application/vnd.hhe.lesson-player\":{source:\"iana\",extensions:[\"les\"]},\"application/vnd.hp-hpgl\":{source:\"iana\",extensions:[\"hpgl\"]},\"application/vnd.hp-hpid\":{source:\"iana\",extensions:[\"hpid\"]},\"application/vnd.hp-hps\":{source:\"iana\",extensions:[\"hps\"]},\"application/vnd.hp-jlyt\":{source:\"iana\",extensions:[\"jlt\"]},\"application/vnd.hp-pcl\":{source:\"iana\",extensions:[\"pcl\"]},\"application/vnd.hp-pclxl\":{source:\"iana\",extensions:[\"pclxl\"]},\"application/vnd.httphone\":{source:\"iana\"},\"application/vnd.hydrostatix.sof-data\":{source:\"iana\",extensions:[\"sfd-hdstx\"]},\"application/vnd.hyper+json\":{source:\"iana\",compressible:!0},\"application/vnd.hyper-item+json\":{source:\"iana\",compressible:!0},\"application/vnd.hyperdrive+json\":{source:\"iana\",compressible:!0},\"application/vnd.hzn-3d-crossword\":{source:\"iana\"},\"application/vnd.ibm.afplinedata\":{source:\"iana\"},\"application/vnd.ibm.electronic-media\":{source:\"iana\"},\"application/vnd.ibm.minipay\":{source:\"iana\",extensions:[\"mpy\"]},\"application/vnd.ibm.modcap\":{source:\"iana\",extensions:[\"afp\",\"listafp\",\"list3820\"]},\"application/vnd.ibm.rights-management\":{source:\"iana\",extensions:[\"irm\"]},\"application/vnd.ibm.secure-container\":{source:\"iana\",extensions:[\"sc\"]},\"application/vnd.iccprofile\":{source:\"iana\",extensions:[\"icc\",\"icm\"]},\"application/vnd.ieee.1905\":{source:\"iana\"},\"application/vnd.igloader\":{source:\"iana\",extensions:[\"igl\"]},\"application/vnd.imagemeter.folder+zip\":{source:\"iana\",compressible:!1},\"application/vnd.imagemeter.image+zip\":{source:\"iana\",compressible:!1},\"application/vnd.immervision-ivp\":{source:\"iana\",extensions:[\"ivp\"]},\"application/vnd.immervision-ivu\":{source:\"iana\",extensions:[\"ivu\"]},\"application/vnd.ims.imsccv1p1\":{source:\"iana\"},\"application/vnd.ims.imsccv1p2\":{source:\"iana\"},\"application/vnd.ims.imsccv1p3\":{source:\"iana\"},\"application/vnd.ims.lis.v2.result+json\":{source:\"iana\",compressible:!0},\"application/vnd.ims.lti.v2.toolconsumerprofile+json\":{source:\"iana\",compressible:!0},\"application/vnd.ims.lti.v2.toolproxy+json\":{source:\"iana\",compressible:!0},\"application/vnd.ims.lti.v2.toolproxy.id+json\":{source:\"iana\",compressible:!0},\"application/vnd.ims.lti.v2.toolsettings+json\":{source:\"iana\",compressible:!0},\"application/vnd.ims.lti.v2.toolsettings.simple+json\":{source:\"iana\",compressible:!0},\"application/vnd.informedcontrol.rms+xml\":{source:\"iana\",compressible:!0},\"application/vnd.informix-visionary\":{source:\"iana\"},\"application/vnd.infotech.project\":{source:\"iana\"},\"application/vnd.infotech.project+xml\":{source:\"iana\",compressible:!0},\"application/vnd.innopath.wamp.notification\":{source:\"iana\"},\"application/vnd.insors.igm\":{source:\"iana\",extensions:[\"igm\"]},\"application/vnd.intercon.formnet\":{source:\"iana\",extensions:[\"xpw\",\"xpx\"]},\"application/vnd.intergeo\":{source:\"iana\",extensions:[\"i2g\"]},\"application/vnd.intertrust.digibox\":{source:\"iana\"},\"application/vnd.intertrust.nncp\":{source:\"iana\"},\"application/vnd.intu.qbo\":{source:\"iana\",extensions:[\"qbo\"]},\"application/vnd.intu.qfx\":{source:\"iana\",extensions:[\"qfx\"]},\"application/vnd.iptc.g2.catalogitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.conceptitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.knowledgeitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.newsitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.newsmessage+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.packageitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.iptc.g2.planningitem+xml\":{source:\"iana\",compressible:!0},\"application/vnd.ipunplugged.rcprofile\":{source:\"iana\",extensions:[\"rcprofile\"]},\"application/vnd.irepository.package+xml\":{source:\"iana\",compressible:!0,extensions:[\"irp\"]},\"application/vnd.is-xpr\":{source:\"iana\",extensions:[\"xpr\"]},\"application/vnd.isac.fcs\":{source:\"iana\",extensions:[\"fcs\"]},\"application/vnd.jam\":{source:\"iana\",extensions:[\"jam\"]},\"application/vnd.japannet-directory-service\":{source:\"iana\"},\"application/vnd.japannet-jpnstore-wakeup\":{source:\"iana\"},\"application/vnd.japannet-payment-wakeup\":{source:\"iana\"},\"application/vnd.japannet-registration\":{source:\"iana\"},\"application/vnd.japannet-registration-wakeup\":{source:\"iana\"},\"application/vnd.japannet-setstore-wakeup\":{source:\"iana\"},\"application/vnd.japannet-verification\":{source:\"iana\"},\"application/vnd.japannet-verification-wakeup\":{source:\"iana\"},\"application/vnd.jcp.javame.midlet-rms\":{source:\"iana\",extensions:[\"rms\"]},\"application/vnd.jisp\":{source:\"iana\",extensions:[\"jisp\"]},\"application/vnd.joost.joda-archive\":{source:\"iana\",extensions:[\"joda\"]},\"application/vnd.jsk.isdn-ngn\":{source:\"iana\"},\"application/vnd.kahootz\":{source:\"iana\",extensions:[\"ktz\",\"ktr\"]},\"application/vnd.kde.karbon\":{source:\"iana\",extensions:[\"karbon\"]},\"application/vnd.kde.kchart\":{source:\"iana\",extensions:[\"chrt\"]},\"application/vnd.kde.kformula\":{source:\"iana\",extensions:[\"kfo\"]},\"application/vnd.kde.kivio\":{source:\"iana\",extensions:[\"flw\"]},\"application/vnd.kde.kontour\":{source:\"iana\",extensions:[\"kon\"]},\"application/vnd.kde.kpresenter\":{source:\"iana\",extensions:[\"kpr\",\"kpt\"]},\"application/vnd.kde.kspread\":{source:\"iana\",extensions:[\"ksp\"]},\"application/vnd.kde.kword\":{source:\"iana\",extensions:[\"kwd\",\"kwt\"]},\"application/vnd.kenameaapp\":{source:\"iana\",extensions:[\"htke\"]},\"application/vnd.kidspiration\":{source:\"iana\",extensions:[\"kia\"]},\"application/vnd.kinar\":{source:\"iana\",extensions:[\"kne\",\"knp\"]},\"application/vnd.koan\":{source:\"iana\",extensions:[\"skp\",\"skd\",\"skt\",\"skm\"]},\"application/vnd.kodak-descriptor\":{source:\"iana\",extensions:[\"sse\"]},\"application/vnd.las.las+json\":{source:\"iana\",compressible:!0},\"application/vnd.las.las+xml\":{source:\"iana\",compressible:!0,extensions:[\"lasxml\"]},\"application/vnd.leap+json\":{source:\"iana\",compressible:!0},\"application/vnd.liberty-request+xml\":{source:\"iana\",compressible:!0},\"application/vnd.llamagraphics.life-balance.desktop\":{source:\"iana\",extensions:[\"lbd\"]},\"application/vnd.llamagraphics.life-balance.exchange+xml\":{source:\"iana\",compressible:!0,extensions:[\"lbe\"]},\"application/vnd.lotus-1-2-3\":{source:\"iana\",extensions:[\"123\"]},\"application/vnd.lotus-approach\":{source:\"iana\",extensions:[\"apr\"]},\"application/vnd.lotus-freelance\":{source:\"iana\",extensions:[\"pre\"]},\"application/vnd.lotus-notes\":{source:\"iana\",extensions:[\"nsf\"]},\"application/vnd.lotus-organizer\":{source:\"iana\",extensions:[\"org\"]},\"application/vnd.lotus-screencam\":{source:\"iana\",extensions:[\"scm\"]},\"application/vnd.lotus-wordpro\":{source:\"iana\",extensions:[\"lwp\"]},\"application/vnd.macports.portpkg\":{source:\"iana\",extensions:[\"portpkg\"]},\"application/vnd.mapbox-vector-tile\":{source:\"iana\"},\"application/vnd.marlin.drm.actiontoken+xml\":{source:\"iana\",compressible:!0},\"application/vnd.marlin.drm.conftoken+xml\":{source:\"iana\",compressible:!0},\"application/vnd.marlin.drm.license+xml\":{source:\"iana\",compressible:!0},\"application/vnd.marlin.drm.mdcf\":{source:\"iana\"},\"application/vnd.mason+json\":{source:\"iana\",compressible:!0},\"application/vnd.maxmind.maxmind-db\":{source:\"iana\"},\"application/vnd.mcd\":{source:\"iana\",extensions:[\"mcd\"]},\"application/vnd.medcalcdata\":{source:\"iana\",extensions:[\"mc1\"]},\"application/vnd.mediastation.cdkey\":{source:\"iana\",extensions:[\"cdkey\"]},\"application/vnd.meridian-slingshot\":{source:\"iana\"},\"application/vnd.mfer\":{source:\"iana\",extensions:[\"mwf\"]},\"application/vnd.mfmp\":{source:\"iana\",extensions:[\"mfm\"]},\"application/vnd.micro+json\":{source:\"iana\",compressible:!0},\"application/vnd.micrografx.flo\":{source:\"iana\",extensions:[\"flo\"]},\"application/vnd.micrografx.igx\":{source:\"iana\",extensions:[\"igx\"]},\"application/vnd.microsoft.portable-executable\":{source:\"iana\"},\"application/vnd.microsoft.windows.thumbnail-cache\":{source:\"iana\"},\"application/vnd.miele+json\":{source:\"iana\",compressible:!0},\"application/vnd.mif\":{source:\"iana\",extensions:[\"mif\"]},\"application/vnd.minisoft-hp3000-save\":{source:\"iana\"},\"application/vnd.mitsubishi.misty-guard.trustweb\":{source:\"iana\"},\"application/vnd.mobius.daf\":{source:\"iana\",extensions:[\"daf\"]},\"application/vnd.mobius.dis\":{source:\"iana\",extensions:[\"dis\"]},\"application/vnd.mobius.mbk\":{source:\"iana\",extensions:[\"mbk\"]},\"application/vnd.mobius.mqy\":{source:\"iana\",extensions:[\"mqy\"]},\"application/vnd.mobius.msl\":{source:\"iana\",extensions:[\"msl\"]},\"application/vnd.mobius.plc\":{source:\"iana\",extensions:[\"plc\"]},\"application/vnd.mobius.txf\":{source:\"iana\",extensions:[\"txf\"]},\"application/vnd.mophun.application\":{source:\"iana\",extensions:[\"mpn\"]},\"application/vnd.mophun.certificate\":{source:\"iana\",extensions:[\"mpc\"]},\"application/vnd.motorola.flexsuite\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.adsi\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.fis\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.gotap\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.kmr\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.ttc\":{source:\"iana\"},\"application/vnd.motorola.flexsuite.wem\":{source:\"iana\"},\"application/vnd.motorola.iprm\":{source:\"iana\"},\"application/vnd.mozilla.xul+xml\":{source:\"iana\",compressible:!0,extensions:[\"xul\"]},\"application/vnd.ms-3mfdocument\":{source:\"iana\"},\"application/vnd.ms-artgalry\":{source:\"iana\",extensions:[\"cil\"]},\"application/vnd.ms-asf\":{source:\"iana\"},\"application/vnd.ms-cab-compressed\":{source:\"iana\",extensions:[\"cab\"]},\"application/vnd.ms-color.iccprofile\":{source:\"apache\"},\"application/vnd.ms-excel\":{source:\"iana\",compressible:!1,extensions:[\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"]},\"application/vnd.ms-excel.addin.macroenabled.12\":{source:\"iana\",extensions:[\"xlam\"]},\"application/vnd.ms-excel.sheet.binary.macroenabled.12\":{source:\"iana\",extensions:[\"xlsb\"]},\"application/vnd.ms-excel.sheet.macroenabled.12\":{source:\"iana\",extensions:[\"xlsm\"]},\"application/vnd.ms-excel.template.macroenabled.12\":{source:\"iana\",extensions:[\"xltm\"]},\"application/vnd.ms-fontobject\":{source:\"iana\",compressible:!0,extensions:[\"eot\"]},\"application/vnd.ms-htmlhelp\":{source:\"iana\",extensions:[\"chm\"]},\"application/vnd.ms-ims\":{source:\"iana\",extensions:[\"ims\"]},\"application/vnd.ms-lrm\":{source:\"iana\",extensions:[\"lrm\"]},\"application/vnd.ms-office.activex+xml\":{source:\"iana\",compressible:!0},\"application/vnd.ms-officetheme\":{source:\"iana\",extensions:[\"thmx\"]},\"application/vnd.ms-opentype\":{source:\"apache\",compressible:!0},\"application/vnd.ms-outlook\":{compressible:!1,extensions:[\"msg\"]},\"application/vnd.ms-package.obfuscated-opentype\":{source:\"apache\"},\"application/vnd.ms-pki.seccat\":{source:\"apache\",extensions:[\"cat\"]},\"application/vnd.ms-pki.stl\":{source:\"apache\",extensions:[\"stl\"]},\"application/vnd.ms-playready.initiator+xml\":{source:\"iana\",compressible:!0},\"application/vnd.ms-powerpoint\":{source:\"iana\",compressible:!1,extensions:[\"ppt\",\"pps\",\"pot\"]},\"application/vnd.ms-powerpoint.addin.macroenabled.12\":{source:\"iana\",extensions:[\"ppam\"]},\"application/vnd.ms-powerpoint.presentation.macroenabled.12\":{source:\"iana\",extensions:[\"pptm\"]},\"application/vnd.ms-powerpoint.slide.macroenabled.12\":{source:\"iana\",extensions:[\"sldm\"]},\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\":{source:\"iana\",extensions:[\"ppsm\"]},\"application/vnd.ms-powerpoint.template.macroenabled.12\":{source:\"iana\",extensions:[\"potm\"]},\"application/vnd.ms-printdevicecapabilities+xml\":{source:\"iana\",compressible:!0},\"application/vnd.ms-printing.printticket+xml\":{source:\"apache\",compressible:!0},\"application/vnd.ms-printschematicket+xml\":{source:\"iana\",compressible:!0},\"application/vnd.ms-project\":{source:\"iana\",extensions:[\"mpp\",\"mpt\"]},\"application/vnd.ms-tnef\":{source:\"iana\"},\"application/vnd.ms-windows.devicepairing\":{source:\"iana\"},\"application/vnd.ms-windows.nwprinting.oob\":{source:\"iana\"},\"application/vnd.ms-windows.printerpairing\":{source:\"iana\"},\"application/vnd.ms-windows.wsd.oob\":{source:\"iana\"},\"application/vnd.ms-wmdrm.lic-chlg-req\":{source:\"iana\"},\"application/vnd.ms-wmdrm.lic-resp\":{source:\"iana\"},\"application/vnd.ms-wmdrm.meter-chlg-req\":{source:\"iana\"},\"application/vnd.ms-wmdrm.meter-resp\":{source:\"iana\"},\"application/vnd.ms-word.document.macroenabled.12\":{source:\"iana\",extensions:[\"docm\"]},\"application/vnd.ms-word.template.macroenabled.12\":{source:\"iana\",extensions:[\"dotm\"]},\"application/vnd.ms-works\":{source:\"iana\",extensions:[\"wps\",\"wks\",\"wcm\",\"wdb\"]},\"application/vnd.ms-wpl\":{source:\"iana\",extensions:[\"wpl\"]},\"application/vnd.ms-xpsdocument\":{source:\"iana\",compressible:!1,extensions:[\"xps\"]},\"application/vnd.msa-disk-image\":{source:\"iana\"},\"application/vnd.mseq\":{source:\"iana\",extensions:[\"mseq\"]},\"application/vnd.msign\":{source:\"iana\"},\"application/vnd.multiad.creator\":{source:\"iana\"},\"application/vnd.multiad.creator.cif\":{source:\"iana\"},\"application/vnd.music-niff\":{source:\"iana\"},\"application/vnd.musician\":{source:\"iana\",extensions:[\"mus\"]},\"application/vnd.muvee.style\":{source:\"iana\",extensions:[\"msty\"]},\"application/vnd.mynfc\":{source:\"iana\",extensions:[\"taglet\"]},\"application/vnd.ncd.control\":{source:\"iana\"},\"application/vnd.ncd.reference\":{source:\"iana\"},\"application/vnd.nearst.inv+json\":{source:\"iana\",compressible:!0},\"application/vnd.nervana\":{source:\"iana\"},\"application/vnd.netfpx\":{source:\"iana\"},\"application/vnd.neurolanguage.nlu\":{source:\"iana\",extensions:[\"nlu\"]},\"application/vnd.nimn\":{source:\"iana\"},\"application/vnd.nintendo.nitro.rom\":{source:\"iana\"},\"application/vnd.nintendo.snes.rom\":{source:\"iana\"},\"application/vnd.nitf\":{source:\"iana\",extensions:[\"ntf\",\"nitf\"]},\"application/vnd.noblenet-directory\":{source:\"iana\",extensions:[\"nnd\"]},\"application/vnd.noblenet-sealer\":{source:\"iana\",extensions:[\"nns\"]},\"application/vnd.noblenet-web\":{source:\"iana\",extensions:[\"nnw\"]},\"application/vnd.nokia.catalogs\":{source:\"iana\"},\"application/vnd.nokia.conml+wbxml\":{source:\"iana\"},\"application/vnd.nokia.conml+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.iptv.config+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.isds-radio-presets\":{source:\"iana\"},\"application/vnd.nokia.landmark+wbxml\":{source:\"iana\"},\"application/vnd.nokia.landmark+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.landmarkcollection+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.n-gage.ac+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.n-gage.data\":{source:\"iana\",extensions:[\"ngdat\"]},\"application/vnd.nokia.n-gage.symbian.install\":{source:\"iana\",extensions:[\"n-gage\"]},\"application/vnd.nokia.ncd\":{source:\"iana\"},\"application/vnd.nokia.pcd+wbxml\":{source:\"iana\"},\"application/vnd.nokia.pcd+xml\":{source:\"iana\",compressible:!0},\"application/vnd.nokia.radio-preset\":{source:\"iana\",extensions:[\"rpst\"]},\"application/vnd.nokia.radio-presets\":{source:\"iana\",extensions:[\"rpss\"]},\"application/vnd.novadigm.edm\":{source:\"iana\",extensions:[\"edm\"]},\"application/vnd.novadigm.edx\":{source:\"iana\",extensions:[\"edx\"]},\"application/vnd.novadigm.ext\":{source:\"iana\",extensions:[\"ext\"]},\"application/vnd.ntt-local.content-share\":{source:\"iana\"},\"application/vnd.ntt-local.file-transfer\":{source:\"iana\"},\"application/vnd.ntt-local.ogw_remote-access\":{source:\"iana\"},\"application/vnd.ntt-local.sip-ta_remote\":{source:\"iana\"},\"application/vnd.ntt-local.sip-ta_tcp_stream\":{source:\"iana\"},\"application/vnd.oasis.opendocument.chart\":{source:\"iana\",extensions:[\"odc\"]},\"application/vnd.oasis.opendocument.chart-template\":{source:\"iana\",extensions:[\"otc\"]},\"application/vnd.oasis.opendocument.database\":{source:\"iana\",extensions:[\"odb\"]},\"application/vnd.oasis.opendocument.formula\":{source:\"iana\",extensions:[\"odf\"]},\"application/vnd.oasis.opendocument.formula-template\":{source:\"iana\",extensions:[\"odft\"]},\"application/vnd.oasis.opendocument.graphics\":{source:\"iana\",compressible:!1,extensions:[\"odg\"]},\"application/vnd.oasis.opendocument.graphics-template\":{source:\"iana\",extensions:[\"otg\"]},\"application/vnd.oasis.opendocument.image\":{source:\"iana\",extensions:[\"odi\"]},\"application/vnd.oasis.opendocument.image-template\":{source:\"iana\",extensions:[\"oti\"]},\"application/vnd.oasis.opendocument.presentation\":{source:\"iana\",compressible:!1,extensions:[\"odp\"]},\"application/vnd.oasis.opendocument.presentation-template\":{source:\"iana\",extensions:[\"otp\"]},\"application/vnd.oasis.opendocument.spreadsheet\":{source:\"iana\",compressible:!1,extensions:[\"ods\"]},\"application/vnd.oasis.opendocument.spreadsheet-template\":{source:\"iana\",extensions:[\"ots\"]},\"application/vnd.oasis.opendocument.text\":{source:\"iana\",compressible:!1,extensions:[\"odt\"]},\"application/vnd.oasis.opendocument.text-master\":{source:\"iana\",extensions:[\"odm\"]},\"application/vnd.oasis.opendocument.text-template\":{source:\"iana\",extensions:[\"ott\"]},\"application/vnd.oasis.opendocument.text-web\":{source:\"iana\",extensions:[\"oth\"]},\"application/vnd.obn\":{source:\"iana\"},\"application/vnd.ocf+cbor\":{source:\"iana\"},\"application/vnd.oftn.l10n+json\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.contentaccessdownload+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.contentaccessstreaming+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.cspg-hexbinary\":{source:\"iana\"},\"application/vnd.oipf.dae.svg+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.dae.xhtml+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.mippvcontrolmessage+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.pae.gem\":{source:\"iana\"},\"application/vnd.oipf.spdiscovery+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.spdlist+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.ueprofile+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oipf.userprofile+xml\":{source:\"iana\",compressible:!0},\"application/vnd.olpc-sugar\":{source:\"iana\",extensions:[\"xo\"]},\"application/vnd.oma-scws-config\":{source:\"iana\"},\"application/vnd.oma-scws-http-request\":{source:\"iana\"},\"application/vnd.oma-scws-http-response\":{source:\"iana\"},\"application/vnd.oma.bcast.associated-procedure-parameter+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.drm-trigger+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.imd+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.ltkm\":{source:\"iana\"},\"application/vnd.oma.bcast.notification+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.provisioningtrigger\":{source:\"iana\"},\"application/vnd.oma.bcast.sgboot\":{source:\"iana\"},\"application/vnd.oma.bcast.sgdd+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.sgdu\":{source:\"iana\"},\"application/vnd.oma.bcast.simple-symbol-container\":{source:\"iana\"},\"application/vnd.oma.bcast.smartcard-trigger+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.sprov+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.bcast.stkm\":{source:\"iana\"},\"application/vnd.oma.cab-address-book+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.cab-feature-handler+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.cab-pcc+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.cab-subs-invite+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.cab-user-prefs+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.dcd\":{source:\"iana\"},\"application/vnd.oma.dcdc\":{source:\"iana\"},\"application/vnd.oma.dd2+xml\":{source:\"iana\",compressible:!0,extensions:[\"dd2\"]},\"application/vnd.oma.drm.risd+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.group-usage-list+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.lwm2m+json\":{source:\"iana\",compressible:!0},\"application/vnd.oma.lwm2m+tlv\":{source:\"iana\"},\"application/vnd.oma.pal+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.poc.detailed-progress-report+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.poc.final-report+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.poc.groups+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.poc.invocation-descriptor+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.poc.optimized-progress-report+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.push\":{source:\"iana\"},\"application/vnd.oma.scidm.messages+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oma.xcap-directory+xml\":{source:\"iana\",compressible:!0},\"application/vnd.omads-email+xml\":{source:\"iana\",compressible:!0},\"application/vnd.omads-file+xml\":{source:\"iana\",compressible:!0},\"application/vnd.omads-folder+xml\":{source:\"iana\",compressible:!0},\"application/vnd.omaloc-supl-init\":{source:\"iana\"},\"application/vnd.onepager\":{source:\"iana\"},\"application/vnd.onepagertamp\":{source:\"iana\"},\"application/vnd.onepagertamx\":{source:\"iana\"},\"application/vnd.onepagertat\":{source:\"iana\"},\"application/vnd.onepagertatp\":{source:\"iana\"},\"application/vnd.onepagertatx\":{source:\"iana\"},\"application/vnd.openblox.game+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openblox.game-binary\":{source:\"iana\"},\"application/vnd.openeye.oeb\":{source:\"iana\"},\"application/vnd.openofficeorg.extension\":{source:\"apache\",extensions:[\"oxt\"]},\"application/vnd.openstreetmap.data+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.custom-properties+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.customxmlproperties+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawing+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.extended-properties+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.comments+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.presentation\":{source:\"iana\",compressible:!1,extensions:[\"pptx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.slide\":{source:\"iana\",extensions:[\"sldx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\":{source:\"iana\",extensions:[\"ppsx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.tags+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.template\":{source:\"iana\",extensions:[\"potx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":{source:\"iana\",compressible:!1,extensions:[\"xlsx\"]},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\":{source:\"iana\",extensions:[\"xltx\"]},\"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.theme+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.themeoverride+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.vmldrawing\":{source:\"iana\"},\"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":{source:\"iana\",compressible:!1,extensions:[\"docx\"]},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\":{source:\"iana\",extensions:[\"dotx\"]},\"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-package.core-properties+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml\":{source:\"iana\",compressible:!0},\"application/vnd.openxmlformats-package.relationships+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oracle.resource+json\":{source:\"iana\",compressible:!0},\"application/vnd.orange.indata\":{source:\"iana\"},\"application/vnd.osa.netdeploy\":{source:\"iana\"},\"application/vnd.osgeo.mapguide.package\":{source:\"iana\",extensions:[\"mgp\"]},\"application/vnd.osgi.bundle\":{source:\"iana\"},\"application/vnd.osgi.dp\":{source:\"iana\",extensions:[\"dp\"]},\"application/vnd.osgi.subsystem\":{source:\"iana\",extensions:[\"esa\"]},\"application/vnd.otps.ct-kip+xml\":{source:\"iana\",compressible:!0},\"application/vnd.oxli.countgraph\":{source:\"iana\"},\"application/vnd.pagerduty+json\":{source:\"iana\",compressible:!0},\"application/vnd.palm\":{source:\"iana\",extensions:[\"pdb\",\"pqa\",\"oprc\"]},\"application/vnd.panoply\":{source:\"iana\"},\"application/vnd.paos.xml\":{source:\"iana\"},\"application/vnd.patentdive\":{source:\"iana\"},\"application/vnd.pawaafile\":{source:\"iana\",extensions:[\"paw\"]},\"application/vnd.pcos\":{source:\"iana\"},\"application/vnd.pg.format\":{source:\"iana\",extensions:[\"str\"]},\"application/vnd.pg.osasli\":{source:\"iana\",extensions:[\"ei6\"]},\"application/vnd.piaccess.application-licence\":{source:\"iana\"},\"application/vnd.picsel\":{source:\"iana\",extensions:[\"efif\"]},\"application/vnd.pmi.widget\":{source:\"iana\",extensions:[\"wg\"]},\"application/vnd.poc.group-advertisement+xml\":{source:\"iana\",compressible:!0},\"application/vnd.pocketlearn\":{source:\"iana\",extensions:[\"plf\"]},\"application/vnd.powerbuilder6\":{source:\"iana\",extensions:[\"pbd\"]},\"application/vnd.powerbuilder6-s\":{source:\"iana\"},\"application/vnd.powerbuilder7\":{source:\"iana\"},\"application/vnd.powerbuilder7-s\":{source:\"iana\"},\"application/vnd.powerbuilder75\":{source:\"iana\"},\"application/vnd.powerbuilder75-s\":{source:\"iana\"},\"application/vnd.preminet\":{source:\"iana\"},\"application/vnd.previewsystems.box\":{source:\"iana\",extensions:[\"box\"]},\"application/vnd.proteus.magazine\":{source:\"iana\",extensions:[\"mgz\"]},\"application/vnd.psfs\":{source:\"iana\"},\"application/vnd.publishare-delta-tree\":{source:\"iana\",extensions:[\"qps\"]},\"application/vnd.pvi.ptid1\":{source:\"iana\",extensions:[\"ptid\"]},\"application/vnd.pwg-multiplexed\":{source:\"iana\"},\"application/vnd.pwg-xhtml-print+xml\":{source:\"iana\",compressible:!0},\"application/vnd.qualcomm.brew-app-res\":{source:\"iana\"},\"application/vnd.quarantainenet\":{source:\"iana\"},\"application/vnd.quark.quarkxpress\":{source:\"iana\",extensions:[\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"]},\"application/vnd.quobject-quoxdocument\":{source:\"iana\"},\"application/vnd.radisys.moml+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-audit+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-audit-conf+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-audit-conn+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-audit-dialog+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-audit-stream+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-conf+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-base+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-fax-detect+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-fax-sendrecv+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-group+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-speech+xml\":{source:\"iana\",compressible:!0},\"application/vnd.radisys.msml-dialog-transform+xml\":{source:\"iana\",compressible:!0},\"application/vnd.rainstor.data\":{source:\"iana\"},\"application/vnd.rapid\":{source:\"iana\"},\"application/vnd.rar\":{source:\"iana\"},\"application/vnd.realvnc.bed\":{source:\"iana\",extensions:[\"bed\"]},\"application/vnd.recordare.musicxml\":{source:\"iana\",extensions:[\"mxl\"]},\"application/vnd.recordare.musicxml+xml\":{source:\"iana\",compressible:!0,extensions:[\"musicxml\"]},\"application/vnd.renlearn.rlprint\":{source:\"iana\"},\"application/vnd.restful+json\":{source:\"iana\",compressible:!0},\"application/vnd.rig.cryptonote\":{source:\"iana\",extensions:[\"cryptonote\"]},\"application/vnd.rim.cod\":{source:\"apache\",extensions:[\"cod\"]},\"application/vnd.rn-realmedia\":{source:\"apache\",extensions:[\"rm\"]},\"application/vnd.rn-realmedia-vbr\":{source:\"apache\",extensions:[\"rmvb\"]},\"application/vnd.route66.link66+xml\":{source:\"iana\",compressible:!0,extensions:[\"link66\"]},\"application/vnd.rs-274x\":{source:\"iana\"},\"application/vnd.ruckus.download\":{source:\"iana\"},\"application/vnd.s3sms\":{source:\"iana\"},\"application/vnd.sailingtracker.track\":{source:\"iana\",extensions:[\"st\"]},\"application/vnd.sbm.cid\":{source:\"iana\"},\"application/vnd.sbm.mid2\":{source:\"iana\"},\"application/vnd.scribus\":{source:\"iana\"},\"application/vnd.sealed.3df\":{source:\"iana\"},\"application/vnd.sealed.csf\":{source:\"iana\"},\"application/vnd.sealed.doc\":{source:\"iana\"},\"application/vnd.sealed.eml\":{source:\"iana\"},\"application/vnd.sealed.mht\":{source:\"iana\"},\"application/vnd.sealed.net\":{source:\"iana\"},\"application/vnd.sealed.ppt\":{source:\"iana\"},\"application/vnd.sealed.tiff\":{source:\"iana\"},\"application/vnd.sealed.xls\":{source:\"iana\"},\"application/vnd.sealedmedia.softseal.html\":{source:\"iana\"},\"application/vnd.sealedmedia.softseal.pdf\":{source:\"iana\"},\"application/vnd.seemail\":{source:\"iana\",extensions:[\"see\"]},\"application/vnd.sema\":{source:\"iana\",extensions:[\"sema\"]},\"application/vnd.semd\":{source:\"iana\",extensions:[\"semd\"]},\"application/vnd.semf\":{source:\"iana\",extensions:[\"semf\"]},\"application/vnd.shana.informed.formdata\":{source:\"iana\",extensions:[\"ifm\"]},\"application/vnd.shana.informed.formtemplate\":{source:\"iana\",extensions:[\"itp\"]},\"application/vnd.shana.informed.interchange\":{source:\"iana\",extensions:[\"iif\"]},\"application/vnd.shana.informed.package\":{source:\"iana\",extensions:[\"ipk\"]},\"application/vnd.shootproof+json\":{source:\"iana\",compressible:!0},\"application/vnd.sigrok.session\":{source:\"iana\"},\"application/vnd.simtech-mindmapper\":{source:\"iana\",extensions:[\"twd\",\"twds\"]},\"application/vnd.siren+json\":{source:\"iana\",compressible:!0},\"application/vnd.smaf\":{source:\"iana\",extensions:[\"mmf\"]},\"application/vnd.smart.notebook\":{source:\"iana\"},\"application/vnd.smart.teacher\":{source:\"iana\",extensions:[\"teacher\"]},\"application/vnd.software602.filler.form+xml\":{source:\"iana\",compressible:!0},\"application/vnd.software602.filler.form-xml-zip\":{source:\"iana\"},\"application/vnd.solent.sdkm+xml\":{source:\"iana\",compressible:!0,extensions:[\"sdkm\",\"sdkd\"]},\"application/vnd.spotfire.dxp\":{source:\"iana\",extensions:[\"dxp\"]},\"application/vnd.spotfire.sfs\":{source:\"iana\",extensions:[\"sfs\"]},\"application/vnd.sqlite3\":{source:\"iana\"},\"application/vnd.sss-cod\":{source:\"iana\"},\"application/vnd.sss-dtf\":{source:\"iana\"},\"application/vnd.sss-ntf\":{source:\"iana\"},\"application/vnd.stardivision.calc\":{source:\"apache\",extensions:[\"sdc\"]},\"application/vnd.stardivision.draw\":{source:\"apache\",extensions:[\"sda\"]},\"application/vnd.stardivision.impress\":{source:\"apache\",extensions:[\"sdd\"]},\"application/vnd.stardivision.math\":{source:\"apache\",extensions:[\"smf\"]},\"application/vnd.stardivision.writer\":{source:\"apache\",extensions:[\"sdw\",\"vor\"]},\"application/vnd.stardivision.writer-global\":{source:\"apache\",extensions:[\"sgl\"]},\"application/vnd.stepmania.package\":{source:\"iana\",extensions:[\"smzip\"]},\"application/vnd.stepmania.stepchart\":{source:\"iana\",extensions:[\"sm\"]},\"application/vnd.street-stream\":{source:\"iana\"},\"application/vnd.sun.wadl+xml\":{source:\"iana\",compressible:!0,extensions:[\"wadl\"]},\"application/vnd.sun.xml.calc\":{source:\"apache\",extensions:[\"sxc\"]},\"application/vnd.sun.xml.calc.template\":{source:\"apache\",extensions:[\"stc\"]},\"application/vnd.sun.xml.draw\":{source:\"apache\",extensions:[\"sxd\"]},\"application/vnd.sun.xml.draw.template\":{source:\"apache\",extensions:[\"std\"]},\"application/vnd.sun.xml.impress\":{source:\"apache\",extensions:[\"sxi\"]},\"application/vnd.sun.xml.impress.template\":{source:\"apache\",extensions:[\"sti\"]},\"application/vnd.sun.xml.math\":{source:\"apache\",extensions:[\"sxm\"]},\"application/vnd.sun.xml.writer\":{source:\"apache\",extensions:[\"sxw\"]},\"application/vnd.sun.xml.writer.global\":{source:\"apache\",extensions:[\"sxg\"]},\"application/vnd.sun.xml.writer.template\":{source:\"apache\",extensions:[\"stw\"]},\"application/vnd.sus-calendar\":{source:\"iana\",extensions:[\"sus\",\"susp\"]},\"application/vnd.svd\":{source:\"iana\",extensions:[\"svd\"]},\"application/vnd.swiftview-ics\":{source:\"iana\"},\"application/vnd.symbian.install\":{source:\"apache\",extensions:[\"sis\",\"sisx\"]},\"application/vnd.syncml+xml\":{source:\"iana\",compressible:!0,extensions:[\"xsm\"]},\"application/vnd.syncml.dm+wbxml\":{source:\"iana\",extensions:[\"bdm\"]},\"application/vnd.syncml.dm+xml\":{source:\"iana\",compressible:!0,extensions:[\"xdm\"]},\"application/vnd.syncml.dm.notification\":{source:\"iana\"},\"application/vnd.syncml.dmddf+wbxml\":{source:\"iana\"},\"application/vnd.syncml.dmddf+xml\":{source:\"iana\",compressible:!0},\"application/vnd.syncml.dmtnds+wbxml\":{source:\"iana\"},\"application/vnd.syncml.dmtnds+xml\":{source:\"iana\",compressible:!0},\"application/vnd.syncml.ds.notification\":{source:\"iana\"},\"application/vnd.tableschema+json\":{source:\"iana\",compressible:!0},\"application/vnd.tao.intent-module-archive\":{source:\"iana\",extensions:[\"tao\"]},\"application/vnd.tcpdump.pcap\":{source:\"iana\",extensions:[\"pcap\",\"cap\",\"dmp\"]},\"application/vnd.think-cell.ppttc+json\":{source:\"iana\",compressible:!0},\"application/vnd.tmd.mediaflex.api+xml\":{source:\"iana\",compressible:!0},\"application/vnd.tml\":{source:\"iana\"},\"application/vnd.tmobile-livetv\":{source:\"iana\",extensions:[\"tmo\"]},\"application/vnd.tri.onesource\":{source:\"iana\"},\"application/vnd.trid.tpt\":{source:\"iana\",extensions:[\"tpt\"]},\"application/vnd.triscape.mxs\":{source:\"iana\",extensions:[\"mxs\"]},\"application/vnd.trueapp\":{source:\"iana\",extensions:[\"tra\"]},\"application/vnd.truedoc\":{source:\"iana\"},\"application/vnd.ubisoft.webplayer\":{source:\"iana\"},\"application/vnd.ufdl\":{source:\"iana\",extensions:[\"ufd\",\"ufdl\"]},\"application/vnd.uiq.theme\":{source:\"iana\",extensions:[\"utz\"]},\"application/vnd.umajin\":{source:\"iana\",extensions:[\"umj\"]},\"application/vnd.unity\":{source:\"iana\",extensions:[\"unityweb\"]},\"application/vnd.uoml+xml\":{source:\"iana\",compressible:!0,extensions:[\"uoml\"]},\"application/vnd.uplanet.alert\":{source:\"iana\"},\"application/vnd.uplanet.alert-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.bearer-choice\":{source:\"iana\"},\"application/vnd.uplanet.bearer-choice-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.cacheop\":{source:\"iana\"},\"application/vnd.uplanet.cacheop-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.channel\":{source:\"iana\"},\"application/vnd.uplanet.channel-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.list\":{source:\"iana\"},\"application/vnd.uplanet.list-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.listcmd\":{source:\"iana\"},\"application/vnd.uplanet.listcmd-wbxml\":{source:\"iana\"},\"application/vnd.uplanet.signal\":{source:\"iana\"},\"application/vnd.uri-map\":{source:\"iana\"},\"application/vnd.valve.source.material\":{source:\"iana\"},\"application/vnd.vcx\":{source:\"iana\",extensions:[\"vcx\"]},\"application/vnd.vd-study\":{source:\"iana\"},\"application/vnd.vectorworks\":{source:\"iana\"},\"application/vnd.vel+json\":{source:\"iana\",compressible:!0},\"application/vnd.verimatrix.vcas\":{source:\"iana\"},\"application/vnd.vidsoft.vidconference\":{source:\"iana\"},\"application/vnd.visio\":{source:\"iana\",extensions:[\"vsd\",\"vst\",\"vss\",\"vsw\"]},\"application/vnd.visionary\":{source:\"iana\",extensions:[\"vis\"]},\"application/vnd.vividence.scriptfile\":{source:\"iana\"},\"application/vnd.vsf\":{source:\"iana\",extensions:[\"vsf\"]},\"application/vnd.wap.sic\":{source:\"iana\"},\"application/vnd.wap.slc\":{source:\"iana\"},\"application/vnd.wap.wbxml\":{source:\"iana\",extensions:[\"wbxml\"]},\"application/vnd.wap.wmlc\":{source:\"iana\",extensions:[\"wmlc\"]},\"application/vnd.wap.wmlscriptc\":{source:\"iana\",extensions:[\"wmlsc\"]},\"application/vnd.webturbo\":{source:\"iana\",extensions:[\"wtb\"]},\"application/vnd.wfa.p2p\":{source:\"iana\"},\"application/vnd.wfa.wsc\":{source:\"iana\"},\"application/vnd.windows.devicepairing\":{source:\"iana\"},\"application/vnd.wmc\":{source:\"iana\"},\"application/vnd.wmf.bootstrap\":{source:\"iana\"},\"application/vnd.wolfram.mathematica\":{source:\"iana\"},\"application/vnd.wolfram.mathematica.package\":{source:\"iana\"},\"application/vnd.wolfram.player\":{source:\"iana\",extensions:[\"nbp\"]},\"application/vnd.wordperfect\":{source:\"iana\",extensions:[\"wpd\"]},\"application/vnd.wqd\":{source:\"iana\",extensions:[\"wqd\"]},\"application/vnd.wrq-hp3000-labelled\":{source:\"iana\"},\"application/vnd.wt.stf\":{source:\"iana\",extensions:[\"stf\"]},\"application/vnd.wv.csp+wbxml\":{source:\"iana\"},\"application/vnd.wv.csp+xml\":{source:\"iana\",compressible:!0},\"application/vnd.wv.ssp+xml\":{source:\"iana\",compressible:!0},\"application/vnd.xacml+json\":{source:\"iana\",compressible:!0},\"application/vnd.xara\":{source:\"iana\",extensions:[\"xar\"]},\"application/vnd.xfdl\":{source:\"iana\",extensions:[\"xfdl\"]},\"application/vnd.xfdl.webform\":{source:\"iana\"},\"application/vnd.xmi+xml\":{source:\"iana\",compressible:!0},\"application/vnd.xmpie.cpkg\":{source:\"iana\"},\"application/vnd.xmpie.dpkg\":{source:\"iana\"},\"application/vnd.xmpie.plan\":{source:\"iana\"},\"application/vnd.xmpie.ppkg\":{source:\"iana\"},\"application/vnd.xmpie.xlim\":{source:\"iana\"},\"application/vnd.yamaha.hv-dic\":{source:\"iana\",extensions:[\"hvd\"]},\"application/vnd.yamaha.hv-script\":{source:\"iana\",extensions:[\"hvs\"]},\"application/vnd.yamaha.hv-voice\":{source:\"iana\",extensions:[\"hvp\"]},\"application/vnd.yamaha.openscoreformat\":{source:\"iana\",extensions:[\"osf\"]},\"application/vnd.yamaha.openscoreformat.osfpvg+xml\":{source:\"iana\",compressible:!0,extensions:[\"osfpvg\"]},\"application/vnd.yamaha.remote-setup\":{source:\"iana\"},\"application/vnd.yamaha.smaf-audio\":{source:\"iana\",extensions:[\"saf\"]},\"application/vnd.yamaha.smaf-phrase\":{source:\"iana\",extensions:[\"spf\"]},\"application/vnd.yamaha.through-ngn\":{source:\"iana\"},\"application/vnd.yamaha.tunnel-udpencap\":{source:\"iana\"},\"application/vnd.yaoweme\":{source:\"iana\"},\"application/vnd.yellowriver-custom-menu\":{source:\"iana\",extensions:[\"cmp\"]},\"application/vnd.youtube.yt\":{source:\"iana\"},\"application/vnd.zul\":{source:\"iana\",extensions:[\"zir\",\"zirz\"]},\"application/vnd.zzazz.deck+xml\":{source:\"iana\",compressible:!0,extensions:[\"zaz\"]},\"application/voicexml+xml\":{source:\"iana\",compressible:!0,extensions:[\"vxml\"]},\"application/voucher-cms+json\":{source:\"iana\",compressible:!0},\"application/vq-rtcpxr\":{source:\"iana\"},\"application/wasm\":{compressible:!0,extensions:[\"wasm\"]},\"application/watcherinfo+xml\":{source:\"iana\",compressible:!0},\"application/webpush-options+json\":{source:\"iana\",compressible:!0},\"application/whoispp-query\":{source:\"iana\"},\"application/whoispp-response\":{source:\"iana\"},\"application/widget\":{source:\"iana\",extensions:[\"wgt\"]},\"application/winhlp\":{source:\"apache\",extensions:[\"hlp\"]},\"application/wita\":{source:\"iana\"},\"application/wordperfect5.1\":{source:\"iana\"},\"application/wsdl+xml\":{source:\"iana\",compressible:!0,extensions:[\"wsdl\"]},\"application/wspolicy+xml\":{source:\"iana\",compressible:!0,extensions:[\"wspolicy\"]},\"application/x-7z-compressed\":{source:\"apache\",compressible:!1,extensions:[\"7z\"]},\"application/x-abiword\":{source:\"apache\",extensions:[\"abw\"]},\"application/x-ace-compressed\":{source:\"apache\",extensions:[\"ace\"]},\"application/x-amf\":{source:\"apache\"},\"application/x-apple-diskimage\":{source:\"apache\",extensions:[\"dmg\"]},\"application/x-arj\":{compressible:!1,extensions:[\"arj\"]},\"application/x-authorware-bin\":{source:\"apache\",extensions:[\"aab\",\"x32\",\"u32\",\"vox\"]},\"application/x-authorware-map\":{source:\"apache\",extensions:[\"aam\"]},\"application/x-authorware-seg\":{source:\"apache\",extensions:[\"aas\"]},\"application/x-bcpio\":{source:\"apache\",extensions:[\"bcpio\"]},\"application/x-bdoc\":{compressible:!1,extensions:[\"bdoc\"]},\"application/x-bittorrent\":{source:\"apache\",extensions:[\"torrent\"]},\"application/x-blorb\":{source:\"apache\",extensions:[\"blb\",\"blorb\"]},\"application/x-bzip\":{source:\"apache\",compressible:!1,extensions:[\"bz\"]},\"application/x-bzip2\":{source:\"apache\",compressible:!1,extensions:[\"bz2\",\"boz\"]},\"application/x-cbr\":{source:\"apache\",extensions:[\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"]},\"application/x-cdlink\":{source:\"apache\",extensions:[\"vcd\"]},\"application/x-cfs-compressed\":{source:\"apache\",extensions:[\"cfs\"]},\"application/x-chat\":{source:\"apache\",extensions:[\"chat\"]},\"application/x-chess-pgn\":{source:\"apache\",extensions:[\"pgn\"]},\"application/x-chrome-extension\":{extensions:[\"crx\"]},\"application/x-cocoa\":{source:\"nginx\",extensions:[\"cco\"]},\"application/x-compress\":{source:\"apache\"},\"application/x-conference\":{source:\"apache\",extensions:[\"nsc\"]},\"application/x-cpio\":{source:\"apache\",extensions:[\"cpio\"]},\"application/x-csh\":{source:\"apache\",extensions:[\"csh\"]},\"application/x-deb\":{compressible:!1},\"application/x-debian-package\":{source:\"apache\",extensions:[\"deb\",\"udeb\"]},\"application/x-dgc-compressed\":{source:\"apache\",extensions:[\"dgc\"]},\"application/x-director\":{source:\"apache\",extensions:[\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"]},\"application/x-doom\":{source:\"apache\",extensions:[\"wad\"]},\"application/x-dtbncx+xml\":{source:\"apache\",compressible:!0,extensions:[\"ncx\"]},\"application/x-dtbook+xml\":{source:\"apache\",compressible:!0,extensions:[\"dtb\"]},\"application/x-dtbresource+xml\":{source:\"apache\",compressible:!0,extensions:[\"res\"]},\"application/x-dvi\":{source:\"apache\",compressible:!1,extensions:[\"dvi\"]},\"application/x-envoy\":{source:\"apache\",extensions:[\"evy\"]},\"application/x-eva\":{source:\"apache\",extensions:[\"eva\"]},\"application/x-font-bdf\":{source:\"apache\",extensions:[\"bdf\"]},\"application/x-font-dos\":{source:\"apache\"},\"application/x-font-framemaker\":{source:\"apache\"},\"application/x-font-ghostscript\":{source:\"apache\",extensions:[\"gsf\"]},\"application/x-font-libgrx\":{source:\"apache\"},\"application/x-font-linux-psf\":{source:\"apache\",extensions:[\"psf\"]},\"application/x-font-pcf\":{source:\"apache\",extensions:[\"pcf\"]},\"application/x-font-snf\":{source:\"apache\",extensions:[\"snf\"]},\"application/x-font-speedo\":{source:\"apache\"},\"application/x-font-sunos-news\":{source:\"apache\"},\"application/x-font-type1\":{source:\"apache\",extensions:[\"pfa\",\"pfb\",\"pfm\",\"afm\"]},\"application/x-font-vfont\":{source:\"apache\"},\"application/x-freearc\":{source:\"apache\",extensions:[\"arc\"]},\"application/x-futuresplash\":{source:\"apache\",extensions:[\"spl\"]},\"application/x-gca-compressed\":{source:\"apache\",extensions:[\"gca\"]},\"application/x-glulx\":{source:\"apache\",extensions:[\"ulx\"]},\"application/x-gnumeric\":{source:\"apache\",extensions:[\"gnumeric\"]},\"application/x-gramps-xml\":{source:\"apache\",extensions:[\"gramps\"]},\"application/x-gtar\":{source:\"apache\",extensions:[\"gtar\"]},\"application/x-gzip\":{source:\"apache\"},\"application/x-hdf\":{source:\"apache\",extensions:[\"hdf\"]},\"application/x-httpd-php\":{compressible:!0,extensions:[\"php\"]},\"application/x-install-instructions\":{source:\"apache\",extensions:[\"install\"]},\"application/x-iso9660-image\":{source:\"apache\",extensions:[\"iso\"]},\"application/x-java-archive-diff\":{source:\"nginx\",extensions:[\"jardiff\"]},\"application/x-java-jnlp-file\":{source:\"apache\",compressible:!1,extensions:[\"jnlp\"]},\"application/x-javascript\":{compressible:!0},\"application/x-latex\":{source:\"apache\",compressible:!1,extensions:[\"latex\"]},\"application/x-lua-bytecode\":{extensions:[\"luac\"]},\"application/x-lzh-compressed\":{source:\"apache\",extensions:[\"lzh\",\"lha\"]},\"application/x-makeself\":{source:\"nginx\",extensions:[\"run\"]},\"application/x-mie\":{source:\"apache\",extensions:[\"mie\"]},\"application/x-mobipocket-ebook\":{source:\"apache\",extensions:[\"prc\",\"mobi\"]},\"application/x-mpegurl\":{compressible:!1},\"application/x-ms-application\":{source:\"apache\",extensions:[\"application\"]},\"application/x-ms-shortcut\":{source:\"apache\",extensions:[\"lnk\"]},\"application/x-ms-wmd\":{source:\"apache\",extensions:[\"wmd\"]},\"application/x-ms-wmz\":{source:\"apache\",extensions:[\"wmz\"]},\"application/x-ms-xbap\":{source:\"apache\",extensions:[\"xbap\"]},\"application/x-msaccess\":{source:\"apache\",extensions:[\"mdb\"]},\"application/x-msbinder\":{source:\"apache\",extensions:[\"obd\"]},\"application/x-mscardfile\":{source:\"apache\",extensions:[\"crd\"]},\"application/x-msclip\":{source:\"apache\",extensions:[\"clp\"]},\"application/x-msdos-program\":{extensions:[\"exe\"]},\"application/x-msdownload\":{source:\"apache\",extensions:[\"exe\",\"dll\",\"com\",\"bat\",\"msi\"]},\"application/x-msmediaview\":{source:\"apache\",extensions:[\"mvb\",\"m13\",\"m14\"]},\"application/x-msmetafile\":{source:\"apache\",extensions:[\"wmf\",\"wmz\",\"emf\",\"emz\"]},\"application/x-msmoney\":{source:\"apache\",extensions:[\"mny\"]},\"application/x-mspublisher\":{source:\"apache\",extensions:[\"pub\"]},\"application/x-msschedule\":{source:\"apache\",extensions:[\"scd\"]},\"application/x-msterminal\":{source:\"apache\",extensions:[\"trm\"]},\"application/x-mswrite\":{source:\"apache\",extensions:[\"wri\"]},\"application/x-netcdf\":{source:\"apache\",extensions:[\"nc\",\"cdf\"]},\"application/x-ns-proxy-autoconfig\":{compressible:!0,extensions:[\"pac\"]},\"application/x-nzb\":{source:\"apache\",extensions:[\"nzb\"]},\"application/x-perl\":{source:\"nginx\",extensions:[\"pl\",\"pm\"]},\"application/x-pilot\":{source:\"nginx\",extensions:[\"prc\",\"pdb\"]},\"application/x-pkcs12\":{source:\"apache\",compressible:!1,extensions:[\"p12\",\"pfx\"]},\"application/x-pkcs7-certificates\":{source:\"apache\",extensions:[\"p7b\",\"spc\"]},\"application/x-pkcs7-certreqresp\":{source:\"apache\",extensions:[\"p7r\"]},\"application/x-rar-compressed\":{source:\"apache\",compressible:!1,extensions:[\"rar\"]},\"application/x-redhat-package-manager\":{source:\"nginx\",extensions:[\"rpm\"]},\"application/x-research-info-systems\":{source:\"apache\",extensions:[\"ris\"]},\"application/x-sea\":{source:\"nginx\",extensions:[\"sea\"]},\"application/x-sh\":{source:\"apache\",compressible:!0,extensions:[\"sh\"]},\"application/x-shar\":{source:\"apache\",extensions:[\"shar\"]},\"application/x-shockwave-flash\":{source:\"apache\",compressible:!1,extensions:[\"swf\"]},\"application/x-silverlight-app\":{source:\"apache\",extensions:[\"xap\"]},\"application/x-sql\":{source:\"apache\",extensions:[\"sql\"]},\"application/x-stuffit\":{source:\"apache\",compressible:!1,extensions:[\"sit\"]},\"application/x-stuffitx\":{source:\"apache\",extensions:[\"sitx\"]},\"application/x-subrip\":{source:\"apache\",extensions:[\"srt\"]},\"application/x-sv4cpio\":{source:\"apache\",extensions:[\"sv4cpio\"]},\"application/x-sv4crc\":{source:\"apache\",extensions:[\"sv4crc\"]},\"application/x-t3vm-image\":{source:\"apache\",extensions:[\"t3\"]},\"application/x-tads\":{source:\"apache\",extensions:[\"gam\"]},\"application/x-tar\":{source:\"apache\",compressible:!0,extensions:[\"tar\"]},\"application/x-tcl\":{source:\"apache\",extensions:[\"tcl\",\"tk\"]},\"application/x-tex\":{source:\"apache\",extensions:[\"tex\"]},\"application/x-tex-tfm\":{source:\"apache\",extensions:[\"tfm\"]},\"application/x-texinfo\":{source:\"apache\",extensions:[\"texinfo\",\"texi\"]},\"application/x-tgif\":{source:\"apache\",extensions:[\"obj\"]},\"application/x-ustar\":{source:\"apache\",extensions:[\"ustar\"]},\"application/x-virtualbox-hdd\":{compressible:!0,extensions:[\"hdd\"]},\"application/x-virtualbox-ova\":{compressible:!0,extensions:[\"ova\"]},\"application/x-virtualbox-ovf\":{compressible:!0,extensions:[\"ovf\"]},\"application/x-virtualbox-vbox\":{compressible:!0,extensions:[\"vbox\"]},\"application/x-virtualbox-vbox-extpack\":{compressible:!1,extensions:[\"vbox-extpack\"]},\"application/x-virtualbox-vdi\":{compressible:!0,extensions:[\"vdi\"]},\"application/x-virtualbox-vhd\":{compressible:!0,extensions:[\"vhd\"]},\"application/x-virtualbox-vmdk\":{compressible:!0,extensions:[\"vmdk\"]},\"application/x-wais-source\":{source:\"apache\",extensions:[\"src\"]},\"application/x-web-app-manifest+json\":{compressible:!0,extensions:[\"webapp\"]},\"application/x-www-form-urlencoded\":{source:\"iana\",compressible:!0},\"application/x-x509-ca-cert\":{source:\"apache\",extensions:[\"der\",\"crt\",\"pem\"]},\"application/x-xfig\":{source:\"apache\",extensions:[\"fig\"]},\"application/x-xliff+xml\":{source:\"apache\",compressible:!0,extensions:[\"xlf\"]},\"application/x-xpinstall\":{source:\"apache\",compressible:!1,extensions:[\"xpi\"]},\"application/x-xz\":{source:\"apache\",extensions:[\"xz\"]},\"application/x-zmachine\":{source:\"apache\",extensions:[\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"]},\"application/x400-bp\":{source:\"iana\"},\"application/xacml+xml\":{source:\"iana\",compressible:!0},\"application/xaml+xml\":{source:\"apache\",compressible:!0,extensions:[\"xaml\"]},\"application/xcap-att+xml\":{source:\"iana\",compressible:!0},\"application/xcap-caps+xml\":{source:\"iana\",compressible:!0},\"application/xcap-diff+xml\":{source:\"iana\",compressible:!0,extensions:[\"xdf\"]},\"application/xcap-el+xml\":{source:\"iana\",compressible:!0},\"application/xcap-error+xml\":{source:\"iana\",compressible:!0},\"application/xcap-ns+xml\":{source:\"iana\",compressible:!0},\"application/xcon-conference-info+xml\":{source:\"iana\",compressible:!0},\"application/xcon-conference-info-diff+xml\":{source:\"iana\",compressible:!0},\"application/xenc+xml\":{source:\"iana\",compressible:!0,extensions:[\"xenc\"]},\"application/xhtml+xml\":{source:\"iana\",compressible:!0,extensions:[\"xhtml\",\"xht\"]},\"application/xhtml-voice+xml\":{source:\"apache\",compressible:!0},\"application/xliff+xml\":{source:\"iana\",compressible:!0},\"application/xml\":{source:\"iana\",compressible:!0,extensions:[\"xml\",\"xsl\",\"xsd\",\"rng\"]},\"application/xml-dtd\":{source:\"iana\",compressible:!0,extensions:[\"dtd\"]},\"application/xml-external-parsed-entity\":{source:\"iana\"},\"application/xml-patch+xml\":{source:\"iana\",compressible:!0},\"application/xmpp+xml\":{source:\"iana\",compressible:!0},\"application/xop+xml\":{source:\"iana\",compressible:!0,extensions:[\"xop\"]},\"application/xproc+xml\":{source:\"apache\",compressible:!0,extensions:[\"xpl\"]},\"application/xslt+xml\":{source:\"iana\",compressible:!0,extensions:[\"xslt\"]},\"application/xspf+xml\":{source:\"apache\",compressible:!0,extensions:[\"xspf\"]},\"application/xv+xml\":{source:\"iana\",compressible:!0,extensions:[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"]},\"application/yang\":{source:\"iana\",extensions:[\"yang\"]},\"application/yang-data+json\":{source:\"iana\",compressible:!0},\"application/yang-data+xml\":{source:\"iana\",compressible:!0},\"application/yang-patch+json\":{source:\"iana\",compressible:!0},\"application/yang-patch+xml\":{source:\"iana\",compressible:!0},\"application/yin+xml\":{source:\"iana\",compressible:!0,extensions:[\"yin\"]},\"application/zip\":{source:\"iana\",compressible:!1,extensions:[\"zip\"]},\"application/zlib\":{source:\"iana\"},\"application/zstd\":{source:\"iana\"},\"audio/1d-interleaved-parityfec\":{source:\"iana\"},\"audio/32kadpcm\":{source:\"iana\"},\"audio/3gpp\":{source:\"iana\",compressible:!1,extensions:[\"3gpp\"]},\"audio/3gpp2\":{source:\"iana\"},\"audio/aac\":{source:\"iana\"},\"audio/ac3\":{source:\"iana\"},\"audio/adpcm\":{source:\"apache\",extensions:[\"adp\"]},\"audio/amr\":{source:\"iana\"},\"audio/amr-wb\":{source:\"iana\"},\"audio/amr-wb+\":{source:\"iana\"},\"audio/aptx\":{source:\"iana\"},\"audio/asc\":{source:\"iana\"},\"audio/atrac-advanced-lossless\":{source:\"iana\"},\"audio/atrac-x\":{source:\"iana\"},\"audio/atrac3\":{source:\"iana\"},\"audio/basic\":{source:\"iana\",compressible:!1,extensions:[\"au\",\"snd\"]},\"audio/bv16\":{source:\"iana\"},\"audio/bv32\":{source:\"iana\"},\"audio/clearmode\":{source:\"iana\"},\"audio/cn\":{source:\"iana\"},\"audio/dat12\":{source:\"iana\"},\"audio/dls\":{source:\"iana\"},\"audio/dsr-es201108\":{source:\"iana\"},\"audio/dsr-es202050\":{source:\"iana\"},\"audio/dsr-es202211\":{source:\"iana\"},\"audio/dsr-es202212\":{source:\"iana\"},\"audio/dv\":{source:\"iana\"},\"audio/dvi4\":{source:\"iana\"},\"audio/eac3\":{source:\"iana\"},\"audio/encaprtp\":{source:\"iana\"},\"audio/evrc\":{source:\"iana\"},\"audio/evrc-qcp\":{source:\"iana\"},\"audio/evrc0\":{source:\"iana\"},\"audio/evrc1\":{source:\"iana\"},\"audio/evrcb\":{source:\"iana\"},\"audio/evrcb0\":{source:\"iana\"},\"audio/evrcb1\":{source:\"iana\"},\"audio/evrcnw\":{source:\"iana\"},\"audio/evrcnw0\":{source:\"iana\"},\"audio/evrcnw1\":{source:\"iana\"},\"audio/evrcwb\":{source:\"iana\"},\"audio/evrcwb0\":{source:\"iana\"},\"audio/evrcwb1\":{source:\"iana\"},\"audio/evs\":{source:\"iana\"},\"audio/fwdred\":{source:\"iana\"},\"audio/g711-0\":{source:\"iana\"},\"audio/g719\":{source:\"iana\"},\"audio/g722\":{source:\"iana\"},\"audio/g7221\":{source:\"iana\"},\"audio/g723\":{source:\"iana\"},\"audio/g726-16\":{source:\"iana\"},\"audio/g726-24\":{source:\"iana\"},\"audio/g726-32\":{source:\"iana\"},\"audio/g726-40\":{source:\"iana\"},\"audio/g728\":{source:\"iana\"},\"audio/g729\":{source:\"iana\"},\"audio/g7291\":{source:\"iana\"},\"audio/g729d\":{source:\"iana\"},\"audio/g729e\":{source:\"iana\"},\"audio/gsm\":{source:\"iana\"},\"audio/gsm-efr\":{source:\"iana\"},\"audio/gsm-hr-08\":{source:\"iana\"},\"audio/ilbc\":{source:\"iana\"},\"audio/ip-mr_v2.5\":{source:\"iana\"},\"audio/isac\":{source:\"apache\"},\"audio/l16\":{source:\"iana\"},\"audio/l20\":{source:\"iana\"},\"audio/l24\":{source:\"iana\",compressible:!1},\"audio/l8\":{source:\"iana\"},\"audio/lpc\":{source:\"iana\"},\"audio/melp\":{source:\"iana\"},\"audio/melp1200\":{source:\"iana\"},\"audio/melp2400\":{source:\"iana\"},\"audio/melp600\":{source:\"iana\"},\"audio/midi\":{source:\"apache\",extensions:[\"mid\",\"midi\",\"kar\",\"rmi\"]},\"audio/mobile-xmf\":{source:\"iana\"},\"audio/mp3\":{compressible:!1,extensions:[\"mp3\"]},\"audio/mp4\":{source:\"iana\",compressible:!1,extensions:[\"m4a\",\"mp4a\"]},\"audio/mp4a-latm\":{source:\"iana\"},\"audio/mpa\":{source:\"iana\"},\"audio/mpa-robust\":{source:\"iana\"},\"audio/mpeg\":{source:\"iana\",compressible:!1,extensions:[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"]},\"audio/mpeg4-generic\":{source:\"iana\"},\"audio/musepack\":{source:\"apache\"},\"audio/ogg\":{source:\"iana\",compressible:!1,extensions:[\"oga\",\"ogg\",\"spx\"]},\"audio/opus\":{source:\"iana\"},\"audio/parityfec\":{source:\"iana\"},\"audio/pcma\":{source:\"iana\"},\"audio/pcma-wb\":{source:\"iana\"},\"audio/pcmu\":{source:\"iana\"},\"audio/pcmu-wb\":{source:\"iana\"},\"audio/prs.sid\":{source:\"iana\"},\"audio/qcelp\":{source:\"iana\"},\"audio/raptorfec\":{source:\"iana\"},\"audio/red\":{source:\"iana\"},\"audio/rtp-enc-aescm128\":{source:\"iana\"},\"audio/rtp-midi\":{source:\"iana\"},\"audio/rtploopback\":{source:\"iana\"},\"audio/rtx\":{source:\"iana\"},\"audio/s3m\":{source:\"apache\",extensions:[\"s3m\"]},\"audio/silk\":{source:\"apache\",extensions:[\"sil\"]},\"audio/smv\":{source:\"iana\"},\"audio/smv-qcp\":{source:\"iana\"},\"audio/smv0\":{source:\"iana\"},\"audio/sp-midi\":{source:\"iana\"},\"audio/speex\":{source:\"iana\"},\"audio/t140c\":{source:\"iana\"},\"audio/t38\":{source:\"iana\"},\"audio/telephone-event\":{source:\"iana\"},\"audio/tone\":{source:\"iana\"},\"audio/uemclip\":{source:\"iana\"},\"audio/ulpfec\":{source:\"iana\"},\"audio/usac\":{source:\"iana\"},\"audio/vdvi\":{source:\"iana\"},\"audio/vmr-wb\":{source:\"iana\"},\"audio/vnd.3gpp.iufp\":{source:\"iana\"},\"audio/vnd.4sb\":{source:\"iana\"},\"audio/vnd.audiokoz\":{source:\"iana\"},\"audio/vnd.celp\":{source:\"iana\"},\"audio/vnd.cisco.nse\":{source:\"iana\"},\"audio/vnd.cmles.radio-events\":{source:\"iana\"},\"audio/vnd.cns.anp1\":{source:\"iana\"},\"audio/vnd.cns.inf1\":{source:\"iana\"},\"audio/vnd.dece.audio\":{source:\"iana\",extensions:[\"uva\",\"uvva\"]},\"audio/vnd.digital-winds\":{source:\"iana\",extensions:[\"eol\"]},\"audio/vnd.dlna.adts\":{source:\"iana\"},\"audio/vnd.dolby.heaac.1\":{source:\"iana\"},\"audio/vnd.dolby.heaac.2\":{source:\"iana\"},\"audio/vnd.dolby.mlp\":{source:\"iana\"},\"audio/vnd.dolby.mps\":{source:\"iana\"},\"audio/vnd.dolby.pl2\":{source:\"iana\"},\"audio/vnd.dolby.pl2x\":{source:\"iana\"},\"audio/vnd.dolby.pl2z\":{source:\"iana\"},\"audio/vnd.dolby.pulse.1\":{source:\"iana\"},\"audio/vnd.dra\":{source:\"iana\",extensions:[\"dra\"]},\"audio/vnd.dts\":{source:\"iana\",extensions:[\"dts\"]},\"audio/vnd.dts.hd\":{source:\"iana\",extensions:[\"dtshd\"]},\"audio/vnd.dvb.file\":{source:\"iana\"},\"audio/vnd.everad.plj\":{source:\"iana\"},\"audio/vnd.hns.audio\":{source:\"iana\"},\"audio/vnd.lucent.voice\":{source:\"iana\",extensions:[\"lvp\"]},\"audio/vnd.ms-playready.media.pya\":{source:\"iana\",extensions:[\"pya\"]},\"audio/vnd.nokia.mobile-xmf\":{source:\"iana\"},\"audio/vnd.nortel.vbk\":{source:\"iana\"},\"audio/vnd.nuera.ecelp4800\":{source:\"iana\",extensions:[\"ecelp4800\"]},\"audio/vnd.nuera.ecelp7470\":{source:\"iana\",extensions:[\"ecelp7470\"]},\"audio/vnd.nuera.ecelp9600\":{source:\"iana\",extensions:[\"ecelp9600\"]},\"audio/vnd.octel.sbc\":{source:\"iana\"},\"audio/vnd.presonus.multitrack\":{source:\"iana\"},\"audio/vnd.qcelp\":{source:\"iana\"},\"audio/vnd.rhetorex.32kadpcm\":{source:\"iana\"},\"audio/vnd.rip\":{source:\"iana\",extensions:[\"rip\"]},\"audio/vnd.rn-realaudio\":{compressible:!1},\"audio/vnd.sealedmedia.softseal.mpeg\":{source:\"iana\"},\"audio/vnd.vmx.cvsd\":{source:\"iana\"},\"audio/vnd.wave\":{compressible:!1},\"audio/vorbis\":{source:\"iana\",compressible:!1},\"audio/vorbis-config\":{source:\"iana\"},\"audio/wav\":{compressible:!1,extensions:[\"wav\"]},\"audio/wave\":{compressible:!1,extensions:[\"wav\"]},\"audio/webm\":{source:\"apache\",compressible:!1,extensions:[\"weba\"]},\"audio/x-aac\":{source:\"apache\",compressible:!1,extensions:[\"aac\"]},\"audio/x-aiff\":{source:\"apache\",extensions:[\"aif\",\"aiff\",\"aifc\"]},\"audio/x-caf\":{source:\"apache\",compressible:!1,extensions:[\"caf\"]},\"audio/x-flac\":{source:\"apache\",extensions:[\"flac\"]},\"audio/x-m4a\":{source:\"nginx\",extensions:[\"m4a\"]},\"audio/x-matroska\":{source:\"apache\",extensions:[\"mka\"]},\"audio/x-mpegurl\":{source:\"apache\",extensions:[\"m3u\"]},\"audio/x-ms-wax\":{source:\"apache\",extensions:[\"wax\"]},\"audio/x-ms-wma\":{source:\"apache\",extensions:[\"wma\"]},\"audio/x-pn-realaudio\":{source:\"apache\",extensions:[\"ram\",\"ra\"]},\"audio/x-pn-realaudio-plugin\":{source:\"apache\",extensions:[\"rmp\"]},\"audio/x-realaudio\":{source:\"nginx\",extensions:[\"ra\"]},\"audio/x-tta\":{source:\"apache\"},\"audio/x-wav\":{source:\"apache\",extensions:[\"wav\"]},\"audio/xm\":{source:\"apache\",extensions:[\"xm\"]},\"chemical/x-cdx\":{source:\"apache\",extensions:[\"cdx\"]},\"chemical/x-cif\":{source:\"apache\",extensions:[\"cif\"]},\"chemical/x-cmdf\":{source:\"apache\",extensions:[\"cmdf\"]},\"chemical/x-cml\":{source:\"apache\",extensions:[\"cml\"]},\"chemical/x-csml\":{source:\"apache\",extensions:[\"csml\"]},\"chemical/x-pdb\":{source:\"apache\"},\"chemical/x-xyz\":{source:\"apache\",extensions:[\"xyz\"]},\"font/collection\":{source:\"iana\",extensions:[\"ttc\"]},\"font/otf\":{source:\"iana\",compressible:!0,extensions:[\"otf\"]},\"font/sfnt\":{source:\"iana\"},\"font/ttf\":{source:\"iana\",extensions:[\"ttf\"]},\"font/woff\":{source:\"iana\",extensions:[\"woff\"]},\"font/woff2\":{source:\"iana\",extensions:[\"woff2\"]},\"image/aces\":{source:\"iana\",extensions:[\"exr\"]},\"image/apng\":{compressible:!1,extensions:[\"apng\"]},\"image/avci\":{source:\"iana\"},\"image/avcs\":{source:\"iana\"},\"image/bmp\":{source:\"iana\",compressible:!0,extensions:[\"bmp\"]},\"image/cgm\":{source:\"iana\",extensions:[\"cgm\"]},\"image/dicom-rle\":{source:\"iana\",extensions:[\"drle\"]},\"image/emf\":{source:\"iana\",extensions:[\"emf\"]},\"image/fits\":{source:\"iana\",extensions:[\"fits\"]},\"image/g3fax\":{source:\"iana\",extensions:[\"g3\"]},\"image/gif\":{source:\"iana\",compressible:!1,extensions:[\"gif\"]},\"image/heic\":{source:\"iana\",extensions:[\"heic\"]},\"image/heic-sequence\":{source:\"iana\",extensions:[\"heics\"]},\"image/heif\":{source:\"iana\",extensions:[\"heif\"]},\"image/heif-sequence\":{source:\"iana\",extensions:[\"heifs\"]},\"image/ief\":{source:\"iana\",extensions:[\"ief\"]},\"image/jls\":{source:\"iana\",extensions:[\"jls\"]},\"image/jp2\":{source:\"iana\",compressible:!1,extensions:[\"jp2\",\"jpg2\"]},\"image/jpeg\":{source:\"iana\",compressible:!1,extensions:[\"jpeg\",\"jpg\",\"jpe\"]},\"image/jpm\":{source:\"iana\",compressible:!1,extensions:[\"jpm\"]},\"image/jpx\":{source:\"iana\",compressible:!1,extensions:[\"jpx\",\"jpf\"]},\"image/ktx\":{source:\"iana\",extensions:[\"ktx\"]},\"image/naplps\":{source:\"iana\"},\"image/pjpeg\":{compressible:!1},\"image/png\":{source:\"iana\",compressible:!1,extensions:[\"png\"]},\"image/prs.btif\":{source:\"iana\",extensions:[\"btif\"]},\"image/prs.pti\":{source:\"iana\",extensions:[\"pti\"]},\"image/pwg-raster\":{source:\"iana\"},\"image/sgi\":{source:\"apache\",extensions:[\"sgi\"]},\"image/svg+xml\":{source:\"iana\",compressible:!0,extensions:[\"svg\",\"svgz\"]},\"image/t38\":{source:\"iana\",extensions:[\"t38\"]},\"image/tiff\":{source:\"iana\",compressible:!1,extensions:[\"tif\",\"tiff\"]},\"image/tiff-fx\":{source:\"iana\",extensions:[\"tfx\"]},\"image/vnd.adobe.photoshop\":{source:\"iana\",compressible:!0,extensions:[\"psd\"]},\"image/vnd.airzip.accelerator.azv\":{source:\"iana\",extensions:[\"azv\"]},\"image/vnd.cns.inf2\":{source:\"iana\"},\"image/vnd.dece.graphic\":{source:\"iana\",extensions:[\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"]},\"image/vnd.djvu\":{source:\"iana\",extensions:[\"djvu\",\"djv\"]},\"image/vnd.dvb.subtitle\":{source:\"iana\",extensions:[\"sub\"]},\"image/vnd.dwg\":{source:\"iana\",extensions:[\"dwg\"]},\"image/vnd.dxf\":{source:\"iana\",extensions:[\"dxf\"]},\"image/vnd.fastbidsheet\":{source:\"iana\",extensions:[\"fbs\"]},\"image/vnd.fpx\":{source:\"iana\",extensions:[\"fpx\"]},\"image/vnd.fst\":{source:\"iana\",extensions:[\"fst\"]},\"image/vnd.fujixerox.edmics-mmr\":{source:\"iana\",extensions:[\"mmr\"]},\"image/vnd.fujixerox.edmics-rlc\":{source:\"iana\",extensions:[\"rlc\"]},\"image/vnd.globalgraphics.pgb\":{source:\"iana\"},\"image/vnd.microsoft.icon\":{source:\"iana\",extensions:[\"ico\"]},\"image/vnd.mix\":{source:\"iana\"},\"image/vnd.mozilla.apng\":{source:\"iana\"},\"image/vnd.ms-modi\":{source:\"iana\",extensions:[\"mdi\"]},\"image/vnd.ms-photo\":{source:\"apache\",extensions:[\"wdp\"]},\"image/vnd.net-fpx\":{source:\"iana\",extensions:[\"npx\"]},\"image/vnd.radiance\":{source:\"iana\"},\"image/vnd.sealed.png\":{source:\"iana\"},\"image/vnd.sealedmedia.softseal.gif\":{source:\"iana\"},\"image/vnd.sealedmedia.softseal.jpg\":{source:\"iana\"},\"image/vnd.svf\":{source:\"iana\"},\"image/vnd.tencent.tap\":{source:\"iana\",extensions:[\"tap\"]},\"image/vnd.valve.source.texture\":{source:\"iana\",extensions:[\"vtf\"]},\"image/vnd.wap.wbmp\":{source:\"iana\",extensions:[\"wbmp\"]},\"image/vnd.xiff\":{source:\"iana\",extensions:[\"xif\"]},\"image/vnd.zbrush.pcx\":{source:\"iana\",extensions:[\"pcx\"]},\"image/webp\":{source:\"apache\",extensions:[\"webp\"]},\"image/wmf\":{source:\"iana\",extensions:[\"wmf\"]},\"image/x-3ds\":{source:\"apache\",extensions:[\"3ds\"]},\"image/x-cmu-raster\":{source:\"apache\",extensions:[\"ras\"]},\"image/x-cmx\":{source:\"apache\",extensions:[\"cmx\"]},\"image/x-freehand\":{source:\"apache\",extensions:[\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"]},\"image/x-icon\":{source:\"apache\",compressible:!0,extensions:[\"ico\"]},\"image/x-jng\":{source:\"nginx\",extensions:[\"jng\"]},\"image/x-mrsid-image\":{source:\"apache\",extensions:[\"sid\"]},\"image/x-ms-bmp\":{source:\"nginx\",compressible:!0,extensions:[\"bmp\"]},\"image/x-pcx\":{source:\"apache\",extensions:[\"pcx\"]},\"image/x-pict\":{source:\"apache\",extensions:[\"pic\",\"pct\"]},\"image/x-portable-anymap\":{source:\"apache\",extensions:[\"pnm\"]},\"image/x-portable-bitmap\":{source:\"apache\",extensions:[\"pbm\"]},\"image/x-portable-graymap\":{source:\"apache\",extensions:[\"pgm\"]},\"image/x-portable-pixmap\":{source:\"apache\",extensions:[\"ppm\"]},\"image/x-rgb\":{source:\"apache\",extensions:[\"rgb\"]},\"image/x-tga\":{source:\"apache\",extensions:[\"tga\"]},\"image/x-xbitmap\":{source:\"apache\",extensions:[\"xbm\"]},\"image/x-xcf\":{compressible:!1},\"image/x-xpixmap\":{source:\"apache\",extensions:[\"xpm\"]},\"image/x-xwindowdump\":{source:\"apache\",extensions:[\"xwd\"]},\"message/cpim\":{source:\"iana\"},\"message/delivery-status\":{source:\"iana\"},\"message/disposition-notification\":{source:\"iana\",extensions:[\"disposition-notification\"]},\"message/external-body\":{source:\"iana\"},\"message/feedback-report\":{source:\"iana\"},\"message/global\":{source:\"iana\",extensions:[\"u8msg\"]},\"message/global-delivery-status\":{source:\"iana\",extensions:[\"u8dsn\"]},\"message/global-disposition-notification\":{source:\"iana\",extensions:[\"u8mdn\"]},\"message/global-headers\":{source:\"iana\",extensions:[\"u8hdr\"]},\"message/http\":{source:\"iana\",compressible:!1},\"message/imdn+xml\":{source:\"iana\",compressible:!0},\"message/news\":{source:\"iana\"},\"message/partial\":{source:\"iana\",compressible:!1},\"message/rfc822\":{source:\"iana\",compressible:!0,extensions:[\"eml\",\"mime\"]},\"message/s-http\":{source:\"iana\"},\"message/sip\":{source:\"iana\"},\"message/sipfrag\":{source:\"iana\"},\"message/tracking-status\":{source:\"iana\"},\"message/vnd.si.simp\":{source:\"iana\"},\"message/vnd.wfa.wsc\":{source:\"iana\",extensions:[\"wsc\"]},\"model/3mf\":{source:\"iana\"},\"model/gltf+json\":{source:\"iana\",compressible:!0,extensions:[\"gltf\"]},\"model/gltf-binary\":{source:\"iana\",compressible:!0,extensions:[\"glb\"]},\"model/iges\":{source:\"iana\",compressible:!1,extensions:[\"igs\",\"iges\"]},\"model/mesh\":{source:\"iana\",compressible:!1,extensions:[\"msh\",\"mesh\",\"silo\"]},\"model/stl\":{source:\"iana\"},\"model/vnd.collada+xml\":{source:\"iana\",compressible:!0,extensions:[\"dae\"]},\"model/vnd.dwf\":{source:\"iana\",extensions:[\"dwf\"]},\"model/vnd.flatland.3dml\":{source:\"iana\"},\"model/vnd.gdl\":{source:\"iana\",extensions:[\"gdl\"]},\"model/vnd.gs-gdl\":{source:\"apache\"},\"model/vnd.gs.gdl\":{source:\"iana\"},\"model/vnd.gtw\":{source:\"iana\",extensions:[\"gtw\"]},\"model/vnd.moml+xml\":{source:\"iana\",compressible:!0},\"model/vnd.mts\":{source:\"iana\",extensions:[\"mts\"]},\"model/vnd.opengex\":{source:\"iana\"},\"model/vnd.parasolid.transmit.binary\":{source:\"iana\"},\"model/vnd.parasolid.transmit.text\":{source:\"iana\"},\"model/vnd.rosette.annotated-data-model\":{source:\"iana\"},\"model/vnd.usdz+zip\":{source:\"iana\",compressible:!1},\"model/vnd.valve.source.compiled-map\":{source:\"iana\"},\"model/vnd.vtu\":{source:\"iana\",extensions:[\"vtu\"]},\"model/vrml\":{source:\"iana\",compressible:!1,extensions:[\"wrl\",\"vrml\"]},\"model/x3d+binary\":{source:\"apache\",compressible:!1,extensions:[\"x3db\",\"x3dbz\"]},\"model/x3d+fastinfoset\":{source:\"iana\"},\"model/x3d+vrml\":{source:\"apache\",compressible:!1,extensions:[\"x3dv\",\"x3dvz\"]},\"model/x3d+xml\":{source:\"iana\",compressible:!0,extensions:[\"x3d\",\"x3dz\"]},\"model/x3d-vrml\":{source:\"iana\"},\"multipart/alternative\":{source:\"iana\",compressible:!1},\"multipart/appledouble\":{source:\"iana\"},\"multipart/byteranges\":{source:\"iana\"},\"multipart/digest\":{source:\"iana\"},\"multipart/encrypted\":{source:\"iana\",compressible:!1},\"multipart/form-data\":{source:\"iana\",compressible:!1},\"multipart/header-set\":{source:\"iana\"},\"multipart/mixed\":{source:\"iana\",compressible:!1},\"multipart/multilingual\":{source:\"iana\"},\"multipart/parallel\":{source:\"iana\"},\"multipart/related\":{source:\"iana\",compressible:!1},\"multipart/report\":{source:\"iana\"},\"multipart/signed\":{source:\"iana\",compressible:!1},\"multipart/vnd.bint.med-plus\":{source:\"iana\"},\"multipart/voice-message\":{source:\"iana\"},\"multipart/x-mixed-replace\":{source:\"iana\"},\"text/1d-interleaved-parityfec\":{source:\"iana\"},\"text/cache-manifest\":{source:\"iana\",compressible:!0,extensions:[\"appcache\",\"manifest\"]},\"text/calendar\":{source:\"iana\",extensions:[\"ics\",\"ifb\"]},\"text/calender\":{compressible:!0},\"text/cmd\":{compressible:!0},\"text/coffeescript\":{extensions:[\"coffee\",\"litcoffee\"]},\"text/css\":{source:\"iana\",charset:\"UTF-8\",compressible:!0,extensions:[\"css\"]},\"text/csv\":{source:\"iana\",compressible:!0,extensions:[\"csv\"]},\"text/csv-schema\":{source:\"iana\"},\"text/directory\":{source:\"iana\"},\"text/dns\":{source:\"iana\"},\"text/ecmascript\":{source:\"iana\"},\"text/encaprtp\":{source:\"iana\"},\"text/enriched\":{source:\"iana\"},\"text/fwdred\":{source:\"iana\"},\"text/grammar-ref-list\":{source:\"iana\"},\"text/html\":{source:\"iana\",compressible:!0,extensions:[\"html\",\"htm\",\"shtml\"]},\"text/jade\":{extensions:[\"jade\"]},\"text/javascript\":{source:\"iana\",compressible:!0},\"text/jcr-cnd\":{source:\"iana\"},\"text/jsx\":{compressible:!0,extensions:[\"jsx\"]},\"text/less\":{extensions:[\"less\"]},\"text/markdown\":{source:\"iana\",compressible:!0,extensions:[\"markdown\",\"md\"]},\"text/mathml\":{source:\"nginx\",extensions:[\"mml\"]},\"text/mizar\":{source:\"iana\"},\"text/n3\":{source:\"iana\",compressible:!0,extensions:[\"n3\"]},\"text/parameters\":{source:\"iana\"},\"text/parityfec\":{source:\"iana\"},\"text/plain\":{source:\"iana\",compressible:!0,extensions:[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"]},\"text/provenance-notation\":{source:\"iana\"},\"text/prs.fallenstein.rst\":{source:\"iana\"},\"text/prs.lines.tag\":{source:\"iana\",extensions:[\"dsc\"]},\"text/prs.prop.logic\":{source:\"iana\"},\"text/raptorfec\":{source:\"iana\"},\"text/red\":{source:\"iana\"},\"text/rfc822-headers\":{source:\"iana\"},\"text/richtext\":{source:\"iana\",compressible:!0,extensions:[\"rtx\"]},\"text/rtf\":{source:\"iana\",compressible:!0,extensions:[\"rtf\"]},\"text/rtp-enc-aescm128\":{source:\"iana\"},\"text/rtploopback\":{source:\"iana\"},\"text/rtx\":{source:\"iana\"},\"text/sgml\":{source:\"iana\",extensions:[\"sgml\",\"sgm\"]},\"text/shex\":{extensions:[\"shex\"]},\"text/slim\":{extensions:[\"slim\",\"slm\"]},\"text/strings\":{source:\"iana\"},\"text/stylus\":{extensions:[\"stylus\",\"styl\"]},\"text/t140\":{source:\"iana\"},\"text/tab-separated-values\":{source:\"iana\",compressible:!0,extensions:[\"tsv\"]},\"text/troff\":{source:\"iana\",extensions:[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"]},\"text/turtle\":{source:\"iana\",charset:\"UTF-8\",extensions:[\"ttl\"]},\"text/ulpfec\":{source:\"iana\"},\"text/uri-list\":{source:\"iana\",compressible:!0,extensions:[\"uri\",\"uris\",\"urls\"]},\"text/vcard\":{source:\"iana\",compressible:!0,extensions:[\"vcard\"]},\"text/vnd.a\":{source:\"iana\"},\"text/vnd.abc\":{source:\"iana\"},\"text/vnd.ascii-art\":{source:\"iana\"},\"text/vnd.curl\":{source:\"iana\",extensions:[\"curl\"]},\"text/vnd.curl.dcurl\":{source:\"apache\",extensions:[\"dcurl\"]},\"text/vnd.curl.mcurl\":{source:\"apache\",extensions:[\"mcurl\"]},\"text/vnd.curl.scurl\":{source:\"apache\",extensions:[\"scurl\"]},\"text/vnd.debian.copyright\":{source:\"iana\"},\"text/vnd.dmclientscript\":{source:\"iana\"},\"text/vnd.dvb.subtitle\":{source:\"iana\",extensions:[\"sub\"]},\"text/vnd.esmertec.theme-descriptor\":{source:\"iana\"},\"text/vnd.fly\":{source:\"iana\",extensions:[\"fly\"]},\"text/vnd.fmi.flexstor\":{source:\"iana\",extensions:[\"flx\"]},\"text/vnd.gml\":{source:\"iana\"},\"text/vnd.graphviz\":{source:\"iana\",extensions:[\"gv\"]},\"text/vnd.hgl\":{source:\"iana\"},\"text/vnd.in3d.3dml\":{source:\"iana\",extensions:[\"3dml\"]},\"text/vnd.in3d.spot\":{source:\"iana\",extensions:[\"spot\"]},\"text/vnd.iptc.newsml\":{source:\"iana\"},\"text/vnd.iptc.nitf\":{source:\"iana\"},\"text/vnd.latex-z\":{source:\"iana\"},\"text/vnd.motorola.reflex\":{source:\"iana\"},\"text/vnd.ms-mediapackage\":{source:\"iana\"},\"text/vnd.net2phone.commcenter.command\":{source:\"iana\"},\"text/vnd.radisys.msml-basic-layout\":{source:\"iana\"},\"text/vnd.si.uricatalogue\":{source:\"iana\"},\"text/vnd.sun.j2me.app-descriptor\":{source:\"iana\",extensions:[\"jad\"]},\"text/vnd.trolltech.linguist\":{source:\"iana\"},\"text/vnd.wap.si\":{source:\"iana\"},\"text/vnd.wap.sl\":{source:\"iana\"},\"text/vnd.wap.wml\":{source:\"iana\",extensions:[\"wml\"]},\"text/vnd.wap.wmlscript\":{source:\"iana\",extensions:[\"wmls\"]},\"text/vtt\":{charset:\"UTF-8\",compressible:!0,extensions:[\"vtt\"]},\"text/x-asm\":{source:\"apache\",extensions:[\"s\",\"asm\"]},\"text/x-c\":{source:\"apache\",extensions:[\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"]},\"text/x-component\":{source:\"nginx\",extensions:[\"htc\"]},\"text/x-fortran\":{source:\"apache\",extensions:[\"f\",\"for\",\"f77\",\"f90\"]},\"text/x-gwt-rpc\":{compressible:!0},\"text/x-handlebars-template\":{extensions:[\"hbs\"]},\"text/x-java-source\":{source:\"apache\",extensions:[\"java\"]},\"text/x-jquery-tmpl\":{compressible:!0},\"text/x-lua\":{extensions:[\"lua\"]},\"text/x-markdown\":{compressible:!0,extensions:[\"mkd\"]},\"text/x-nfo\":{source:\"apache\",extensions:[\"nfo\"]},\"text/x-opml\":{source:\"apache\",extensions:[\"opml\"]},\"text/x-org\":{compressible:!0,extensions:[\"org\"]},\"text/x-pascal\":{source:\"apache\",extensions:[\"p\",\"pas\"]},\"text/x-processing\":{compressible:!0,extensions:[\"pde\"]},\"text/x-sass\":{extensions:[\"sass\"]},\"text/x-scss\":{extensions:[\"scss\"]},\"text/x-setext\":{source:\"apache\",extensions:[\"etx\"]},\"text/x-sfv\":{source:\"apache\",extensions:[\"sfv\"]},\"text/x-suse-ymp\":{compressible:!0,extensions:[\"ymp\"]},\"text/x-uuencode\":{source:\"apache\",extensions:[\"uu\"]},\"text/x-vcalendar\":{source:\"apache\",extensions:[\"vcs\"]},\"text/x-vcard\":{source:\"apache\",extensions:[\"vcf\"]},\"text/xml\":{source:\"iana\",compressible:!0,extensions:[\"xml\"]},\"text/xml-external-parsed-entity\":{source:\"iana\"},\"text/yaml\":{extensions:[\"yaml\",\"yml\"]},\"video/1d-interleaved-parityfec\":{source:\"iana\"},\"video/3gpp\":{source:\"iana\",extensions:[\"3gp\",\"3gpp\"]},\"video/3gpp-tt\":{source:\"iana\"},\"video/3gpp2\":{source:\"iana\",extensions:[\"3g2\"]},\"video/bmpeg\":{source:\"iana\"},\"video/bt656\":{source:\"iana\"},\"video/celb\":{source:\"iana\"},\"video/dv\":{source:\"iana\"},\"video/encaprtp\":{source:\"iana\"},\"video/h261\":{source:\"iana\",extensions:[\"h261\"]},\"video/h263\":{source:\"iana\",extensions:[\"h263\"]},\"video/h263-1998\":{source:\"iana\"},\"video/h263-2000\":{source:\"iana\"},\"video/h264\":{source:\"iana\",extensions:[\"h264\"]},\"video/h264-rcdo\":{source:\"iana\"},\"video/h264-svc\":{source:\"iana\"},\"video/h265\":{source:\"iana\"},\"video/iso.segment\":{source:\"iana\"},\"video/jpeg\":{source:\"iana\",extensions:[\"jpgv\"]},\"video/jpeg2000\":{source:\"iana\"},\"video/jpm\":{source:\"apache\",extensions:[\"jpm\",\"jpgm\"]},\"video/mj2\":{source:\"iana\",extensions:[\"mj2\",\"mjp2\"]},\"video/mp1s\":{source:\"iana\"},\"video/mp2p\":{source:\"iana\"},\"video/mp2t\":{source:\"iana\",extensions:[\"ts\"]},\"video/mp4\":{source:\"iana\",compressible:!1,extensions:[\"mp4\",\"mp4v\",\"mpg4\"]},\"video/mp4v-es\":{source:\"iana\"},\"video/mpeg\":{source:\"iana\",compressible:!1,extensions:[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"]},\"video/mpeg4-generic\":{source:\"iana\"},\"video/mpv\":{source:\"iana\"},\"video/nv\":{source:\"iana\"},\"video/ogg\":{source:\"iana\",compressible:!1,extensions:[\"ogv\"]},\"video/parityfec\":{source:\"iana\"},\"video/pointer\":{source:\"iana\"},\"video/quicktime\":{source:\"iana\",compressible:!1,extensions:[\"qt\",\"mov\"]},\"video/raptorfec\":{source:\"iana\"},\"video/raw\":{source:\"iana\"},\"video/rtp-enc-aescm128\":{source:\"iana\"},\"video/rtploopback\":{source:\"iana\"},\"video/rtx\":{source:\"iana\"},\"video/smpte291\":{source:\"iana\"},\"video/smpte292m\":{source:\"iana\"},\"video/ulpfec\":{source:\"iana\"},\"video/vc1\":{source:\"iana\"},\"video/vc2\":{source:\"iana\"},\"video/vnd.cctv\":{source:\"iana\"},\"video/vnd.dece.hd\":{source:\"iana\",extensions:[\"uvh\",\"uvvh\"]},\"video/vnd.dece.mobile\":{source:\"iana\",extensions:[\"uvm\",\"uvvm\"]},\"video/vnd.dece.mp4\":{source:\"iana\"},\"video/vnd.dece.pd\":{source:\"iana\",extensions:[\"uvp\",\"uvvp\"]},\"video/vnd.dece.sd\":{source:\"iana\",extensions:[\"uvs\",\"uvvs\"]},\"video/vnd.dece.video\":{source:\"iana\",extensions:[\"uvv\",\"uvvv\"]},\"video/vnd.directv.mpeg\":{source:\"iana\"},\"video/vnd.directv.mpeg-tts\":{source:\"iana\"},\"video/vnd.dlna.mpeg-tts\":{source:\"iana\"},\"video/vnd.dvb.file\":{source:\"iana\",extensions:[\"dvb\"]},\"video/vnd.fvt\":{source:\"iana\",extensions:[\"fvt\"]},\"video/vnd.hns.video\":{source:\"iana\"},\"video/vnd.iptvforum.1dparityfec-1010\":{source:\"iana\"},\"video/vnd.iptvforum.1dparityfec-2005\":{source:\"iana\"},\"video/vnd.iptvforum.2dparityfec-1010\":{source:\"iana\"},\"video/vnd.iptvforum.2dparityfec-2005\":{source:\"iana\"},\"video/vnd.iptvforum.ttsavc\":{source:\"iana\"},\"video/vnd.iptvforum.ttsmpeg2\":{source:\"iana\"},\"video/vnd.motorola.video\":{source:\"iana\"},\"video/vnd.motorola.videop\":{source:\"iana\"},\"video/vnd.mpegurl\":{source:\"iana\",extensions:[\"mxu\",\"m4u\"]},\"video/vnd.ms-playready.media.pyv\":{source:\"iana\",extensions:[\"pyv\"]},\"video/vnd.nokia.interleaved-multimedia\":{source:\"iana\"},\"video/vnd.nokia.mp4vr\":{source:\"iana\"},\"video/vnd.nokia.videovoip\":{source:\"iana\"},\"video/vnd.objectvideo\":{source:\"iana\"},\"video/vnd.radgamettools.bink\":{source:\"iana\"},\"video/vnd.radgamettools.smacker\":{source:\"iana\"},\"video/vnd.sealed.mpeg1\":{source:\"iana\"},\"video/vnd.sealed.mpeg4\":{source:\"iana\"},\"video/vnd.sealed.swf\":{source:\"iana\"},\"video/vnd.sealedmedia.softseal.mov\":{source:\"iana\"},\"video/vnd.uvvu.mp4\":{source:\"iana\",extensions:[\"uvu\",\"uvvu\"]},\"video/vnd.vivo\":{source:\"iana\",extensions:[\"viv\"]},\"video/vp8\":{source:\"iana\"},\"video/webm\":{source:\"apache\",compressible:!1,extensions:[\"webm\"]},\"video/x-f4v\":{source:\"apache\",extensions:[\"f4v\"]},\"video/x-fli\":{source:\"apache\",extensions:[\"fli\"]},\"video/x-flv\":{source:\"apache\",compressible:!1,extensions:[\"flv\"]},\"video/x-m4v\":{source:\"apache\",extensions:[\"m4v\"]},\"video/x-matroska\":{source:\"apache\",compressible:!1,extensions:[\"mkv\",\"mk3d\",\"mks\"]},\"video/x-mng\":{source:\"apache\",extensions:[\"mng\"]},\"video/x-ms-asf\":{source:\"apache\",extensions:[\"asf\",\"asx\"]},\"video/x-ms-vob\":{source:\"apache\",extensions:[\"vob\"]},\"video/x-ms-wm\":{source:\"apache\",extensions:[\"wm\"]},\"video/x-ms-wmv\":{source:\"apache\",compressible:!1,extensions:[\"wmv\"]},\"video/x-ms-wmx\":{source:\"apache\",extensions:[\"wmx\"]},\"video/x-ms-wvx\":{source:\"apache\",extensions:[\"wvx\"]},\"video/x-msvideo\":{source:\"apache\",extensions:[\"avi\"]},\"video/x-sgi-movie\":{source:\"apache\",extensions:[\"movie\"]},\"video/x-smv\":{source:\"apache\",extensions:[\"smv\"]},\"x-conference/x-cooltalk\":{source:\"apache\",extensions:[\"ice\"]},\"x-shader/x-fragment\":{compressible:!0},\"x-shader/x-vertex\":{compressible:!0}}},function(e,t){\n/*!\n * media-typer\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\nvar n=/; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g,i=/^[\\u0020-\\u007e\\u0080-\\u00ff]+$/,r=/^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/,o=/\\\\([\\u0000-\\u007f])/g,s=/([\\\\\"])/g,a=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,c=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,l=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function p(e){var t=String(e);if(r.test(t))return t;if(t.length>0&&!i.test(t))throw new TypeError(\"invalid parameter value\");return'\"'+t.replace(s,\"\\\\$1\")+'\"'}t.format=function(e){if(!e||\"object\"!=typeof e)throw new TypeError(\"argument obj is required\");var t=e.parameters,n=e.subtype,i=e.suffix,o=e.type;if(!o||!c.test(o))throw new TypeError(\"invalid type\");if(!n||!a.test(n))throw new TypeError(\"invalid subtype\");var s=o+\"/\"+n;if(i){if(!c.test(i))throw new TypeError(\"invalid suffix\");s+=\"+\"+i}if(t&&\"object\"==typeof t)for(var l,u=Object.keys(t).sort(),d=0;d<u.length;d++){if(l=u[d],!r.test(l))throw new TypeError(\"invalid parameter name\");s+=\"; \"+l+\"=\"+p(t[l])}return s},t.parse=function(e){if(!e)throw new TypeError(\"argument string is required\");\"object\"==typeof e&&(e=function(e){if(\"function\"==typeof e.getHeader)return e.getHeader(\"content-type\");if(\"object\"==typeof e.headers)return e.headers&&e.headers[\"content-type\"]}(e));if(\"string\"!=typeof e)throw new TypeError(\"argument string is required to be a string\");var t,i,r,s=e.indexOf(\";\"),a=function(e){var t=l.exec(e.toLowerCase());if(!t)throw new TypeError(\"invalid media type\");var n,i=t[1],r=t[2],o=r.lastIndexOf(\"+\");-1!==o&&(n=r.substr(o+1),r=r.substr(0,o));return{type:i,subtype:r,suffix:n}}(-1!==s?e.substr(0,s):e),c={};n.lastIndex=s;for(;i=n.exec(e);){if(i.index!==s)throw new TypeError(\"invalid parameter format\");s+=i[0].length,t=i[1].toLowerCase(),'\"'===(r=i[2])[0]&&(r=r.substr(1,r.length-2).replace(o,\"$1\")),c[t]=r}if(-1!==s&&s!==e.length)throw new TypeError(\"invalid parameter format\");return a.parameters=c,a}},function(e,t,n){\"use strict\";\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(90),r=n(14)(\"express\"),o=n(29),s=n(30),a=n(19),c=n(17).isAbsolute,l=n(38),p=n(7),u=n(163),d=n(32),f=n(120).sign,m=n(17).normalizeType,h=n(17).normalizeTypes,v=n(17).setCharset,g=n(102),y=n(42),b=p.extname,x=y.mime,w=p.resolve,S=n(165),k=Object.create(a.ServerResponse.prototype);e.exports=k;var O=/;\\s*charset\\s*=/;function E(e,t,n,i){var r,o=!1;function s(){if(!o){o=!0;var e=new Error(\"Request aborted\");e.code=\"ECONNABORTED\",i(e)}}function a(e){o||(o=!0,i(e))}t.on(\"directory\",function(){if(!o){o=!0;var e=new Error(\"EISDIR, read\");e.code=\"EISDIR\",i(e)}}),t.on(\"end\",function(){o||(o=!0,i())}),t.on(\"error\",a),t.on(\"file\",function(){r=!1}),t.on(\"stream\",function(){r=!0}),l(e,function(e){return e&&\"ECONNRESET\"===e.code?s():e?a(e):void(o||setImmediate(function(){!1===r||o?o||(o=!0,i()):s()}))}),n.headers&&t.on(\"headers\",function(e){for(var t=n.headers,i=Object.keys(t),r=0;r<i.length;r++){var o=i[r];e.setHeader(o,t[o])}}),t.pipe(e)}function C(e,t,n){return t||n?JSON.stringify(e,t,n):JSON.stringify(e)}k.status=function(e){return this.statusCode=e,this},k.links=function(e){var t=this.get(\"Link\")||\"\";return t&&(t+=\", \"),this.set(\"Link\",t+Object.keys(e).map(function(t){return\"<\"+e[t]+'>; rel=\"'+t+'\"'}).join(\", \"))},k.send=function(e){var t,n,i,o,s=e,a=this.req,c=this.app;switch(2===arguments.length&&(\"number\"!=typeof arguments[0]&&\"number\"==typeof arguments[1]?(r(\"res.send(body, status): Use res.status(status).send(body) instead\"),this.statusCode=arguments[1]):(r(\"res.send(status, body): Use res.status(status).send(body) instead\"),this.statusCode=arguments[0],s=arguments[1])),\"number\"==typeof s&&1===arguments.length&&(this.get(\"Content-Type\")||this.type(\"txt\"),r(\"res.send(status): Use res.sendStatus(status) instead\"),this.statusCode=s,s=u[s]),typeof s){case\"string\":this.get(\"Content-Type\")||this.type(\"html\");break;case\"boolean\":case\"number\":case\"object\":if(null===s)s=\"\";else{if(!Buffer.isBuffer(s))return this.json(s);this.get(\"Content-Type\")||this.type(\"bin\")}}\"string\"==typeof s&&(t=\"utf8\",\"string\"==typeof(i=this.get(\"Content-Type\"))&&this.set(\"Content-Type\",v(i,\"utf-8\"))),void 0!==s&&(Buffer.isBuffer(s)||(s=new Buffer(s,t),t=void 0),n=s.length,this.set(\"Content-Length\",n));var l=void 0!==n&&c.get(\"etag fn\");return\"function\"!=typeof l||this.get(\"ETag\")||(o=l(s,t))&&this.set(\"ETag\",o),a.fresh&&(this.statusCode=304),204!==this.statusCode&&304!==this.statusCode||(this.removeHeader(\"Content-Type\"),this.removeHeader(\"Content-Length\"),this.removeHeader(\"Transfer-Encoding\"),s=\"\"),\"HEAD\"===a.method?this.end():this.end(s,t),this},k.json=function(e){var t=e;2===arguments.length&&(\"number\"==typeof arguments[1]?(r(\"res.json(obj, status): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[1]):(r(\"res.json(status, obj): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[0],t=arguments[1]));var n=this.app,i=C(t,n.get(\"json replacer\"),n.get(\"json spaces\"));return this.get(\"Content-Type\")||this.set(\"Content-Type\",\"application/json\"),this.send(i)},k.jsonp=function(e){var t=e;2===arguments.length&&(\"number\"==typeof arguments[1]?(r(\"res.jsonp(obj, status): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[1]):(r(\"res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead\"),this.statusCode=arguments[0],t=arguments[1]));var n=this.app,i=C(t,n.get(\"json replacer\"),n.get(\"json spaces\")),o=this.req.query[n.get(\"jsonp callback name\")];return this.get(\"Content-Type\")||(this.set(\"X-Content-Type-Options\",\"nosniff\"),this.set(\"Content-Type\",\"application/json\")),Array.isArray(o)&&(o=o[0]),\"string\"==typeof o&&0!==o.length&&(this.charset=\"utf-8\",this.set(\"X-Content-Type-Options\",\"nosniff\"),this.set(\"Content-Type\",\"text/javascript\"),i=\"/**/ typeof \"+(o=o.replace(/[^\\[\\]\\w$.]/g,\"\"))+\" === 'function' && \"+o+\"(\"+(i=i.replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\"))+\");\"),this.send(i)},k.sendStatus=function(e){var t=u[e]||String(e);return this.statusCode=e,this.type(\"txt\"),this.send(t)},k.sendFile=function(e,t,n){var i=n,r=this.req,o=r.next,s=t||{};if(!e)throw new TypeError(\"path argument is required to res.sendFile\");if(\"function\"==typeof t&&(i=t,s={}),!s.root&&!c(e))throw new TypeError(\"path must be absolute or specify root to res.sendFile\");var a=encodeURI(e);E(this,y(r,a,s),s,function(e){return i?i(e):e&&\"EISDIR\"===e.code?o():void(e&&\"ECONNABORTED\"!==e.code&&\"write\"!==e.syscall&&o(e))})},k.sendfile=function(e,t,n){var i=n,r=this.req,o=r.next,s=t||{};\"function\"==typeof t&&(i=t,s={}),E(this,y(r,e,s),s,function(e){return i?i(e):e&&\"EISDIR\"===e.code?o():void(e&&\"ECONNABORT\"!==e.code&&\"write\"!==e.syscall&&o(e))})},k.sendfile=r.function(k.sendfile,\"res.sendfile: Use res.sendFile instead\"),k.download=function(e,t,n){var r=n,o=t;\"function\"==typeof t&&(r=t,o=null);var s={\"Content-Disposition\":i(o||e)},a=w(e);return this.sendFile(a,{headers:s},r)},k.contentType=k.type=function(e){var t=-1===e.indexOf(\"/\")?x.lookup(e):e;return this.set(\"Content-Type\",t)},k.format=function(e){var t=this.req,n=t.next,i=e.default;i&&delete e.default;var r=Object.keys(e),o=r.length>0&&t.accepts(r);if(this.vary(\"Accept\"),o)this.set(\"Content-Type\",m(o).value),e[o](t,this,n);else if(i)i();else{var s=new Error(\"Not Acceptable\");s.status=s.statusCode=406,s.types=h(r).map(function(e){return e.value}),n(s)}return this},k.attachment=function(e){return e&&this.type(b(e)),this.set(\"Content-Disposition\",i(e)),this},k.append=function(e,t){var n=this.get(e),i=t;return n&&(i=Array.isArray(n)?n.concat(t):Array.isArray(t)?[n].concat(t):[n,t]),this.set(e,i)},k.set=k.header=function(e,t){if(2===arguments.length){var n=Array.isArray(t)?t.map(String):String(t);if(\"content-type\"===e.toLowerCase()){if(Array.isArray(n))throw new TypeError(\"Content-Type cannot be set to an Array\");if(!O.test(n)){var i=x.charsets.lookup(n.split(\";\")[0]);i&&(n+=\"; charset=\"+i.toLowerCase())}}this.setHeader(e,n)}else for(var r in e)this.set(r,e[r]);return this},k.get=function(e){return this.getHeader(e)},k.clearCookie=function(e,t){var n=d({expires:new Date(1),path:\"/\"},t);return this.cookie(e,\"\",n)},k.cookie=function(e,t,n){var i=d({},n),r=this.req.secret,o=i.signed;if(o&&!r)throw new Error('cookieParser(\"secret\") required for signed cookies');var s=\"object\"==typeof t?\"j:\"+JSON.stringify(t):String(t);return o&&(s=\"s:\"+f(s,r)),\"maxAge\"in i&&(i.expires=new Date(Date.now()+i.maxAge),i.maxAge/=1e3),null==i.path&&(i.path=\"/\"),this.append(\"Set-Cookie\",g.serialize(e,String(s),i)),this},k.location=function(e){var t=e;return\"back\"===e&&(t=this.req.get(\"Referrer\")||\"/\"),this.set(\"Location\",o(t))},k.redirect=function(e){var t,n=e,i=302;2===arguments.length&&(\"number\"==typeof arguments[0]?(i=arguments[0],n=arguments[1]):(r(\"res.redirect(url, status): Use res.redirect(status, url) instead\"),i=arguments[1])),n=this.location(n).get(\"Location\"),this.format({text:function(){t=u[i]+\". Redirecting to \"+n},html:function(){var e=s(n);t=\"<p>\"+u[i]+'. Redirecting to <a href=\"'+e+'\">'+e+\"</a></p>\"},default:function(){t=\"\"}}),this.statusCode=i,this.set(\"Content-Length\",Buffer.byteLength(t)),\"HEAD\"===this.req.method?this.end():this.end(t)},k.vary=function(e){return!e||Array.isArray(e)&&!e.length?(r(\"res.vary(): Provide a field name\"),this):(S(this,e),this)},k.render=function(e,t,n){var i=this.req.app,r=n,o=t||{},s=this.req,a=this;\"function\"==typeof t&&(r=t,o={}),o._locals=a.locals,r=r||function(e,t){if(e)return s.next(e);a.send(t)},i.render(e,o,r)}},function(e,t,n){\"use strict\";\n/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(164);function r(e){if(\"number\"==typeof e){if(!r[e])throw new Error(\"invalid status code: \"+e);return e}if(\"string\"!=typeof e)throw new TypeError(\"code must be a number or string\");var t=parseInt(e,10);if(!isNaN(t)){if(!r[t])throw new Error(\"invalid status code: \"+t);return t}if(!(t=r[e.toLowerCase()]))throw new Error('invalid status message: \"'+e+'\"');return t}e.exports=r,r.codes=function(e,t){var n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=Number(i);e[o]=r,e[r]=o,e[r.toLowerCase()]=o,n.push(o)}),n}(r,i),r.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},r.empty={204:!0,205:!0,304:!0},r.retry={502:!0,503:!0,504:!0}},function(e){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"(Unused)\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},function(e,t,n){\"use strict\";\n/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError(\"res argument is required\");var n=e.getHeader(\"Vary\")||\"\",i=Array.isArray(n)?n.join(\", \"):String(n);(n=r(i,t))&&e.setHeader(\"Vary\",n)},e.exports.append=r;var i=/^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;function r(e,t){if(\"string\"!=typeof e)throw new TypeError(\"header argument is required\");if(!t)throw new TypeError(\"field argument is required\");for(var n=Array.isArray(t)?t:o(String(t)),r=0;r<n.length;r++)if(!i.test(n[r]))throw new TypeError(\"field argument contains an invalid header name\");if(\"*\"===e)return e;var s=e,a=o(e.toLowerCase());if(-1!==n.indexOf(\"*\")||-1!==a.indexOf(\"*\"))return\"*\";for(var c=0;c<n.length;c++){var l=n[c].toLowerCase();-1===a.indexOf(l)&&(a.push(l),s=s?s+\", \"+n[c]:n[c])}return s}function o(e){for(var t=0,n=[],i=0,r=0,o=e.length;r<o;r++)switch(e.charCodeAt(r)){case 32:i===t&&(i=t=r+1);break;case 44:n.push(e.substring(i,t)),i=t=r+1;break;default:t=r+1}return n.push(e.substring(i,t)),n}},function(e,t,n){\"use strict\";\n/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */var i=n(29),r=n(30),o=n(22),s=n(7).resolve,a=n(42),c=n(33);e.exports=function(e,t){if(!e)throw new TypeError(\"root path required\");if(\"string\"!=typeof e)throw new TypeError(\"root path must be a string\");var n=Object.create(t||null),l=!1!==n.fallthrough,p=!1!==n.redirect,u=n.setHeaders;if(u&&\"function\"!=typeof u)throw new TypeError(\"option setHeaders must be function\");n.maxage=n.maxage||n.maxAge||0,n.root=s(e);var d=p?function(e){if(this.hasTrailingSlash())this.error(404);else{var t=o.original(this.req);t.path=null,t.pathname=function(e){for(var t=0;t<e.length&&47===e.charCodeAt(t);t++);return t>1?\"/\"+e.substr(t):e}(t.pathname+\"/\");var n=i(c.format(t)),s=function(e,t){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>'+e+\"</title>\\n</head>\\n<body>\\n<pre>\"+t+\"</pre>\\n</body>\\n\"}(\"Redirecting\",'Redirecting to <a href=\"'+r(n)+'\">'+r(n)+\"</a>\");e.statusCode=301,e.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),e.setHeader(\"Content-Length\",Buffer.byteLength(s)),e.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),e.setHeader(\"X-Content-Type-Options\",\"nosniff\"),e.setHeader(\"Location\",n),e.end(s)}}:function(){this.error(404)};return function(e,t,i){if(\"GET\"!==e.method&&\"HEAD\"!==e.method)return l?i():(t.statusCode=405,t.setHeader(\"Allow\",\"GET, HEAD\"),t.setHeader(\"Content-Length\",\"0\"),void t.end());var r=!l,s=o.original(e),c=o(e).pathname;\"/\"===c&&\"/\"!==s.pathname.substr(-1)&&(c=\"\");var p=a(e,c,n);p.on(\"directory\",d),u&&p.on(\"headers\",u),l&&p.on(\"file\",function(){r=!0}),p.on(\"error\",function(e){!r&&e.statusCode<500?i():i(e)}),p.pipe(t)}},e.exports.mime=a.mime},function(e,t,n){\"use strict\";e.exports=function(e,t,n,i){return new Promise((t,n)=>{if(e.finished||e.complete)return void t();let i=!1;function r(e){i||(i=!0,e?n(e):t())}e.once(\"end\",t=>{e.removeListener(\"finish\",r),r(t)}),e.once(\"finish\",t=>{e.removeListener(\"done\",r),r(t)})}).then(()=>{if(\"function\"==typeof i)return i(e,t,n);\"object\"==typeof i&&null!==i&&Object.assign(e,i)}).then(()=>e)}},function(e,t,n){\"use strict\";e.exports=function(e){if(\"function\"==typeof e.callback)return e.callback();if(\"function\"==typeof e.handle)return e.handle.bind(e);if(\"function\"==typeof e)return e;if(e.router&&\"function\"==typeof e.router.route)return(t,n)=>{const{url:i,method:r,headers:o,body:s}=t;e.router.route({url:i,method:r,headers:o,body:s},n)};if(e._core&&\"function\"==typeof e._core._dispatch)return e._core._dispatch({app:e});throw new Error(\"Unsupported framework\")}},function(e,t,n){\"use strict\";e.exports=function(e){const t=e||{};return t.httpMethod=t.httpMethod||\"GET\",t.path=t.path||\"/\",t.body=t.body||\"\",t.headers=t.headers||{},t.requestContext=t.requestContext||{},t.requestContext.path=t.requestContext.path||\"\",t.requestContext.identity=t.requestContext.identity||{},t}},function(e,t,n){\"use strict\";const i=n(94);e.exports=function(e,t,n){if(\"chunked\"===t[\"transfer-encoding\"]||e.chunkedEncoding)throw new Error(\"chunked encoding not supported\");const r=n?\"base64\":\"utf8\";return i.body(e).toString(r)}},function(e,t,n){\"use strict\";e.exports=function(e){if(Buffer.isBuffer(e))return e.toString(\"utf8\");if(\"string\"==typeof e)return e;throw new Error(`response.write() of unexpected type: ${typeof e}`)}},function(e,t,n){\"use strict\";const i=n(173).variations;e.exports=function(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return Array.isArray(r)?\"set-cookie\"===n.toLowerCase()?r.forEach((e,n)=>{t[i[n]]=e}):t[n]=r.join(\", \"):t[n]=r,t},{})}},function(e){e.exports={variations:[\"set-cookie\",\"Set-cookie\",\"sEt-cookie\",\"SEt-cookie\",\"seT-cookie\",\"SeT-cookie\",\"sET-cookie\",\"SET-cookie\",\"set-Cookie\",\"Set-Cookie\",\"sEt-Cookie\",\"SEt-Cookie\",\"seT-Cookie\",\"SeT-Cookie\",\"sET-Cookie\",\"SET-Cookie\",\"set-cOokie\",\"Set-cOokie\",\"sEt-cOokie\",\"SEt-cOokie\",\"seT-cOokie\",\"SeT-cOokie\",\"sET-cOokie\",\"SET-cOokie\",\"set-COokie\",\"Set-COokie\",\"sEt-COokie\",\"SEt-COokie\",\"seT-COokie\",\"SeT-COokie\",\"sET-COokie\",\"SET-COokie\",\"set-coOkie\",\"Set-coOkie\",\"sEt-coOkie\",\"SEt-coOkie\",\"seT-coOkie\",\"SeT-coOkie\",\"sET-coOkie\",\"SET-coOkie\",\"set-CoOkie\",\"Set-CoOkie\",\"sEt-CoOkie\",\"SEt-CoOkie\",\"seT-CoOkie\",\"SeT-CoOkie\",\"sET-CoOkie\",\"SET-CoOkie\",\"set-cOOkie\",\"Set-cOOkie\",\"sEt-cOOkie\",\"SEt-cOOkie\",\"seT-cOOkie\",\"SeT-cOOkie\",\"sET-cOOkie\",\"SET-cOOkie\",\"set-COOkie\",\"Set-COOkie\",\"sEt-COOkie\",\"SEt-COOkie\",\"seT-COOkie\",\"SeT-COOkie\",\"sET-COOkie\",\"SET-COOkie\",\"set-cooKie\",\"Set-cooKie\",\"sEt-cooKie\",\"SEt-cooKie\",\"seT-cooKie\",\"SeT-cooKie\",\"sET-cooKie\",\"SET-cooKie\",\"set-CooKie\",\"Set-CooKie\",\"sEt-CooKie\",\"SEt-CooKie\",\"seT-CooKie\",\"SeT-CooKie\",\"sET-CooKie\",\"SET-CooKie\",\"set-cOoKie\",\"Set-cOoKie\",\"sEt-cOoKie\",\"SEt-cOoKie\",\"seT-cOoKie\",\"SeT-cOoKie\",\"sET-cOoKie\",\"SET-cOoKie\",\"set-COoKie\",\"Set-COoKie\",\"sEt-COoKie\",\"SEt-COoKie\",\"seT-COoKie\",\"SeT-COoKie\",\"sET-COoKie\",\"SET-COoKie\",\"set-coOKie\",\"Set-coOKie\",\"sEt-coOKie\",\"SEt-coOKie\",\"seT-coOKie\",\"SeT-coOKie\",\"sET-coOKie\",\"SET-coOKie\",\"set-CoOKie\",\"Set-CoOKie\",\"sEt-CoOKie\",\"SEt-CoOKie\",\"seT-CoOKie\",\"SeT-CoOKie\",\"sET-CoOKie\",\"SET-CoOKie\",\"set-cOOKie\",\"Set-cOOKie\",\"sEt-cOOKie\",\"SEt-cOOKie\",\"seT-cOOKie\",\"SeT-cOOKie\",\"sET-cOOKie\",\"SET-cOOKie\",\"set-COOKie\",\"Set-COOKie\",\"sEt-COOKie\",\"SEt-COOKie\",\"seT-COOKie\",\"SeT-COOKie\",\"sET-COOKie\",\"SET-COOKie\",\"set-cookIe\",\"Set-cookIe\",\"sEt-cookIe\",\"SEt-cookIe\",\"seT-cookIe\",\"SeT-cookIe\",\"sET-cookIe\",\"SET-cookIe\",\"set-CookIe\",\"Set-CookIe\",\"sEt-CookIe\",\"SEt-CookIe\",\"seT-CookIe\",\"SeT-CookIe\",\"sET-CookIe\",\"SET-CookIe\",\"set-cOokIe\",\"Set-cOokIe\",\"sEt-cOokIe\",\"SEt-cOokIe\",\"seT-cOokIe\",\"SeT-cOokIe\",\"sET-cOokIe\",\"SET-cOokIe\",\"set-COokIe\",\"Set-COokIe\",\"sEt-COokIe\",\"SEt-COokIe\",\"seT-COokIe\",\"SeT-COokIe\",\"sET-COokIe\",\"SET-COokIe\",\"set-coOkIe\",\"Set-coOkIe\",\"sEt-coOkIe\",\"SEt-coOkIe\",\"seT-coOkIe\",\"SeT-coOkIe\",\"sET-coOkIe\",\"SET-coOkIe\",\"set-CoOkIe\",\"Set-CoOkIe\",\"sEt-CoOkIe\",\"SEt-CoOkIe\",\"seT-CoOkIe\",\"SeT-CoOkIe\",\"sET-CoOkIe\",\"SET-CoOkIe\",\"set-cOOkIe\",\"Set-cOOkIe\",\"sEt-cOOkIe\",\"SEt-cOOkIe\",\"seT-cOOkIe\",\"SeT-cOOkIe\",\"sET-cOOkIe\",\"SET-cOOkIe\",\"set-COOkIe\",\"Set-COOkIe\",\"sEt-COOkIe\",\"SEt-COOkIe\",\"seT-COOkIe\",\"SeT-COOkIe\",\"sET-COOkIe\",\"SET-COOkIe\",\"set-cooKIe\",\"Set-cooKIe\",\"sEt-cooKIe\",\"SEt-cooKIe\",\"seT-cooKIe\",\"SeT-cooKIe\",\"sET-cooKIe\",\"SET-cooKIe\",\"set-CooKIe\",\"Set-CooKIe\",\"sEt-CooKIe\",\"SEt-CooKIe\",\"seT-CooKIe\",\"SeT-CooKIe\",\"sET-CooKIe\",\"SET-CooKIe\",\"set-cOoKIe\",\"Set-cOoKIe\",\"sEt-cOoKIe\",\"SEt-cOoKIe\",\"seT-cOoKIe\",\"SeT-cOoKIe\",\"sET-cOoKIe\",\"SET-cOoKIe\",\"set-COoKIe\",\"Set-COoKIe\",\"sEt-COoKIe\",\"SEt-COoKIe\",\"seT-COoKIe\",\"SeT-COoKIe\",\"sET-COoKIe\",\"SET-COoKIe\",\"set-coOKIe\",\"Set-coOKIe\",\"sEt-coOKIe\",\"SEt-coOKIe\",\"seT-coOKIe\",\"SeT-coOKIe\",\"sET-coOKIe\",\"SET-coOKIe\",\"set-CoOKIe\",\"Set-CoOKIe\",\"sEt-CoOKIe\",\"SEt-CoOKIe\",\"seT-CoOKIe\",\"SeT-CoOKIe\",\"sET-CoOKIe\",\"SET-CoOKIe\",\"set-cOOKIe\",\"Set-cOOKIe\",\"sEt-cOOKIe\",\"SEt-cOOKIe\",\"seT-cOOKIe\",\"SeT-cOOKIe\",\"sET-cOOKIe\",\"SET-cOOKIe\",\"set-COOKIe\",\"Set-COOKIe\",\"sEt-COOKIe\",\"SEt-COOKIe\",\"seT-COOKIe\",\"SeT-COOKIe\",\"sET-COOKIe\",\"SET-COOKIe\",\"set-cookiE\",\"Set-cookiE\",\"sEt-cookiE\",\"SEt-cookiE\",\"seT-cookiE\",\"SeT-cookiE\",\"sET-cookiE\",\"SET-cookiE\",\"set-CookiE\",\"Set-CookiE\",\"sEt-CookiE\",\"SEt-CookiE\",\"seT-CookiE\",\"SeT-CookiE\",\"sET-CookiE\",\"SET-CookiE\",\"set-cOokiE\",\"Set-cOokiE\",\"sEt-cOokiE\",\"SEt-cOokiE\",\"seT-cOokiE\",\"SeT-cOokiE\",\"sET-cOokiE\",\"SET-cOokiE\",\"set-COokiE\",\"Set-COokiE\",\"sEt-COokiE\",\"SEt-COokiE\",\"seT-COokiE\",\"SeT-COokiE\",\"sET-COokiE\",\"SET-COokiE\",\"set-coOkiE\",\"Set-coOkiE\",\"sEt-coOkiE\",\"SEt-coOkiE\",\"seT-coOkiE\",\"SeT-coOkiE\",\"sET-coOkiE\",\"SET-coOkiE\",\"set-CoOkiE\",\"Set-CoOkiE\",\"sEt-CoOkiE\",\"SEt-CoOkiE\",\"seT-CoOkiE\",\"SeT-CoOkiE\",\"sET-CoOkiE\",\"SET-CoOkiE\",\"set-cOOkiE\",\"Set-cOOkiE\",\"sEt-cOOkiE\",\"SEt-cOOkiE\",\"seT-cOOkiE\",\"SeT-cOOkiE\",\"sET-cOOkiE\",\"SET-cOOkiE\",\"set-COOkiE\",\"Set-COOkiE\",\"sEt-COOkiE\",\"SEt-COOkiE\",\"seT-COOkiE\",\"SeT-COOkiE\",\"sET-COOkiE\",\"SET-COOkiE\",\"set-cooKiE\",\"Set-cooKiE\",\"sEt-cooKiE\",\"SEt-cooKiE\",\"seT-cooKiE\",\"SeT-cooKiE\",\"sET-cooKiE\",\"SET-cooKiE\",\"set-CooKiE\",\"Set-CooKiE\",\"sEt-CooKiE\",\"SEt-CooKiE\",\"seT-CooKiE\",\"SeT-CooKiE\",\"sET-CooKiE\",\"SET-CooKiE\",\"set-cOoKiE\",\"Set-cOoKiE\",\"sEt-cOoKiE\",\"SEt-cOoKiE\",\"seT-cOoKiE\",\"SeT-cOoKiE\",\"sET-cOoKiE\",\"SET-cOoKiE\",\"set-COoKiE\",\"Set-COoKiE\",\"sEt-COoKiE\",\"SEt-COoKiE\",\"seT-COoKiE\",\"SeT-COoKiE\",\"sET-COoKiE\",\"SET-COoKiE\",\"set-coOKiE\",\"Set-coOKiE\",\"sEt-coOKiE\",\"SEt-coOKiE\",\"seT-coOKiE\",\"SeT-coOKiE\",\"sET-coOKiE\",\"SET-coOKiE\",\"set-CoOKiE\",\"Set-CoOKiE\",\"sEt-CoOKiE\",\"SEt-CoOKiE\",\"seT-CoOKiE\",\"SeT-CoOKiE\",\"sET-CoOKiE\",\"SET-CoOKiE\",\"set-cOOKiE\",\"Set-cOOKiE\",\"sEt-cOOKiE\",\"SEt-cOOKiE\",\"seT-cOOKiE\",\"SeT-cOOKiE\",\"sET-cOOKiE\",\"SET-cOOKiE\",\"set-COOKiE\",\"Set-COOKiE\",\"sEt-COOKiE\",\"SEt-COOKiE\",\"seT-COOKiE\",\"SeT-COOKiE\",\"sET-COOKiE\",\"SET-COOKiE\",\"set-cookIE\",\"Set-cookIE\",\"sEt-cookIE\",\"SEt-cookIE\",\"seT-cookIE\",\"SeT-cookIE\",\"sET-cookIE\",\"SET-cookIE\",\"set-CookIE\",\"Set-CookIE\",\"sEt-CookIE\",\"SEt-CookIE\",\"seT-CookIE\",\"SeT-CookIE\",\"sET-CookIE\",\"SET-CookIE\",\"set-cOokIE\",\"Set-cOokIE\",\"sEt-cOokIE\",\"SEt-cOokIE\",\"seT-cOokIE\",\"SeT-cOokIE\",\"sET-cOokIE\",\"SET-cOokIE\",\"set-COokIE\",\"Set-COokIE\",\"sEt-COokIE\",\"SEt-COokIE\",\"seT-COokIE\",\"SeT-COokIE\",\"sET-COokIE\",\"SET-COokIE\",\"set-coOkIE\",\"Set-coOkIE\",\"sEt-coOkIE\",\"SEt-coOkIE\",\"seT-coOkIE\",\"SeT-coOkIE\",\"sET-coOkIE\",\"SET-coOkIE\",\"set-CoOkIE\",\"Set-CoOkIE\",\"sEt-CoOkIE\",\"SEt-CoOkIE\",\"seT-CoOkIE\",\"SeT-CoOkIE\",\"sET-CoOkIE\",\"SET-CoOkIE\",\"set-cOOkIE\",\"Set-cOOkIE\",\"sEt-cOOkIE\",\"SEt-cOOkIE\",\"seT-cOOkIE\",\"SeT-cOOkIE\",\"sET-cOOkIE\",\"SET-cOOkIE\",\"set-COOkIE\",\"Set-COOkIE\",\"sEt-COOkIE\",\"SEt-COOkIE\",\"seT-COOkIE\",\"SeT-COOkIE\",\"sET-COOkIE\",\"SET-COOkIE\",\"set-cooKIE\",\"Set-cooKIE\",\"sEt-cooKIE\",\"SEt-cooKIE\",\"seT-cooKIE\",\"SeT-cooKIE\",\"sET-cooKIE\",\"SET-cooKIE\",\"set-CooKIE\",\"Set-CooKIE\",\"sEt-CooKIE\",\"SEt-CooKIE\",\"seT-CooKIE\",\"SeT-CooKIE\",\"sET-CooKIE\",\"SET-CooKIE\",\"set-cOoKIE\",\"Set-cOoKIE\",\"sEt-cOoKIE\",\"SEt-cOoKIE\",\"seT-cOoKIE\",\"SeT-cOoKIE\",\"sET-cOoKIE\",\"SET-cOoKIE\",\"set-COoKIE\",\"Set-COoKIE\",\"sEt-COoKIE\",\"SEt-COoKIE\",\"seT-COoKIE\",\"SeT-COoKIE\",\"sET-COoKIE\",\"SET-COoKIE\",\"set-coOKIE\",\"Set-coOKIE\",\"sEt-coOKIE\",\"SEt-coOKIE\",\"seT-coOKIE\",\"SeT-coOKIE\",\"sET-coOKIE\",\"SET-coOKIE\",\"set-CoOKIE\",\"Set-CoOKIE\",\"sEt-CoOKIE\",\"SEt-CoOKIE\",\"seT-CoOKIE\",\"SeT-CoOKIE\",\"sET-CoOKIE\",\"SET-CoOKIE\",\"set-cOOKIE\",\"Set-cOOKIE\",\"sEt-cOOKIE\",\"SEt-cOOKIE\",\"seT-cOOKIE\",\"SeT-cOOKIE\",\"sET-cOOKIE\",\"SET-cOOKIE\",\"set-COOKIE\",\"Set-COOKIE\",\"sEt-COOKIE\",\"SEt-COOKIE\",\"seT-COOKIE\",\"SeT-COOKIE\",\"sET-COOKIE\",\"SET-COOKIE\"]}},function(e,t,n){\"use strict\";const i=[\"gzip\",\"deflate\"],r=(process.env.BINARY_CONTENT_TYPES||\"\").split(\",\");e.exports=function(e,t){return!1!==t.binary&&(\"function\"==typeof t.binary?t.binary(e):function(e){const t=e[\"content-encoding\"];if(\"string\"==typeof t)return t.split(\",\").some(e=>i.some(t=>e.indexOf(-1!==t)))}(e)||function(e,t){const n=[].concat(t.binary?t.binary:r).map(e=>new RegExp(`^${e.replace(/\\*/g,\".*\")}$`)),i=(e[\"content-type\"]||\"\").split(\";\")[0];return!!i&&n.some(e=>e.test(i))}(e,t))}},function(e,t,n){\"use strict\";e.exports=function(e,t){if(!t)return e;e.then(e=>{process.nextTick(()=>{t(null,e)})}).catch(e=>{process.nextTick(()=>{t(e)})})}},function(e,t,n){\"use strict\";const i=n(19),r=n(33);e.exports=class extends i.IncomingMessage{constructor(e,t){super({encrypted:!0,readable:!1,remoteAddress:e.requestContext.identity.sourceIp,address:()=>({port:443}),end:Function.prototype});const n=function(e){return Object.keys(e.headers).reduce((t,n)=>(t[n.toLowerCase()]=e.headers[n],t),{})}(e),i=function(e,t){if(\"string\"==typeof e.body)return Buffer.from(e.body,e.isBase64Encoded?\"base64\":\"utf8\");if(Buffer.isBuffer(e.body))return e.body;if(\"object\"==typeof e.body){const n=t[\"content-type\"];if(n&&0===n.indexOf(\"application/json\"))return Buffer.from(JSON.stringify(e.body));throw new Error(\"event.body was an object but content-type is not json\")}throw new Error(`Unexpected event.body type: ${typeof e.body}`)}(e,n);if(void 0===n[\"content-length\"]&&(n[\"content-length\"]=Buffer.byteLength(i)),\"string\"==typeof t.requestId&&t.requestId.length>0){const i=t.requestId.toLowerCase();n[i]=n[i]||e.requestContext.requestId}Object.assign(this,{ip:e.requestContext.identity.sourceIp,complete:!0,httpVersion:\"1.1\",httpVersionMajor:\"1\",httpVersionMinor:\"1\",method:e.httpMethod,headers:n,url:r.format({pathname:e.path,query:e.queryStringParameters}),body:i}),this.push(i),this.push(null)}}},function(e,t,n){\"use strict\";var i=n(67),r=n(25),o=n(43),s=n(44),a=n(45),c=n(46),l=n(47),p=n(68),u=n(48),d=n(49),f=n(34),m=n(50),h=n(51),v=n(35),g=n(178),y=n(179),b=n(181),x=new Buffer(17825792),w=function(){};w.prototype.serialize=function(e,t){var n=\"boolean\"==typeof(t=t||{}).checkKeys&&t.checkKeys,i=\"boolean\"==typeof t.serializeFunctions&&t.serializeFunctions,r=\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined,o=\"number\"==typeof t.minInternalBufferSize?t.minInternalBufferSize:17825792;x.length<o&&(x=new Buffer(o));var s=y(x,e,n,0,0,i,r,[]),a=new Buffer(s);return x.copy(a,0,0,a.length),a},w.prototype.serializeWithBufferAndIndex=function(e,t,n){var i=\"boolean\"==typeof(n=n||{}).checkKeys&&n.checkKeys,r=\"boolean\"==typeof n.serializeFunctions&&n.serializeFunctions,o=\"boolean\"!=typeof n.ignoreUndefined||n.ignoreUndefined,s=\"number\"==typeof n.index?n.index:0;return y(t,e,i,s||0,0,r,o)-1},w.prototype.deserialize=function(e,t){return g(e,t)},w.prototype.calculateObjectSize=function(e,t){var n=\"boolean\"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,i=\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined;return b(e,n,i)},w.prototype.deserializeStream=function(e,t,n,i,r,o){o=null!=o?o:{};for(var s=t,a=0;a<n;a++){var c=e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24;o.index=s,i[r+a]=this.deserialize(e,o),s+=c}return s},w.BSON_INT32_MAX=2147483647,w.BSON_INT32_MIN=-2147483648,w.BSON_INT64_MAX=Math.pow(2,63)-1,w.BSON_INT64_MIN=-Math.pow(2,63),w.JS_INT_MAX=9007199254740992,w.JS_INT_MIN=-9007199254740992,w.BSON_DATA_NUMBER=1,w.BSON_DATA_STRING=2,w.BSON_DATA_OBJECT=3,w.BSON_DATA_ARRAY=4,w.BSON_DATA_BINARY=5,w.BSON_DATA_OID=7,w.BSON_DATA_BOOLEAN=8,w.BSON_DATA_DATE=9,w.BSON_DATA_NULL=10,w.BSON_DATA_REGEXP=11,w.BSON_DATA_CODE=13,w.BSON_DATA_SYMBOL=14,w.BSON_DATA_CODE_W_SCOPE=15,w.BSON_DATA_INT=16,w.BSON_DATA_TIMESTAMP=17,w.BSON_DATA_LONG=18,w.BSON_DATA_MIN_KEY=255,w.BSON_DATA_MAX_KEY=127,w.BSON_BINARY_SUBTYPE_DEFAULT=0,w.BSON_BINARY_SUBTYPE_FUNCTION=1,w.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,w.BSON_BINARY_SUBTYPE_UUID=3,w.BSON_BINARY_SUBTYPE_MD5=4,w.BSON_BINARY_SUBTYPE_USER_DEFINED=128,e.exports=w,e.exports.Code=u,e.exports.Map=i,e.exports.Symbol=l,e.exports.BSON=w,e.exports.DBRef=h,e.exports.Binary=v,e.exports.ObjectID=a,e.exports.Long=r,e.exports.Timestamp=s,e.exports.Double=o,e.exports.Int32=p,e.exports.MinKey=f,e.exports.MaxKey=m,e.exports.BSONRegExp=c,e.exports.Decimal128=d},function(module,exports,__webpack_require__){\"use strict\";var Long=__webpack_require__(25).Long,Double=__webpack_require__(43).Double,Timestamp=__webpack_require__(44).Timestamp,ObjectID=__webpack_require__(45).ObjectID,Symbol=__webpack_require__(47).Symbol,Code=__webpack_require__(48).Code,MinKey=__webpack_require__(34).MinKey,MaxKey=__webpack_require__(50).MaxKey,Decimal128=__webpack_require__(49),Int32=__webpack_require__(68),DBRef=__webpack_require__(51).DBRef,BSONRegExp=__webpack_require__(46).BSONRegExp,Binary=__webpack_require__(35).Binary,deserialize=function(e,t,n){var i=(t=null==t?{}:t)&&t.index?t.index:0,r=e[i]|e[i+1]<<8|e[i+2]<<16|e[i+3]<<24;if(r<5||e.length<r||r+i>e.length)throw new Error(\"corrupt bson message\");if(0!==e[i+r-1])throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");return deserializeObject(e,i,t,n)},deserializeObject=function(e,t,n,i){var r=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,s=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!s)var a=null;var c=null==n.fieldsAsRaw?null:n.fieldsAsRaw,l=null!=n.raw&&n.raw,p=\"boolean\"==typeof n.bsonRegExp&&n.bsonRegExp,u=null!=n.promoteBuffers&&n.promoteBuffers,d=null==n.promoteLongs||n.promoteLongs,f=null==n.promoteValues||n.promoteValues,m=t;if(e.length<5)throw new Error(\"corrupt bson message < 5 bytes long\");var h=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(h<5||h>e.length)throw new Error(\"corrupt bson message\");for(var v=i?[]:{},g=0;;){var y=e[t++];if(0===y)break;for(var b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var x=i?g++:e.toString(\"utf8\",t,b);if(t=b+1,y===BSON.BSON_DATA_STRING){var w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(w<=0||w>e.length-t||0!==e[t+w-1])throw new Error(\"bad string length in bson\");v[x]=e.toString(\"utf8\",t,t+w-1),t+=w}else if(y===BSON.BSON_DATA_OID){var S=new Buffer(12);e.copy(S,0,t,t+12),v[x]=new ObjectID(S),t+=12}else if(y===BSON.BSON_DATA_INT&&!1===f)v[x]=new Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(y===BSON.BSON_DATA_INT)v[x]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(y===BSON.BSON_DATA_NUMBER&&!1===f)v[x]=new Double(e.readDoubleLE(t)),t+=8;else if(y===BSON.BSON_DATA_NUMBER)v[x]=e.readDoubleLE(t),t+=8;else if(y===BSON.BSON_DATA_DATE){var k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[x]=new Date(new Long(k,O).toNumber())}else if(y===BSON.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error(\"illegal boolean type value\");v[x]=1===e[t++]}else if(y===BSON.BSON_DATA_OBJECT){var E=t,C=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(C<=0||C>e.length-t)throw new Error(\"bad embedded document length in bson\");v[x]=l?e.slice(t,t+C):deserializeObject(e,E,n,!1),t+=C}else if(y===BSON.BSON_DATA_ARRAY){E=t;var _=n,I=t+(C=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(c&&c[x]){for(var T in _={},n)_[T]=n[T];_.raw=!0}if(v[x]=deserializeObject(e,E,_,!0),0!==e[(t+=C)-1])throw new Error(\"invalid array terminator byte\");if(t!==I)throw new Error(\"corrupted array bson\")}else if(y===BSON.BSON_DATA_UNDEFINED)v[x]=void 0;else if(y===BSON.BSON_DATA_NULL)v[x]=null;else if(y===BSON.BSON_DATA_LONG){k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var N=new Long(k,O);v[x]=d&&!0===f&&N.lessThanOrEqual(JS_INT_MAX_LONG)&&N.greaterThanOrEqual(JS_INT_MIN_LONG)?N.toNumber():N}else if(y===BSON.BSON_DATA_DECIMAL128){var A=new Buffer(16);e.copy(A,0,t,t+16),t+=16;var M=new Decimal128(A);v[x]=M.toObject?M.toObject():M}else if(y===BSON.BSON_DATA_BINARY){var B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,j=B,P=e[t++];if(B<0)throw new Error(\"Negative binary type element size found\");if(B>e.length)throw new Error(\"Binary type size larger than document size\");if(null!=e.slice){if(P===Binary.SUBTYPE_BYTE_ARRAY){if((B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(B>j-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(B<j-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}v[x]=u&&f?e.slice(t,t+B):new Binary(e.slice(t,t+B),P)}else{var D=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(B)):new Array(B);if(P===Binary.SUBTYPE_BYTE_ARRAY){if((B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(B>j-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(B<j-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}for(b=0;b<B;b++)D[b]=e[t+b];v[x]=u&&f?D:new Binary(D,P)}t+=B}else if(y===BSON.BSON_DATA_REGEXP&&!1===p){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var R=e.toString(\"utf8\",t,b);for(b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var L=e.toString(\"utf8\",t,b);t=b+1;var z=new Array(L.length);for(b=0;b<L.length;b++)switch(L[b]){case\"m\":z[b]=\"m\";break;case\"s\":z[b]=\"g\";break;case\"i\":z[b]=\"i\"}v[x]=new RegExp(R,z.join(\"\"))}else if(y===BSON.BSON_DATA_REGEXP&&!0===p){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");for(R=e.toString(\"utf8\",t,b),b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");L=e.toString(\"utf8\",t,b),t=b+1,v[x]=new BSONRegExp(R,L)}else if(y===BSON.BSON_DATA_SYMBOL){if((w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||w>e.length-t||0!==e[t+w-1])throw new Error(\"bad string length in bson\");v[x]=new Symbol(e.toString(\"utf8\",t,t+w-1)),t+=w}else if(y===BSON.BSON_DATA_TIMESTAMP)k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,v[x]=new Timestamp(k,O);else if(y===BSON.BSON_DATA_MIN_KEY)v[x]=new MinKey;else if(y===BSON.BSON_DATA_MAX_KEY)v[x]=new MaxKey;else if(y===BSON.BSON_DATA_CODE){if((w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||w>e.length-t||0!==e[t+w-1])throw new Error(\"bad string length in bson\");var q=e.toString(\"utf8\",t,t+w-1);if(r)if(o){var U=s?a(q):q;v[x]=isolateEvalWithHash(functionCache,U,q,v)}else v[x]=isolateEval(q);else v[x]=new Code(q);t+=w}else if(y===BSON.BSON_DATA_CODE_W_SCOPE){var K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(K<13)throw new Error(\"code_w_scope total size shorter minimum expected length\");if((w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||w>e.length-t||0!==e[t+w-1])throw new Error(\"bad string length in bson\");q=e.toString(\"utf8\",t,t+w-1),E=t+=w,C=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;var F=deserializeObject(e,E,n,!1);if(t+=C,K<8+C+w)throw new Error(\"code_w_scope total size is to short, truncating scope\");if(K>8+C+w)throw new Error(\"code_w_scope total size is to long, clips outer document\");r?(o?(U=s?a(q):q,v[x]=isolateEvalWithHash(functionCache,U,q,v)):v[x]=isolateEval(q),v[x].scope=F):v[x]=new Code(q,F)}else{if(y!==BSON.BSON_DATA_DBPOINTER)throw new Error(\"Detected unknown BSON type \"+y.toString(16)+' for fieldname \"'+x+'\", are you using the latest BSON parser');if((w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||w>e.length-t||0!==e[t+w-1])throw new Error(\"bad string length in bson\");var H=e.toString(\"utf8\",t,t+w-1);t+=w;var $=new Buffer(12);e.copy($,0,t,t+12),S=new ObjectID($),t+=12;var V=H.split(\".\"),W=V.shift(),Y=V.join(\".\");v[x]=new DBRef(Y,S,W)}}if(h!==t-m){if(i)throw new Error(\"corrupt array bson\");throw new Error(\"corrupt object bson\")}return null!=v.$id&&(v=new DBRef(v.$ref,v.$id,v.$db)),v},isolateEvalWithHash=function(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval(\"value = \"+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function(functionString){var value=null;return eval(\"value = \"+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize},function(e,t,n){\"use strict\";var i=n(180).writeIEEE754,r=n(25).Long,o=n(34).MinKey,s=n(67),a=n(35).Binary,c=n(104).normalizedFunctionString,l=/\\x00/,p=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},u=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},d=function(e,t,n,i,r){e[i++]=B.BSON_DATA_STRING,e[(i=i+(r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"))+1)-1]=0;var o=e.write(n,i+4,\"utf8\");return e[i+3]=o+1>>24&255,e[i+2]=o+1>>16&255,e[i+1]=o+1>>8&255,e[i]=o+1&255,i=i+4+o,e[i++]=0,i},f=function(e,t,n,o,s){if(Math.floor(n)===n&&n>=B.JS_INT_MIN&&n<=B.JS_INT_MAX)if(n>=B.BSON_INT32_MIN&&n<=B.BSON_INT32_MAX){e[o++]=B.BSON_DATA_INT;var a=s?e.write(t,o,\"ascii\"):e.write(t,o,\"utf8\");o+=a,e[o++]=0,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=n>>16&255,e[o++]=n>>24&255}else if(n>=B.JS_INT_MIN&&n<=B.JS_INT_MAX)e[o++]=B.BSON_DATA_NUMBER,o+=a=s?e.write(t,o,\"ascii\"):e.write(t,o,\"utf8\"),e[o++]=0,i(e,n,o,\"little\",52,8),o+=8;else{e[o++]=B.BSON_DATA_LONG,o+=a=s?e.write(t,o,\"ascii\"):e.write(t,o,\"utf8\"),e[o++]=0;var c=r.fromNumber(n),l=c.getLowBits(),p=c.getHighBits();e[o++]=255&l,e[o++]=l>>8&255,e[o++]=l>>16&255,e[o++]=l>>24&255,e[o++]=255&p,e[o++]=p>>8&255,e[o++]=p>>16&255,e[o++]=p>>24&255}else e[o++]=B.BSON_DATA_NUMBER,o+=a=s?e.write(t,o,\"ascii\"):e.write(t,o,\"utf8\"),e[o++]=0,i(e,n,o,\"little\",52,8),o+=8;return o},m=function(e,t,n,i,r){return e[i++]=B.BSON_DATA_NULL,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,i},h=function(e,t,n,i,r){return e[i++]=B.BSON_DATA_BOOLEAN,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,e[i++]=n?1:0,i},v=function(e,t,n,i,o){e[i++]=B.BSON_DATA_DATE,i+=o?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var s=r.fromNumber(n.getTime()),a=s.getLowBits(),c=s.getHighBits();return e[i++]=255&a,e[i++]=a>>8&255,e[i++]=a>>16&255,e[i++]=a>>24&255,e[i++]=255&c,e[i++]=c>>8&255,e[i++]=c>>16&255,e[i++]=c>>24&255,i},g=function(e,t,n,i,r){if(e[i++]=B.BSON_DATA_REGEXP,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,n.source&&null!=n.source.match(l))throw Error(\"value \"+n.source+\" must not contain null bytes\");return i+=e.write(n.source,i,\"utf8\"),e[i++]=0,n.global&&(e[i++]=115),n.ignoreCase&&(e[i++]=105),n.multiline&&(e[i++]=109),e[i++]=0,i},y=function(e,t,n,i,r){if(e[i++]=B.BSON_DATA_REGEXP,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,null!=n.pattern.match(l))throw Error(\"pattern \"+n.pattern+\" must not contain null bytes\");return i+=e.write(n.pattern,i,\"utf8\"),e[i++]=0,i+=e.write(n.options.split(\"\").sort().join(\"\"),i,\"utf8\"),e[i++]=0,i},b=function(e,t,n,i,r){return e[i++]=null===n?B.BSON_DATA_NULL:n instanceof o?B.BSON_DATA_MIN_KEY:B.BSON_DATA_MAX_KEY,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,i},x=function(e,t,n,i,r){if(e[i++]=B.BSON_DATA_OID,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,\"string\"==typeof n.id)e.write(n.id,i,\"binary\");else{if(!n.id||!n.id.copy)throw new Error(\"object [\"+JSON.stringify(n)+\"] is not a valid ObjectId\");n.id.copy(e,i,0,12)}return i+12},w=function(e,t,n,i,r){e[i++]=B.BSON_DATA_BINARY,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var o=n.length;return e[i++]=255&o,e[i++]=o>>8&255,e[i++]=o>>16&255,e[i++]=o>>24&255,e[i++]=B.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,i,0,o),i+=o},S=function(e,t,n,i,r,o,s,a,c,l){for(var p=0;p<l.length;p++)if(l[p]===n)throw new Error(\"cyclic dependency detected\");l.push(n),e[i++]=Array.isArray(n)?B.BSON_DATA_ARRAY:B.BSON_DATA_OBJECT,i+=c?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var u=M(e,n,r,i,o+1,s,a,l);return l.pop(),u},k=function(e,t,n,i,r){return e[i++]=B.BSON_DATA_DECIMAL128,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,n.bytes.copy(e,i,0,16),i+16},O=function(e,t,n,i,r){e[i++]=\"Long\"===n._bsontype?B.BSON_DATA_LONG:B.BSON_DATA_TIMESTAMP,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var o=n.getLowBits(),s=n.getHighBits();return e[i++]=255&o,e[i++]=o>>8&255,e[i++]=o>>16&255,e[i++]=o>>24&255,e[i++]=255&s,e[i++]=s>>8&255,e[i++]=s>>16&255,e[i++]=s>>24&255,i},E=function(e,t,n,i,r){return e[i++]=B.BSON_DATA_INT,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=n>>16&255,e[i++]=n>>24&255,i},C=function(e,t,n,r,o){return e[r++]=B.BSON_DATA_NUMBER,r+=o?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,i(e,n,r,\"little\",52,8),r+=8},_=function(e,t,n,i,r,o,s){e[i++]=B.BSON_DATA_CODE,i+=s?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var a=c(n),l=e.write(a,i+4,\"utf8\")+1;return e[i]=255&l,e[i+1]=l>>8&255,e[i+2]=l>>16&255,e[i+3]=l>>24&255,i=i+4+l-1,e[i++]=0,i},I=function(e,t,n,i,r,o,s,a,c){if(n.scope&&\"object\"==typeof n.scope){e[i++]=B.BSON_DATA_CODE_W_SCOPE;var l=c?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\");i+=l,e[i++]=0;var p=i,u=\"string\"==typeof n.code?n.code:n.code.toString();i+=4;var d=e.write(u,i+4,\"utf8\")+1;e[i]=255&d,e[i+1]=d>>8&255,e[i+2]=d>>16&255,e[i+3]=d>>24&255,e[i+4+d-1]=0,i=i+d+4;var f=M(e,n.scope,r,i,o+1,s,a);i=f-1;var m=f-p;e[p++]=255&m,e[p++]=m>>8&255,e[p++]=m>>16&255,e[p++]=m>>24&255,e[i++]=0}else{e[i++]=B.BSON_DATA_CODE,i+=l=c?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0,u=n.code.toString();var h=e.write(u,i+4,\"utf8\")+1;e[i]=255&h,e[i+1]=h>>8&255,e[i+2]=h>>16&255,e[i+3]=h>>24&255,i=i+4+h-1,e[i++]=0}return i},T=function(e,t,n,i,r){e[i++]=B.BSON_DATA_BINARY,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var o=n.value(!0),s=n.position;return n.sub_type===a.SUBTYPE_BYTE_ARRAY&&(s+=4),e[i++]=255&s,e[i++]=s>>8&255,e[i++]=s>>16&255,e[i++]=s>>24&255,e[i++]=n.sub_type,n.sub_type===a.SUBTYPE_BYTE_ARRAY&&(s-=4,e[i++]=255&s,e[i++]=s>>8&255,e[i++]=s>>16&255,e[i++]=s>>24&255),o.copy(e,i,0,n.position),i+=n.position},N=function(e,t,n,i,r){e[i++]=B.BSON_DATA_SYMBOL,i+=r?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var o=e.write(n.value,i+4,\"utf8\")+1;return e[i]=255&o,e[i+1]=o>>8&255,e[i+2]=o>>16&255,e[i+3]=o>>24&255,i=i+4+o-1,e[i++]=0,i},A=function(e,t,n,i,r,o,s){e[i++]=B.BSON_DATA_OBJECT,i+=s?e.write(t,i,\"ascii\"):e.write(t,i,\"utf8\"),e[i++]=0;var a,c=i,l=(a=null!=n.db?M(e,{$ref:n.namespace,$id:n.oid,$db:n.db},!1,i,r+1,o):M(e,{$ref:n.namespace,$id:n.oid},!1,i,r+1,o))-c;return e[c++]=255&l,e[c++]=l>>8&255,e[c++]=l>>16&255,e[c++]=l>>24&255,a},M=function(e,t,n,i,r,o,a,c){i=i||0,(c=c||[]).push(t);var M=i+4;if(Array.isArray(t))for(var B=0;B<t.length;B++){var j=\"\"+B,P=t[B];if(P&&P.toBSON){if(\"function\"!=typeof P.toBSON)throw new Error(\"toBSON is not a function\");P=P.toBSON()}var D=typeof P;\"string\"===D?M=d(e,j,P,M,!0):\"number\"===D?M=f(e,j,P,M,!0):\"boolean\"===D?M=h(e,j,P,M,!0):P instanceof Date||p(P)?M=v(e,j,P,M,!0):void 0===P?M=m(e,j,0,M,!0):null===P?M=m(e,j,0,M,!0):\"ObjectID\"===P._bsontype?M=x(e,j,P,M,!0):Buffer.isBuffer(P)?M=w(e,j,P,M,!0):P instanceof RegExp||u(P)?M=g(e,j,P,M,!0):\"object\"===D&&null==P._bsontype?M=S(e,j,P,M,n,r,o,a,!0,c):\"object\"===D&&\"Decimal128\"===P._bsontype?M=k(e,j,P,M,!0):\"Long\"===P._bsontype||\"Timestamp\"===P._bsontype?M=O(e,j,P,M,!0):\"Double\"===P._bsontype?M=C(e,j,P,M,!0):\"function\"==typeof P&&o?M=_(e,j,P,M,0,0,o):\"Code\"===P._bsontype?M=I(e,j,P,M,n,r,o,a,!0):\"Binary\"===P._bsontype?M=T(e,j,P,M,!0):\"Symbol\"===P._bsontype?M=N(e,j,P,M,!0):\"DBRef\"===P._bsontype?M=A(e,j,P,M,r,o,!0):\"BSONRegExp\"===P._bsontype?M=y(e,j,P,M,!0):\"Int32\"===P._bsontype?M=E(e,j,P,M,!0):\"MinKey\"!==P._bsontype&&\"MaxKey\"!==P._bsontype||(M=b(e,j,P,M,!0))}else if(t instanceof s)for(var R=t.entries(),L=!1;!L;){var z=R.next();if(!(L=z.done)){if(j=z.value[0],D=typeof(P=z.value[1]),\"$db\"!==j&&\"$ref\"!==j&&\"$id\"!==j){if(null!=j.match(l))throw Error(\"key \"+j+\" must not contain null bytes\");if(n){if(\"$\"===j[0])throw Error(\"key \"+j+\" must not start with '$'\");if(~j.indexOf(\".\"))throw Error(\"key \"+j+\" must not contain '.'\")}}\"string\"===D?M=d(e,j,P,M):\"number\"===D?M=f(e,j,P,M):\"boolean\"===D?M=h(e,j,P,M):P instanceof Date||p(P)?M=v(e,j,P,M):null===P||void 0===P&&!1===a?M=m(e,j,0,M):\"ObjectID\"===P._bsontype?M=x(e,j,P,M):Buffer.isBuffer(P)?M=w(e,j,P,M):P instanceof RegExp||u(P)?M=g(e,j,P,M):\"object\"===D&&null==P._bsontype?M=S(e,j,P,M,n,r,o,a,!1,c):\"object\"===D&&\"Decimal128\"===P._bsontype?M=k(e,j,P,M):\"Long\"===P._bsontype||\"Timestamp\"===P._bsontype?M=O(e,j,P,M):\"Double\"===P._bsontype?M=C(e,j,P,M):\"Code\"===P._bsontype?M=I(e,j,P,M,n,r,o,a):\"function\"==typeof P&&o?M=_(e,j,P,M,0,0,o):\"Binary\"===P._bsontype?M=T(e,j,P,M):\"Symbol\"===P._bsontype?M=N(e,j,P,M):\"DBRef\"===P._bsontype?M=A(e,j,P,M,r,o):\"BSONRegExp\"===P._bsontype?M=y(e,j,P,M):\"Int32\"===P._bsontype?M=E(e,j,P,M):\"MinKey\"!==P._bsontype&&\"MaxKey\"!==P._bsontype||(M=b(e,j,P,M))}}else{if(t.toBSON){if(\"function\"!=typeof t.toBSON)throw new Error(\"toBSON is not a function\");if(null!=(t=t.toBSON())&&\"object\"!=typeof t)throw new Error(\"toBSON function did not return an object\")}for(j in t){if((P=t[j])&&P.toBSON){if(\"function\"!=typeof P.toBSON)throw new Error(\"toBSON is not a function\");P=P.toBSON()}if(D=typeof P,\"$db\"!==j&&\"$ref\"!==j&&\"$id\"!==j){if(null!=j.match(l))throw Error(\"key \"+j+\" must not contain null bytes\");if(n){if(\"$\"===j[0])throw Error(\"key \"+j+\" must not start with '$'\");if(~j.indexOf(\".\"))throw Error(\"key \"+j+\" must not contain '.'\")}}\"string\"===D?M=d(e,j,P,M):\"number\"===D?M=f(e,j,P,M):\"boolean\"===D?M=h(e,j,P,M):P instanceof Date||p(P)?M=v(e,j,P,M):void 0===P?!1===a&&(M=m(e,j,0,M)):null===P?M=m(e,j,0,M):\"ObjectID\"===P._bsontype?M=x(e,j,P,M):Buffer.isBuffer(P)?M=w(e,j,P,M):P instanceof RegExp||u(P)?M=g(e,j,P,M):\"object\"===D&&null==P._bsontype?M=S(e,j,P,M,n,r,o,a,!1,c):\"object\"===D&&\"Decimal128\"===P._bsontype?M=k(e,j,P,M):\"Long\"===P._bsontype||\"Timestamp\"===P._bsontype?M=O(e,j,P,M):\"Double\"===P._bsontype?M=C(e,j,P,M):\"Code\"===P._bsontype?M=I(e,j,P,M,n,r,o,a):\"function\"==typeof P&&o?M=_(e,j,P,M,0,0,o):\"Binary\"===P._bsontype?M=T(e,j,P,M):\"Symbol\"===P._bsontype?M=N(e,j,P,M):\"DBRef\"===P._bsontype?M=A(e,j,P,M,r,o):\"BSONRegExp\"===P._bsontype?M=y(e,j,P,M):\"Int32\"===P._bsontype?M=E(e,j,P,M):\"MinKey\"!==P._bsontype&&\"MaxKey\"!==P._bsontype||(M=b(e,j,P,M))}}c.pop(),e[M++]=0;var q=M-i;return e[i++]=255&q,e[i++]=q>>8&255,e[i++]=q>>16&255,e[i++]=q>>24&255,M},B={BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128,BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648};B.BSON_INT64_MAX=Math.pow(2,63)-1,B.BSON_INT64_MIN=-Math.pow(2,63),B.JS_INT_MAX=9007199254740992,B.JS_INT_MIN=-9007199254740992,e.exports=M},function(e,t){t.readIEEE754=function(e,t,n,i,r){var o,s,a=\"big\"===n,c=8*r-i-1,l=(1<<c)-1,p=l>>1,u=-7,d=a?0:r-1,f=a?1:-1,m=e[t+d];for(d+=f,o=m&(1<<-u)-1,m>>=-u,u+=c;u>0;o=256*o+e[t+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===o)o=1-p;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,i),o-=p}return(m?-1:1)*s*Math.pow(2,o-i)},t.writeIEEE754=function(e,t,n,i,r,o){var s,a,c,l=\"big\"===i,p=8*o-r-1,u=(1<<p)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?o-1:0,h=l?-1:1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[n+m]=255&a,m+=h,a/=256,r-=8);for(s=s<<r|a,p+=r;p>0;e[n+m]=255&s,m+=h,s/=256,p-=8);e[n+m-h]|=128*v}},function(e,t,n){\"use strict\";var i=n(25).Long,r=n(43).Double,o=n(44).Timestamp,s=n(45).ObjectID,a=n(47).Symbol,c=n(46).BSONRegExp,l=n(48).Code,p=n(49),u=n(34).MinKey,d=n(50).MaxKey,f=n(51).DBRef,m=n(35).Binary,h=n(104).normalizedFunctionString,v=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},g=function(e,t,n){var i=5;if(Array.isArray(e))for(var r=0;r<e.length;r++)i+=y(r.toString(),e[r],t,!0,n);else for(var o in e.toBSON&&(e=e.toBSON()),e)i+=y(o,e[o],t,!1,n);return i};function y(e,t,n,y,x){switch(t&&t.toBSON&&(t=t.toBSON()),typeof t){case\"string\":return 1+Buffer.byteLength(e,\"utf8\")+1+4+Buffer.byteLength(t,\"utf8\")+1;case\"number\":return Math.floor(t)===t&&t>=b.JS_INT_MIN&&t<=b.JS_INT_MAX&&t>=b.BSON_INT32_MIN&&t<=b.BSON_INT32_MAX?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+5:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;case\"undefined\":return y||!x?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1:0;case\"boolean\":return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+2;case\"object\":if(null==t||t instanceof u||t instanceof d||\"MinKey\"===t._bsontype||\"MaxKey\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1;if(t instanceof s||\"ObjectID\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+13;if(t instanceof Date||v(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(\"undefined\"!=typeof Buffer&&Buffer.isBuffer(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+6+t.length;if(t instanceof i||t instanceof r||t instanceof o||\"Long\"===t._bsontype||\"Double\"===t._bsontype||\"Timestamp\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(t instanceof p||\"Decimal128\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+17;if(t instanceof l||\"Code\"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1+g(t.scope,n,x):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1;if(t instanceof m||\"Binary\"===t._bsontype)return t.sub_type===m.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1);if(t instanceof a||\"Symbol\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+Buffer.byteLength(t.value,\"utf8\")+4+1+1;if(t instanceof f||\"DBRef\"===t._bsontype){var w={$ref:t.namespace,$id:t.oid};return null!=t.db&&(w.$db=t.db),(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+g(w,n,x)}return t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:t instanceof c||\"BSONRegExp\"===t._bsontype?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.pattern,\"utf8\")+1+Buffer.byteLength(t.options,\"utf8\")+1:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+g(t,n,x)+1;case\"function\":if(t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)||\"[object RegExp]\"===String.call(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(h(t),\"utf8\")+1+g(t.scope,n,x);if(n)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(h(t),\"utf8\")+1}return 0}var b={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992};e.exports=g},function(e,t,n){\"use strict\";var i=n(7),r=n(183);e.exports=function(e,t){if(\"string\"!=typeof e||\"string\"!=typeof t)throw new TypeError(\"Expected `fromDir` and `moduleId` to be a string\");e=i.resolve(e);var n=i.join(e,\"noop.js\");try{return r._resolveFilename(t,{id:n,filename:n,paths:r._nodeModulePaths(e)})}catch(e){return null}}},function(e,t){e.exports=require(\"module\")},function(e,t){var n;t=e.exports=W,n=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(\"SEMVER\"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION=\"2.0.0\";var i=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],a=0,c=a++;s[c]=\"0|[1-9]\\\\d*\";var l=a++;s[l]=\"[0-9]+\";var p=a++;s[p]=\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";var u=a++;s[u]=\"(\"+s[c]+\")\\\\.(\"+s[c]+\")\\\\.(\"+s[c]+\")\";var d=a++;s[d]=\"(\"+s[l]+\")\\\\.(\"+s[l]+\")\\\\.(\"+s[l]+\")\";var f=a++;s[f]=\"(?:\"+s[c]+\"|\"+s[p]+\")\";var m=a++;s[m]=\"(?:\"+s[l]+\"|\"+s[p]+\")\";var h=a++;s[h]=\"(?:-(\"+s[f]+\"(?:\\\\.\"+s[f]+\")*))\";var v=a++;s[v]=\"(?:-?(\"+s[m]+\"(?:\\\\.\"+s[m]+\")*))\";var g=a++;s[g]=\"[0-9A-Za-z-]+\";var y=a++;s[y]=\"(?:\\\\+(\"+s[g]+\"(?:\\\\.\"+s[g]+\")*))\";var b=a++,x=\"v?\"+s[u]+s[h]+\"?\"+s[y]+\"?\";s[b]=\"^\"+x+\"$\";var w=\"[v=\\\\s]*\"+s[d]+s[v]+\"?\"+s[y]+\"?\",S=a++;s[S]=\"^\"+w+\"$\";var k=a++;s[k]=\"((?:<|>)?=?)\";var O=a++;s[O]=s[l]+\"|x|X|\\\\*\";var E=a++;s[E]=s[c]+\"|x|X|\\\\*\";var C=a++;s[C]=\"[v=\\\\s]*(\"+s[E]+\")(?:\\\\.(\"+s[E]+\")(?:\\\\.(\"+s[E]+\")(?:\"+s[h]+\")?\"+s[y]+\"?)?)?\";var _=a++;s[_]=\"[v=\\\\s]*(\"+s[O]+\")(?:\\\\.(\"+s[O]+\")(?:\\\\.(\"+s[O]+\")(?:\"+s[v]+\")?\"+s[y]+\"?)?)?\";var I=a++;s[I]=\"^\"+s[k]+\"\\\\s*\"+s[C]+\"$\";var T=a++;s[T]=\"^\"+s[k]+\"\\\\s*\"+s[_]+\"$\";var N=a++;s[N]=\"(?:^|[^\\\\d])(\\\\d{1,16})(?:\\\\.(\\\\d{1,16}))?(?:\\\\.(\\\\d{1,16}))?(?:$|[^\\\\d])\";var A=a++;s[A]=\"(?:~>?)\";var M=a++;s[M]=\"(\\\\s*)\"+s[A]+\"\\\\s+\",o[M]=new RegExp(s[M],\"g\");var B=a++;s[B]=\"^\"+s[A]+s[C]+\"$\";var j=a++;s[j]=\"^\"+s[A]+s[_]+\"$\";var P=a++;s[P]=\"(?:\\\\^)\";var D=a++;s[D]=\"(\\\\s*)\"+s[P]+\"\\\\s+\",o[D]=new RegExp(s[D],\"g\");var R=a++;s[R]=\"^\"+s[P]+s[C]+\"$\";var L=a++;s[L]=\"^\"+s[P]+s[_]+\"$\";var z=a++;s[z]=\"^\"+s[k]+\"\\\\s*(\"+w+\")$|^$\";var q=a++;s[q]=\"^\"+s[k]+\"\\\\s*(\"+x+\")$|^$\";var U=a++;s[U]=\"(\\\\s*)\"+s[k]+\"\\\\s*(\"+w+\"|\"+s[C]+\")\",o[U]=new RegExp(s[U],\"g\");var K=a++;s[K]=\"^\\\\s*(\"+s[C]+\")\\\\s+-\\\\s+(\"+s[C]+\")\\\\s*$\";var F=a++;s[F]=\"^\\\\s*(\"+s[_]+\")\\\\s+-\\\\s+(\"+s[_]+\")\\\\s*$\";var H=a++;s[H]=\"(<|>)?=?\\\\s*\\\\*\";for(var $=0;$<a;$++)n($,s[$]),o[$]||(o[$]=new RegExp(s[$]));function V(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if(\"string\"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?o[S]:o[b]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(\"Invalid Version: \"+e);if(e.length>i)throw new TypeError(\"version is longer than \"+i+\" characters\");if(!(this instanceof W))return new W(e,t);n(\"SemVer\",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[S]:o[b]);if(!s)throw new TypeError(\"Invalid Version: \"+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>r||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>r||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>r||this.patch<0)throw new TypeError(\"Invalid patch version\");s[4]?this.prerelease=s[4].split(\".\").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split(\".\"):[],this.format()}t.parse=V,t.valid=function(e,t){var n=V(e,t);return n?n.version:null},t.clean=function(e,t){var n=V(e.trim().replace(/^[=v]+/,\"\"),t);return n?n.version:null},t.SemVer=W,W.prototype.format=function(){return this.version=this.major+\".\"+this.minor+\".\"+this.patch,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n(\"SemVer.compare\",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),G(this.major,e.major)||G(this.minor,e.minor)||G(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n(\"prerelease compare\",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return G(i,r)}while(++t)},W.prototype.inc=function(e,t){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",t);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",t);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)\"number\"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(\"invalid increment argument: \"+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,i){\"string\"==typeof n&&(i=n,n=void 0);try{return new W(e,n).inc(t,i).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=V(e),i=V(t);if(n.prerelease.length||i.prerelease.length){for(var r in n)if((\"major\"===r||\"minor\"===r||\"patch\"===r)&&n[r]!==i[r])return\"pre\"+r;return\"prerelease\"}for(var r in n)if((\"major\"===r||\"minor\"===r||\"patch\"===r)&&n[r]!==i[r])return r},t.compareIdentifiers=G;var Y=/^[0-9]+$/;function G(e,t){var n=Y.test(e),i=Y.test(t);return n&&i&&(e=+e,t=+t),n&&!i?-1:i&&!n?1:e<t?-1:e>t?1:0}function Z(e,t,n){return new W(e,n).compare(new W(t,n))}function J(e,t,n){return Z(e,t,n)>0}function X(e,t,n){return Z(e,t,n)<0}function Q(e,t,n){return 0===Z(e,t,n)}function ee(e,t,n){return 0!==Z(e,t,n)}function te(e,t,n){return Z(e,t,n)>=0}function ne(e,t,n){return Z(e,t,n)<=0}function ie(e,t,n,i){var r;switch(t){case\"===\":\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),r=e===n;break;case\"!==\":\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),r=e!==n;break;case\"\":case\"=\":case\"==\":r=Q(e,n,i);break;case\"!=\":r=ee(e,n,i);break;case\">\":r=J(e,n,i);break;case\">=\":r=te(e,n,i);break;case\"<\":r=X(e,n,i);break;case\"<=\":r=ne(e,n,i);break;default:throw new TypeError(\"Invalid operator: \"+t)}return r}function re(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n(\"comparator\",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value=\"\":this.value=this.operator+this.semver.version,n(\"comp\",this)}t.rcompareIdentifiers=function(e,t){return G(t,e)},t.major=function(e,t){return new W(e,t).major},t.minor=function(e,t){return new W(e,t).minor},t.patch=function(e,t){return new W(e,t).patch},t.compare=Z,t.compareLoose=function(e,t){return Z(e,t,!0)},t.rcompare=function(e,t,n){return Z(t,e,n)},t.sort=function(e,n){return e.sort(function(e,i){return t.compare(e,i,n)})},t.rsort=function(e,n){return e.sort(function(e,i){return t.rcompare(e,i,n)})},t.gt=J,t.lt=X,t.eq=Q,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=ie,t.Comparator=re;var oe={};function se(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof re)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+e);this.format()}function ae(e){return!e||\"x\"===e.toLowerCase()||\"*\"===e}function ce(e,t,n,i,r,o,s,a,c,l,p,u,d){return((t=ae(n)?\"\":ae(i)?\">=\"+n+\".0.0\":ae(r)?\">=\"+n+\".\"+i+\".0\":\">=\"+t)+\" \"+(a=ae(c)?\"\":ae(l)?\"<\"+(+c+1)+\".0.0\":ae(p)?\"<\"+c+\".\"+(+l+1)+\".0\":u?\"<=\"+c+\".\"+l+\".\"+p+\"-\"+u:\"<=\"+a)).trim()}function le(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(i||(i={}),t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==oe&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function pe(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,i){var r,o,s,a,c;switch(e=new W(e,i),t=new se(t,i),n){case\">\":r=J,o=ne,s=X,a=\">\",c=\">=\";break;case\"<\":r=X,o=te,s=J,a=\"<\",c=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(pe(e,t,i))return!1;for(var l=0;l<t.set.length;++l){var p=null,u=null;if(t.set[l].forEach(function(e){e.semver===oe&&(e=new re(\">=0.0.0\")),p=p||e,u=u||e,r(e.semver,p.semver,i)?p=e:s(e.semver,u.semver,i)&&(u=e)}),p.operator===a||p.operator===c)return!1;if((!u.operator||u.operator===a)&&o(e,u.semver))return!1;if(u.operator===c&&s(e,u.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?o[z]:o[q],n=e.match(t);if(!n)throw new TypeError(\"Invalid comparator: \"+e);this.operator=n[1],\"=\"===this.operator&&(this.operator=\"\"),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=oe},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n(\"Comparator.test\",e,this.options.loose),this.semver===oe||(\"string\"==typeof e&&(e=new W(e,this.options)),ie(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError(\"a Comparator is required\");var n;if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),\"\"===this.operator)return n=new se(e.value,t),pe(this.value,n,t);if(\"\"===e.operator)return n=new se(this.value,t),pe(e.semver,n,t);var i=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),r=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),o=this.semver.version===e.semver.version,s=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=ie(this.semver,\"<\",e.semver,t)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),c=ie(this.semver,\">\",e.semver,t)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return i||r||o&&s||a||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(\" \").trim()}).join(\"||\").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?o[F]:o[K];e=e.replace(i,ce),n(\"hyphen replace\",e),e=e.replace(o[U],\"$1$2$3\"),n(\"comparator trim\",e,o[U]),e=(e=(e=e.replace(o[M],\"$1~\")).replace(o[D],\"$1^\")).split(/\\s+/).join(\" \");var r=t?o[z]:o[q],s=e.split(\" \").map(function(e){return function(e,t){return n(\"comp\",e,t),e=function(e,t){return e.trim().split(/\\s+/).map(function(e){return function(e,t){n(\"caret\",e,t),t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?o[L]:o[R];return e.replace(i,function(t,i,r,o,s){var a;return n(\"caret\",e,t,i,r,o,s),ae(i)?a=\"\":ae(r)?a=\">=\"+i+\".0.0 <\"+(+i+1)+\".0.0\":ae(o)?a=\"0\"===i?\">=\"+i+\".\"+r+\".0 <\"+i+\".\"+(+r+1)+\".0\":\">=\"+i+\".\"+r+\".0 <\"+(+i+1)+\".0.0\":s?(n(\"replaceCaret pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\"0\"===i?\"0\"===r?\">=\"+i+\".\"+r+\".\"+o+s+\" <\"+i+\".\"+r+\".\"+(+o+1):\">=\"+i+\".\"+r+\".\"+o+s+\" <\"+i+\".\"+(+r+1)+\".0\":\">=\"+i+\".\"+r+\".\"+o+s+\" <\"+(+i+1)+\".0.0\"):(n(\"no pr\"),a=\"0\"===i?\"0\"===r?\">=\"+i+\".\"+r+\".\"+o+\" <\"+i+\".\"+r+\".\"+(+o+1):\">=\"+i+\".\"+r+\".\"+o+\" <\"+i+\".\"+(+r+1)+\".0\":\">=\"+i+\".\"+r+\".\"+o+\" <\"+(+i+1)+\".0.0\"),n(\"caret return\",a),a})}(e,t)}).join(\" \")}(e,t),n(\"caret\",e),e=function(e,t){return e.trim().split(/\\s+/).map(function(e){return function(e,t){t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?o[j]:o[B];return e.replace(i,function(t,i,r,o,s){var a;return n(\"tilde\",e,t,i,r,o,s),ae(i)?a=\"\":ae(r)?a=\">=\"+i+\".0.0 <\"+(+i+1)+\".0.0\":ae(o)?a=\">=\"+i+\".\"+r+\".0 <\"+i+\".\"+(+r+1)+\".0\":s?(n(\"replaceTilde pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\">=\"+i+\".\"+r+\".\"+o+s+\" <\"+i+\".\"+(+r+1)+\".0\"):a=\">=\"+i+\".\"+r+\".\"+o+\" <\"+i+\".\"+(+r+1)+\".0\",n(\"tilde return\",a),a})}(e,t)}).join(\" \")}(e,t),n(\"tildes\",e),e=function(e,t){return n(\"replaceXRanges\",e,t),e.split(/\\s+/).map(function(e){return function(e,t){e=e.trim(),t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?o[T]:o[I];return e.replace(i,function(t,i,r,o,s,a){n(\"xRange\",e,t,i,r,o,s,a);var c=ae(r),l=c||ae(o),p=l||ae(s),u=p;return\"=\"===i&&u&&(i=\"\"),c?t=\">\"===i||\"<\"===i?\"<0.0.0\":\"*\":i&&u?(l&&(o=0),p&&(s=0),\">\"===i?(i=\">=\",l?(r=+r+1,o=0,s=0):p&&(o=+o+1,s=0)):\"<=\"===i&&(i=\"<\",l?r=+r+1:o=+o+1),t=i+r+\".\"+o+\".\"+s):l?t=\">=\"+r+\".0.0 <\"+(+r+1)+\".0.0\":p&&(t=\">=\"+r+\".\"+o+\".0 <\"+r+\".\"+(+o+1)+\".0\"),n(\"xRange return\",t),t})}(e,t)}).join(\" \")}(e,t),n(\"xrange\",e),e=function(e,t){return n(\"replaceStars\",e,t),e.trim().replace(o[H],\"\")}(e,t),n(\"stars\",e),e}(e,this.options)},this).join(\" \").split(/\\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(r)})),s=s.map(function(e){return new re(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError(\"a Range is required\");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(\" \").trim().split(\" \")})},se.prototype.test=function(e){if(!e)return!1;\"string\"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=pe,t.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(i&&-1!==r.compare(e)||(r=new W(i=e,n)))}),i},t.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(i&&1!==r.compare(e)||(r=new W(i=e,n)))}),i},t.validRange=function(e,t){try{return new se(e,t).range||\"*\"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,\"<\",n)},t.gtr=function(e,t,n){return ue(e,t,\">\",n)},t.outside=ue,t.prerelease=function(e,t){var n=V(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof W)return e;if(\"string\"!=typeof e)return null;var t=e.match(o[N]);return null==t?null:V((t[1]||\"0\")+\".\"+(t[2]||\"0\")+\".\"+(t[3]||\"0\"))}},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(3).EventEmitter,o=n(105),s=n(4),a=n(21),c=n(0).format,l=n(5).Query,p=n(106),u=n(53).assign,d=n(54),f=n(55),m=n(56),h=n(57),v=n(71),g=n(58),y=\"disconnected\",b=\"connecting\",x=\"connected\",w=\"destroying\",S=\"destroyed\",k=0,O=function(e){if(r.call(this),this.options=u({host:\"localhost\",port:27017,size:5,connectionTimeout:3e4,socketTimeout:36e4,keepAlive:!0,keepAliveInitialDelay:3e5,noDelay:!0,ssl:!1,checkServerIdentity:!0,ca:null,crl:null,cert:null,key:null,passPhrase:null,rejectUnauthorized:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,reconnect:!0,reconnectInterval:1e3,reconnectTries:30,domainsEnabled:!1},e),this.id=k++,this.retriesLeft=this.options.reconnectTries,this.reconnectId=null,!e.bson||e.bson&&(\"function\"!=typeof e.bson.serialize||\"function\"!=typeof e.bson.deserialize))throw new Error(\"must pass in valid bson parser\");this.logger=a(\"Pool\",e),this.state=y,this.availableConnections=[],this.inUseConnections=[],this.connectingConnections=[],this.executing=!1,this.queue=[],this.authProviders=e.authProviders||{mongocr:new d(e.bson),x509:new f(e.bson),plain:new m(e.bson),gssapi:new h(e.bson),sspi:new v(e.bson),\"scram-sha-1\":new g(e.bson)},this.reconnectConnection=null,this.authenticating=!1,this.loggingout=!1,this.nonAuthenticatedConnections=[],this.authenticatingTimestamp=null,this.numberOfConsecutiveTimeouts=0,this.connectionIndex=0};function E(e,t){var n={disconnected:[b,w,y],connecting:[b,w,x,y],connected:[x,y,w],destroying:[w,S],destroyed:[S]}[e.state];n&&-1!=n.indexOf(t)?e.state=t:e.logger.error(c(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}function C(e,t,n,i){if(void 0===t[0])return i(null);var r=t[0],o=t[1];if(!e.authProviders[r])throw new s(c(\"authMechanism %s not supported\",r));var a=e.authProviders[r];a.auth.apply(a,[_(e),[n],o].concat(t.slice(2)).concat([i]))}function _(e){return function(t,n,i){if(e.state==S||e.state==w)return i(new s(\"pool destroyed\"));t.workItems.push({cb:i,command:!0,requestId:n.requestId}),t.write(n.toBin())}}function I(e,t,n){!function e(t,n,i,r){if(0==i.length)return r();t.authProviders[i.pop()].reauthenticate(_(t),[n],function(o){if(o)return r(o);e(t,n,i,r)})}(e,t,Object.keys(e.authProviders),n)}function T(e,t){return function(n){if(!this._connectionFailHandled){for(this._connectionFailHandled=!0,this.destroy(),D(e,this);this.workItems.length>0;){var i=this.workItems.shift();i.cb&&i.cb(n)}if(\"timeout\"==t&&(e.numberOfConsecutiveTimeouts=e.numberOfConsecutiveTimeouts+1,e.numberOfConsecutiveTimeouts>e.options.reconnectTries))return e.numberOfConsecutiveTimeouts=0,e.destroy(!0),e.emit(\"close\",e);0==e.socketCount()&&(e.state!=S&&e.state!=w&&E(e,y),t=\"error\"==t?\"close\":t,e.emit(t,n)),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(N(e),e.options.reconnectInterval))}}}function N(e){return function(){function t(e,t){return function(){this._connectionFailHandled||(this._connectionFailHandled=!0,this.destroy(),e.retriesLeft=e.retriesLeft-1,0==e.retriesLeft?(e.destroy(),e.emit(\"reconnectFailed\",new s(c(\"failed to reconnect after %s attempts with interval %s ms\",e.options.reconnectTries,e.options.reconnectInterval)))):e.reconnectId=setTimeout(N(e),e.options.reconnectInterval))}}e.emit(\"attemptReconnect\",e),e.state!=S&&e.state!=w&&(e.isConnected()?e.reconnectId=null:(e.reconnectConnection=new o(M(e),e.options),e.reconnectConnection.on(\"close\",t(e)),e.reconnectConnection.on(\"error\",t(e)),e.reconnectConnection.on(\"timeout\",t(e)),e.reconnectConnection.on(\"parseError\",t(e)),e.reconnectConnection.on(\"connect\",function(e){return function(){var t=this;if(e.state==S||e.state==w)return t.destroy();R.forEach(function(e){t.removeAllListeners(e)}),e.reconnectId=null,t.on(\"error\",T(e,\"error\")),t.on(\"close\",T(e,\"close\")),t.on(\"timeout\",T(e,\"timeout\")),t.on(\"parseError\",T(e,\"parseError\")),I(e,this,function(){e.retriesLeft=e.options.reconnectTries,e.availableConnections.push(t),e.reconnectConnection=null,e.emit(\"reconnect\",e),q(e)()})}}(e)),e.reconnectConnection.connect()))}}function A(e,t,n){var i=t.indexOf(e);-1!=i&&(t.splice(i,1),n.push(e))}function M(e){return function(t,n){for(var i=null,r=0;r<n.workItems.length;r++)n.workItems[r].requestId==t.responseTo&&(i=n.workItems[r],n.workItems.splice(r,1));function o(e,t,n,i){if(!e.options.domainsEnabled)return process.nextTick(function(){return t(n,i)});t(n,i)}e.numberOfConsecutiveTimeouts=0,i.socketTimeout&&n.resetSocketTimeout(),e.logger.isDebug()&&e.logger.debug(c(\"message [%s] received from %s:%s\",t.raw.toString(\"hex\"),e.options.host,e.options.port)),function(e,t,n){var i=e.nonAuthenticatedConnections.slice(0),r=e.nonAuthenticatedConnections;if(e.nonAuthenticatedConnections=[],1==t.workItems.length&&(1==t.workItems[0].authenticating||\"number\"==typeof t.workItems[0].authenticatingTimestamp&&t.workItems[0].authenticatingTimestamp!=e.authenticatingTimestamp)&&i.push(t),0==i.length)return A(t,e.inUseConnections,e.availableConnections),n();for(var o=i.length,s=0;s<o;s++)I(e,i[s],function(){0==(o-=1)&&(e.availableConnections=e.availableConnections.concat(r),A(t,e.inUseConnections,e.availableConnections),n())})}(e,n,function(){if(e.executing||process.nextTick(function(){q(e)()}),!i.immediateRelease){try{t.parse(i)}catch(t){return o(e,i.cb,s.create(t))}if(i.command&&t.documents[0]&&(0==t.documents[0].ok||t.documents[0].$err||t.documents[0].errmsg||t.documents[0].code))return o(e,i.cb,s.create(t.documents[0]));t.hashedName=n.hashedName,o(e,i.cb,null,new p(i.fullResult?t:t.documents[0],n,t))}})}}i(O,r),Object.defineProperty(O.prototype,\"size\",{enumerable:!0,get:function(){return this.options.size}}),Object.defineProperty(O.prototype,\"connectionTimeout\",{enumerable:!0,get:function(){return this.options.connectionTimeout}}),Object.defineProperty(O.prototype,\"socketTimeout\",{enumerable:!0,get:function(){return this.options.socketTimeout}}),O.prototype.socketCount=function(){return this.availableConnections.length+this.inUseConnections.length},O.prototype.allConnections=function(){return this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections)},O.prototype.get=function(){return this.allConnections()[0]},O.prototype.isConnected=function(){if(this.state==S||this.state==w)return!1;for(var e=this.availableConnections.concat(this.inUseConnections),t=0;t<e.length;t++)if(e[t].isConnected())return!0;return!(0!=e.length||!this.authenticating)},O.prototype.isDestroyed=function(){return this.state==S||this.state==w},O.prototype.isDisconnected=function(){return this.state==y},O.prototype.connect=function(){if(this.state!=y)throw new s(\"connection in unlawful state \"+this.state);var e=this;E(this,b);var t=Array.prototype.slice.call(arguments,0),n=new o(M(e),this.options);this.connectingConnections.push(n),n.once(\"connect\",function(n){return e.state==S||e.state==w?e.destroy():e.options.inTopology?(E(e,x),A(n,e.connectingConnections,e.availableConnections),e.emit(\"connect\",e)):void I(e,n,function(i){return e.state==S||e.state==w?e.destroy():i?(e.destroy(),e.emit(\"error\",i)):void C(e,t,n,function(t){return e.state==S||e.state==w?e.destroy():t?(e.destroy(),e.emit(\"error\",t)):(E(e,x),A(n,e.connectingConnections,e.availableConnections),void e.emit(\"connect\",e))})})}),n.once(\"error\",T(this,\"error\")),n.once(\"close\",T(this,\"close\")),n.once(\"timeout\",T(this,\"timeout\")),n.once(\"parseError\",T(this,\"parseError\"));try{n.connect()}catch(t){process.nextTick(function(){e.emit(\"error\",t)})}},O.prototype.auth=function(e){var t=this,n=Array.prototype.slice.call(arguments,0),i=n.pop();if(null==t.authProviders[e]&&\"default\"!=e)throw new s(c(\"auth provider %s does not exist\",e));this.authenticating=!0,this.authenticatingTimestamp=(new Date).getTime(),function e(t,n){if(!t.loggingout)return n();setTimeout(function(){e(t,n)},1)}(t,function(){!function(e,t,n){var r=e.allConnections();e.availableConnections=[],e.inUseConnections=[],e.connectingConnections=[];var o=r.length,s=null;if(0==o)return e.authenticating=!1,i(null);for(var a=0;a<r.length;a++)C(e,t,r[a],function(t){if(o-=1,t&&(s=t),0==o){if(e.authenticating=!1,e.availableConnections=e.availableConnections.concat(r),s)return e.logger.isError()&&e.logger.error(c(\"[%s] failed to authenticate against server %s:%s\",e.id,e.options.host,e.options.port)),n(s);n(null)}})}(t,n,function(e){t.authenticating=!1,i(e)})})},O.prototype.logout=function(e,t){var n=this;if(\"string\"!=typeof e)throw new s(\"logout method requires a db name as first argument\");if(\"function\"!=typeof t)throw new s(\"logout method requires a callback\");this.loggingout=!0;for(var i=n.availableConnections.concat(n.inUseConnections),r=i.length,o=null,a=0;a<i.length;a++)_(n)(i[a],new l(this.options.bson,c(\"%s.$cmd\",e),{logout:1},{numberToSkip:0,numberToReturn:1}),function(e){r-=1,e&&(o=e),0==r&&(n.loggingout=!1,t(o))})},O.prototype.unref=function(){this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections).forEach(function(e){e.unref()})};var B=[\"error\",\"close\",\"timeout\",\"parseError\",\"connect\"];function j(e,t){t.forEach(function(e){for(var t=0;t<B.length;t++)e.removeAllListeners(B[t]);e.destroy()}),e.inUseConnections=[],e.availableConnections=[],e.nonAuthenticatedConnections=[],e.connectingConnections=[],E(e,S)}function P(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return t.splice(n,1),!0}function D(e,t){P(t,e.availableConnections)||P(t,e.inUseConnections)||P(t,e.connectingConnections)||P(t,e.nonAuthenticatedConnections)}O.prototype.destroy=function(e){var t=this;if(this.state!=S&&t.state!=w){if(E(this,w),e){for(var n=t.availableConnections.concat(t.inUseConnections).concat(t.nonAuthenticatedConnections).concat(t.connectingConnections);t.queue.length>0;){var i=t.queue.shift();\"function\"==typeof i.cb&&i.cb(new s(\"Pool was force destroyed\"))}return j(t,n)}this.reconnectId&&clearTimeout(this.reconnectId),this.reconnectConnection&&this.reconnectConnection.destroy(),function e(){if(z(t.queue),0==t.queue.length){for(var n=t.availableConnections.concat(t.inUseConnections).concat(t.nonAuthenticatedConnections).concat(t.connectingConnections),i=0;i<n.length;i++)if(n[i].workItems.length>0)return setTimeout(e,1);j(t,n)}else q(t)(),setTimeout(e,1)}()}},O.prototype.write=function(e,t,n){var i=this;if(\"function\"==typeof t&&(n=t),t=t||{},this.state!=S&&this.state!=w){if(this.options.domainsEnabled&&process.domain&&\"function\"==typeof n){var r=n;n=process.domain.bind(function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;t++)e[t]=arguments[t];process.nextTick(function(){r.apply(null,e)})})}var o={cb:n,raw:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,fullResult:!1},a=null;if(Array.isArray(e)){a=[];for(var c=0;c<e.length;c++)a.push(e[c].toBin());o.requestId=e[e.length-1].requestId}else o.requestId=e.requestId,a=e.toBin();if(o.buffer=a,o.promoteLongs=\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,o.promoteValues=\"boolean\"!=typeof t.promoteValues||t.promoteValues,o.promoteBuffers=\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers,o.raw=\"boolean\"==typeof t.raw&&t.raw,o.immediateRelease=\"boolean\"==typeof t.immediateRelease&&t.immediateRelease,o.documentsReturnedIn=t.documentsReturnedIn,o.command=\"boolean\"==typeof t.command&&t.command,o.fullResult=\"boolean\"==typeof t.fullResult&&t.fullResult,o.noResponse=\"boolean\"==typeof t.noResponse&&t.noResponse,o.socketTimeout=t.socketTimeout,o.monitoring=t.monitoring,t.socketTimeout&&(o.socketTimeout=t.socketTimeout),\"function\"!=typeof n&&!t.noResponse)throw new s(\"write method must provide a callback\");t.monitoring?this.queue.unshift(o):this.queue.push(o),i.executing||process.nextTick(function(){q(i)()})}else if(n)try{n(new s(\"pool destroyed\"))}catch(e){process.nextTick(function(){throw e})}};var R=[\"close\",\"message\",\"error\",\"timeout\",\"parseError\",\"connect\"];function L(e){if(e.state!=S&&e.state!=w){var t=new o(M(e),e.options);e.connectingConnections.push(t);var n=function(t){return function(){t.destroy(),D(e,t),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(N(e),e.options.reconnectInterval))}};t.once(\"close\",n(t)),t.once(\"error\",n(t)),t.once(\"timeout\",n(t)),t.once(\"parseError\",n(t)),t.once(\"connect\",function(t){return function(){if(e.state==S||e.state==w)return D(e,t),t.destroy();R.forEach(function(e){t.removeAllListeners(e)}),t.once(\"close\",T(e,\"close\")),t.once(\"error\",T(e,\"error\")),t.once(\"timeout\",T(e,\"timeout\")),t.once(\"parseError\",T(e,\"parseError\")),I(e,t,function(n){return e.state==S||e.state==w?t.destroy():(D(e,t),n?t.destroy():void(e.authenticating?e.nonAuthenticatedConnections.push(t):(e.availableConnections.push(t),q(e)())))})}}(t)),t.connect()}}function z(e){for(var t=0;t<e.length;t++)if(e[t].monitoring){var n=e[t];e.splice(t,1),n.cb(new s({message:\"no connection available for monitoring\",driver:!0}))}}function q(e){return function(){e.state!=S&&(e.executing||(e.executing=!0,function t(n){if(!e.authenticating)return n();setTimeout(function(){t(n)},1)}(function(){if(!(e.connectingConnections.length>0))for(;;){var t=e.availableConnections.length+e.connectingConnections.length+e.inUseConnections.length;if(0==e.availableConnections.length){z(e.queue);break}if(0==e.queue.length)break;for(var n=null,i=[],r=0;r<e.availableConnections.length;r++)0==e.availableConnections[r].workItems.length&&i.push(e.availableConnections[r]);if((n=0==i.length?e.availableConnections[e.connectionIndex++%e.availableConnections.length]:i[e.connectionIndex++%i.length]).isConnected()){var o=e.queue.shift();if(o.monitoring){var s=!1;for(r=0;r<e.availableConnections.length;r++)if(e.availableConnections[r].isConnected()&&0==e.availableConnections[r].workItems.length){s=!0,n=e.availableConnections[r];break}if(!s){e.queue.unshift(o),t<e.options.size&&e.queue.length>0&&L(e),setTimeout(function(){q(e)()},10);break}}if(t<e.options.size&&n.workItems.length>0){e.queue.unshift(o),L(e);break}var a=o.buffer;o.authenticating=e.authenticating,o.authenticatingTimestamp=e.authenticatingTimestamp,o.monitoring&&A(n,e.availableConnections,e.inUseConnections),o.noResponse||n.workItems.push(o),o.immediateRelease||\"number\"!=typeof o.socketTimeout||n.setSocketTimeout(o.socketTimeout);var c=!0;if(Array.isArray(a))for(r=0;r<a.length;r++)c=n.write(a[r]);else c=n.write(a);c&&o.immediateRelease&&e.authenticating?(D(e,n),e.nonAuthenticatedConnections.push(n)):!1===c&&(e.queue.unshift(o),D(e,n),z(e.queue))}else D(e,n),z(e.queue)}}),e.executing=!1))}}O._execute=q,e.exports=O},function(e,t,n){\"use strict\";var i=n(72).Insert,r=n(72).Update,o=n(72).Remove,s=n(8).copy,a=n(8).retrieveBSON,c=n(5).KillCursor,l=n(5).GetMore,p=n(5).Query,u=n(0).format,d=n(106),f=n(4),m=n(73).getReadPreference,h=a().Long,v=[\"w\",\"wtimeout\",\"j\",\"fsync\"],g=function(){};g.prototype.insert=function(e,t,n,r,o,s,a){var c=\"boolean\"!=typeof(s=s||{}).ordered||s.ordered;if((o=Array.isArray(o)?o:[o]).length>1e3)return a(new f(\"exceeded maximum write batch size of 1000\"));var l=s.writeConcern||{w:1};return c&&0!=l.w?k(\"insert\",i,t,n,r,e,o,s,a):O(\"insert\",i,t,n,r,e,o,s,a)},g.prototype.update=function(e,t,n,i,o,s,a){var c=\"boolean\"!=typeof(s=s||{}).ordered||s.ordered;o=Array.isArray(o)?o:[o];var l=s.writeConcern||{w:1};return c&&0!=l.w?k(\"update\",r,t,n,i,e,o,s,a):O(\"update\",r,t,n,i,e,o,s,a)},g.prototype.remove=function(e,t,n,i,r,s,a){var c=\"boolean\"!=typeof(s=s||{}).ordered||s.ordered;r=Array.isArray(r)?r:[r];var l=s.writeConcern||{w:1};return c&&0!=l.w?k(\"remove\",o,t,n,i,e,r,s,a):O(\"remove\",o,t,n,i,e,r,s,a)},g.prototype.killCursor=function(e,t,n,i,r){var o=new c(e,[n]);i&&i.isConnected()&&i.write(o,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof r&&r(null,null)},g.prototype.getMore=function(e,t,n,i,r,o,s,a){var c=new l(e,t,n.cursorId,{numberToReturn:i}),p={};r&&(p.raw=r),\"boolean\"==typeof n.promoteLongs&&(p.promoteLongs=n.promoteLongs),\"boolean\"==typeof n.promoteValues&&(p.promoteValues=n.promoteValues),\"boolean\"==typeof n.promoteBuffers&&(p.promoteBuffers=n.promoteBuffers),o.write(c,p,function(e,t){if(e)return a(e);var i=t.message;if(0!=(1&i.responseFlags))return a(new f(\"cursor does not exist, was killed or timed out\"),null);var r=\"number\"==typeof i.cursorId?h.fromNumber(i.cursorId):i.cursorId;n.documents=i.documents,n.cursorId=r,a(null,null,i.connection)})},g.prototype.command=function(e,t,n,i,r,o){if(n.find)return y(e,t,n,i,r,o);if(null==i.cursorId){if(n)return b(e,t,n,i,r,o);throw new f(u(\"command %s does not return a cursor\",JSON.stringify(n)))}};var y=function(e,t,n,i,r,o){var a=m(n,o=o||{});i.batchSize=n.batchSize||i.batchSize;var c=0;c=0==i.limit?i.batchSize:i.limit<0||i.limit<i.batchSize||i.limit>0&&0==i.batchSize?i.limit:i.batchSize;var l=i.skip||0,d={},h=!1;if(\"mongos\"==r.type&&a&&(d.$readPreference=a.toJSON(),h=!0),n.sort&&(d.orderby=n.sort,h=!0),n.hint&&(d.$hint=n.hint,h=!0),n.snapshot&&(d.$snapshot=n.snapshot,h=!0),n.returnKey&&(d.$returnKey=n.returnKey,h=!0),n.maxScan&&(d.$maxScan=n.maxScan,h=!0),n.min&&(d.$min=n.min,h=!0),n.max&&(d.$max=n.max,h=!0),n.showDiskLoc&&(d.$showDiskLoc=n.showDiskLoc,h=!0),n.comment&&(d.$comment=n.comment,h=!0),n.maxTimeMS&&(d.$maxTimeMS=n.maxTimeMS,h=!0),n.explain&&(c=-Math.abs(n.limit||0),h=!0,d.$explain=!0),h?d.$query=n.query:d=n.query,n.readConcern&&\"local\"!=n.readConcern.level)throw new f(u(\"server find command does not support a readConcern level of %s\",n.readConcern.level));n.readConcern&&delete(n=s(n)).readConcern;var v=\"boolean\"==typeof o.serializeFunctions&&o.serializeFunctions,g=\"boolean\"==typeof o.ignoreUndefined&&o.ignoreUndefined,y=new p(e,t,d,{numberToSkip:l,numberToReturn:c,checkKeys:!1,returnFieldSelector:n.fields,serializeFunctions:v,ignoreUndefined:g});return y.slaveOk=a.slaveOk(),\"boolean\"==typeof n.tailable&&(y.tailable=n.tailable),\"boolean\"==typeof n.oplogReplay&&(y.oplogReplay=n.oplogReplay),\"boolean\"==typeof n.noCursorTimeout&&(y.noCursorTimeout=n.noCursorTimeout),\"boolean\"==typeof n.awaitData&&(y.awaitData=n.awaitData),\"boolean\"==typeof n.partial&&(y.partial=n.partial),y},b=function(e,t,n,i,r,o){var s=m(n,o=o||{}),a={};for(var c in n)a[c]=n[c];var l=t.split(/\\./);if(n.readConcern&&\"local\"!=n.readConcern.level)throw new f(u(\"server %s command does not support a readConcern level of %s\",JSON.stringify(n),n.readConcern.level));n.readConcern&&delete n.readConcern;var d=\"boolean\"==typeof o.serializeFunctions&&o.serializeFunctions,h=\"boolean\"==typeof o.ignoreUndefined&&o.ignoreUndefined;\"mongos\"==r.type&&s&&\"primary\"!=s.preference&&(a={$query:a,$readPreference:s.toJSON()});var v=new p(e,u(\"%s.$cmd\",l.shift()),a,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:d,ignoreUndefined:h});return v.slaveOk=s.slaveOk(),v},x=function(e){return!(!e.w&&!e.wtimeout&&1!=e.j&&1!=e.fsync&&0!=Object.keys(e).length)},w=function(e){var t={};return null!=e.w&&(t.w=e.w),null!=e.wtimeout&&(t.wtimeout=e.wtimeout),null!=e.j&&(t.j=e.j),null!=e.fsync&&(t.fsync=e.fsync),t},S=function(e,t,n,i){var r={ok:1,n:0};\"update\"==e&&(r.nModified=0);for(var o=0;o<n.length;o++){var s=n[o],a=t[o];!s.upserted&&0!=s.updatedExisting||null!=r.upserted||(r.upserted=[]),s.upserted&&r.upserted.push({index:o,_id:s.upserted}),0==s.updatedExisting&&1==s.n&&null==s.upserted?r.upserted.push({index:o,_id:a.q._id}):1==s.updatedExisting&&(r.nModified+=s.n),1==s.ok&&\"insert\"==e&&null==s.err&&(r.n=r.n+1),null!=s&&0==s.ok||s.err||s.errmsg?(0==s.ok&&(r.ok=0),r.code=s.code,r.errmsg=s.errmsg||s.err||s.errMsg,11e3==s.code||11001==s.code||12582==s.code||16544==s.code||16538==s.code||16542==s.code||14==s.code||13511==s.code?(null==r.writeErrors&&(r.writeErrors=[]),r.writeErrors.push({index:o,code:s.code,errmsg:s.errmsg||s.err||s.errMsg})):r.writeConcernError={code:s.code,errmsg:s.errmsg||s.err||s.errMsg}):\"number\"==typeof s.n?r.n+=s.n:r.n+=1,null!=s&&s.lastOp&&(r.lastOp=s.lastOp)}return new d(r,i)},k=function(e,t,n,i,r,o,s,a,c){var l=s.slice(0),d=[],f=function(l,m){if(0==l.length)return process.nextTick(function(){m(null,S(e,s,d,null))});var h=l.shift(),g=new t(p.getRequestId(),n,r,i,[h],a),y=a.writeConcern||{w:1},b=w(y),x=i.split(\".\").shift();try{for(var k=[g],O={getlasterror:1},E=0;E<v.length;E++)null!=b[v[E]]&&(O[v[E]]=b[v[E]]);var C=new p(r,u(\"%s.$cmd\",x),O,{numberToReturn:-1});k.push(C);o.write(k,function(t,n){if(t)return c(t);var i=n.result;if(d.push(i),0==i.ok||i.err||i.errmsg)return c(null,S(e,s,d,n.connection));f(l,c)})}catch(t){d.push({ok:1,errmsg:\"string\"==typeof t?t:t.message,code:14}),process.nextTick(function(){m(null,S(e,s,d,null))})}};f(l,c)},O=function(e,t,n,i,r,o,s,a,c){for(var l,f=s.length,m=[],h=a.writeConcern||{w:1},g=w(h),y=0;y<s.length;y++){var b=new t(p.getRequestId(),n,r,i,[s[y]],a),k=i.split(\".\").shift();try{var O=[b];if(x(g)){for(var E={getlasterror:1},C=0;C<v.length;C++)null!=g[v[C]]&&(E[v[C]]=g[v[C]]);var _=new p(r,u(\"%s.$cmd\",k),E,{numberToReturn:-1});O.push(_);o.write(O,function(t){return function(n,i){n&&(l=n),f-=1,n||(m[t]=i.result),0==f&&process.nextTick(function(){if(l)return c(l);c(null,S(e,s,m,i.connection))})}}(y))}else o.write(O,{immediateRelease:!0,noResponse:!0})}catch(t){f-=1,m[y]={ok:1,errmsg:\"string\"==typeof t?t:t.message,code:14},0==f&&c(null,S(e,s,m,null))}}g&&0==g.w&&c&&c(null,new d({ok:1},null))};e.exports=g},function(e,t,n){\"use strict\";var i=n(8).copy,r=n(8).retrieveBSON,o=n(5).KillCursor,s=n(5).GetMore,a=n(5).Query,c=n(0).format,l=n(4),p=n(73).getReadPreference,u=r().Long,d=function(){},f=function(e,t,n,i,r,o,s,p){if(0==o.length)throw new l(\"insert must contain at least one document\");\"function\"==typeof s&&(p=s,s=(s={})||{});var u=r.split(\".\"),d=u.shift(),f=\"boolean\"!=typeof s.ordered||s.ordered,m=s.writeConcern,h={};h[n]=u.join(\".\"),h[i]=o,h.ordered=f,m&&Object.keys(m).length>0&&(h.writeConcern=m),\"boolean\"==typeof s.bypassDocumentValidation&&(h.bypassDocumentValidation=s.bypassDocumentValidation);var v={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==n&&(v.checkKeys=!0),\"boolean\"==typeof s.checkKeys&&(v.checkKeys=s.checkKeys),s.serializeFunctions&&(v.serializeFunctions=s.serializeFunctions),s.ignoreUndefined&&(v.ignoreUndefined=s.ignoreUndefined);try{var g=new a(t,c(\"%s.$cmd\",d),h,v);e.write(g,{command:!0},p)}catch(e){p(e)}};d.prototype.insert=function(e,t,n,i,r,o,s){f(e,i,\"insert\",\"documents\",n,r,o,s)},d.prototype.update=function(e,t,n,i,r,o,s){f(e,i,\"update\",\"updates\",n,r,o,s)},d.prototype.remove=function(e,t,n,i,r,o,s){f(e,i,\"delete\",\"deletes\",n,r,o,s)},d.prototype.killCursor=function(e,t,n,i,r){var s=new o(e,[n]);i&&i.isConnected()&&i.write(s,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof r&&r(null,null)},d.prototype.getMore=function(e,t,n,i,r,o,a,c){var p=new s(e,t,n.cursorId,{numberToReturn:i}),d={};r&&(d.raw=r),\"boolean\"==typeof n.promoteLongs&&(d.promoteLongs=n.promoteLongs),\"boolean\"==typeof n.promoteValues&&(d.promoteValues=n.promoteValues),\"boolean\"==typeof n.promoteBuffers&&(d.promoteBuffers=n.promoteBuffers),o.write(p,d,function(e,t){if(e)return c(e);var i=t.message;if(0!=(1&i.responseFlags))return c(new l(\"cursor does not exist, was killed or timed out\"),null);var r=\"number\"==typeof i.cursorId?u.fromNumber(i.cursorId):i.cursorId;n.documents=i.documents,n.cursorId=r,c(null,null,i.connection)})},d.prototype.command=function(e,t,n,i,r,o){if(n.find)return m(e,t,n,i,r,o);if(null==i.cursorId){if(n)return h(e,t,n,i,r,o);throw new l(c(\"command %s does not return a cursor\",JSON.stringify(n)))}};var m=function(e,t,n,r,o,s){var u=p(n,s=s||{});r.batchSize=n.batchSize||r.batchSize;var d=0;d=0==r.limit?r.batchSize:r.limit<0||r.limit<r.batchSize||r.limit>0&&0==r.batchSize?r.limit:r.batchSize;var f=r.skip||0,m={},h=!1;if(\"mongos\"==o.type&&u&&(m.$readPreference=u.toJSON(),h=!0),n.sort&&(m.orderby=n.sort,h=!0),n.hint&&(m.$hint=n.hint,h=!0),n.snapshot&&(m.$snapshot=n.snapshot,h=!0),n.returnKey&&(m.$returnKey=n.returnKey,h=!0),n.maxScan&&(m.$maxScan=n.maxScan,h=!0),n.min&&(m.$min=n.min,h=!0),n.max&&(m.$max=n.max,h=!0),n.showDiskLoc&&(m.$showDiskLoc=n.showDiskLoc,h=!0),n.comment&&(m.$comment=n.comment,h=!0),n.maxTimeMS&&(m.$maxTimeMS=n.maxTimeMS,h=!0),n.explain&&(d=-Math.abs(n.limit||0),h=!0,m.$explain=!0),h?m.$query=n.query:m=n.query,n.readConcern&&\"local\"!=n.readConcern.level)throw new l(c(\"server find command does not support a readConcern level of %s\",n.readConcern.level));n.readConcern&&delete(n=i(n)).readConcern;var v=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,g=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined,y=new a(e,t,m,{numberToSkip:f,numberToReturn:d,checkKeys:!1,returnFieldSelector:n.fields,serializeFunctions:v,ignoreUndefined:g});return y.slaveOk=u.slaveOk(),\"boolean\"==typeof n.tailable&&(y.tailable=n.tailable),\"boolean\"==typeof n.oplogReplay&&(y.oplogReplay=n.oplogReplay),\"boolean\"==typeof n.noCursorTimeout&&(y.noCursorTimeout=n.noCursorTimeout),\"boolean\"==typeof n.awaitData&&(y.awaitData=n.awaitData),\"boolean\"==typeof n.partial&&(y.partial=n.partial),y},h=function(e,t,n,i,r,o){var s=p(n,o=o||{}),u={};for(var d in n)u[d]=n[d];var f=t.split(/\\./),m=\"boolean\"==typeof o.serializeFunctions&&o.serializeFunctions,h=\"boolean\"==typeof o.ignoreUndefined&&o.ignoreUndefined;if(n.readConcern&&\"local\"!=n.readConcern.level)throw new l(c(\"server %s command does not support a readConcern level of %s\",JSON.stringify(n),n.readConcern.level));n.readConcern&&delete n.readConcern,\"mongos\"==r.type&&s&&\"primary\"!=s.preference&&(u={$query:u,$readPreference:s.toJSON()});var v=new a(e,c(\"%s.$cmd\",f.shift()),u,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:m,ignoreUndefined:h});return v.slaveOk=s.slaveOk(),v};e.exports=d},function(e,t,n){\"use strict\";var i=n(5).Query,r=n(8).retrieveBSON,o=n(0).format,s=n(4),a=n(73).getReadPreference,c=r().Long,l=function(e){this.legacyWireProtocol=e},p=function(e,t,n,r,a,c,l,p){if(0==c.length)throw new s(\"insert must contain at least one document\");\"function\"==typeof l&&(p=l,l=(l={})||{});var u=a.split(\".\"),d=u.shift(),f=\"boolean\"!=typeof l.ordered||l.ordered,m=l.writeConcern,h={};if(h[n]=u.join(\".\"),h[r]=c,h.ordered=f,m&&Object.keys(m).length>0&&(h.writeConcern=m),l.collation)for(var v=0;v<h[r].length;v++)h[r][v].collation||(h[r][v].collation=l.collation);\"boolean\"==typeof l.bypassDocumentValidation&&(h.bypassDocumentValidation=l.bypassDocumentValidation);var g={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==n&&(g.checkKeys=!0),\"boolean\"==typeof l.checkKeys&&(g.checkKeys=l.checkKeys),l.serializeFunctions&&(g.serializeFunctions=l.serializeFunctions),l.ignoreUndefined&&(g.ignoreUndefined=l.ignoreUndefined);try{var y=new i(t,o(\"%s.$cmd\",d),h,g);e.write(y,{command:!0},p)}catch(e){p(e)}};l.prototype.insert=function(e,t,n,i,r,o,s){p(e,i,\"insert\",\"documents\",n,r,o,s)},l.prototype.update=function(e,t,n,i,r,o,s){p(e,i,\"update\",\"updates\",n,r,o,s)},l.prototype.remove=function(e,t,n,i,r,o,s){p(e,i,\"delete\",\"deletes\",n,r,o,s)},l.prototype.killCursor=function(e,t,n,r,a){var c=t.split(/\\./),l=o(\"%s.$cmd\",c.shift()),p={killCursors:c.join(\".\"),cursors:[n]},u=new i(e,l,p,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});u.slaveOk=!0;r&&r.isConnected()&&r.write(u,{command:!0},function(e,t){if(e){if(\"function\"!=typeof a)return;return a(e)}var i=t.message;if(0!=(1&i.responseFlags)){if(\"function\"!=typeof a)return;return a(new s(\"cursor killed or timed out\"),null)}if(!Array.isArray(i.documents)||0==i.documents.length){if(\"function\"!=typeof a)return;return a(new s(o(\"invalid killCursors result returned for cursor id %s\",n)))}\"function\"==typeof a&&a(null,i.documents[0])})},l.prototype.getMore=function(e,t,n,r,a,l,p,u){p=p||{};var d=t.split(/\\./),f=o(\"%s.$cmd\",d.shift()),m={getMore:n.cursorId,collection:d.join(\".\"),batchSize:Math.abs(r)};n.cmd.tailable&&\"number\"==typeof n.cmd.maxAwaitTimeMS&&(m.maxTimeMS=n.cmd.maxAwaitTimeMS);var h=new i(e,f,m,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});h.slaveOk=!0;var v={command:!0};a&&(v.raw=a),v.documentsReturnedIn=\"nextBatch\",\"boolean\"==typeof n.promoteLongs&&(v.promoteLongs=n.promoteLongs),\"boolean\"==typeof n.promoteValues&&(v.promoteValues=n.promoteValues),\"boolean\"==typeof n.promoteBuffers&&(v.promoteBuffers=n.promoteBuffers),l.write(h,v,function(e,t){if(e)return u(e);var i=t.message;if(0!=(1&i.responseFlags))return u(new s(\"cursor killed or timed out\"),null);if(a)return n.documents=i.documents,n.cursorId=i.cursorId,u(null,i.documents);if(0==i.documents[0].ok)return u(s.create(i.documents[0]));var r=\"number\"==typeof i.documents[0].cursor.id?c.fromNumber(i.documents[0].cursor.id):i.documents[0].cursor.id;n.documents=i.documents[0].cursor.nextBatch,n.cursorId=r,u(null,i.documents[0],i.connection)})},l.prototype.command=function(e,t,n,i,r,a){var c=\"boolean\"!=typeof(a=a||{}).wireProtocolCommand||a.wireProtocolCommand;if(n.find&&c){var l=u(e,t,n,i,r,a);return n.virtual=!1,l.documentsReturnedIn=\"firstBatch\",l}if(null==i.cursorId){if(n)return d(e,t,n,i,r,a);throw new s(o(\"command %s does not return a cursor\",JSON.stringify(n)))}};var u=function(e,t,n,r,s,c){var l=a(n,c=c||{});r.batchSize=n.batchSize||r.batchSize;var p=t.split(/\\./),u=o(\"%s.$cmd\",p.shift()),d={find:p.join(\".\")};n.query&&(n.query.$query?d.filter=n.query.$query:d.filter=n.query);var f=n.sort;if(Array.isArray(f)){var m={};if(f.length>0&&!Array.isArray(f[0])){var h=f[1];\"asc\"==h?h=1:\"desc\"==h&&(h=-1),m[f[0]]=h}else for(var v=0;v<f.length;v++)\"asc\"==(h=f[v][1])?h=1:\"desc\"==h&&(h=-1),m[f[v][0]]=h;f=m}n.sort&&(d.sort=f),n.fields&&(d.projection=n.fields),n.hint&&(d.hint=n.hint),n.skip&&(d.skip=n.skip),n.limit&&(d.limit=n.limit),n.limit<0&&(d.limit=Math.abs(n.limit),d.singleBatch=!0),\"number\"==typeof n.batchSize&&(n.batchSize<0&&(0!=n.limit&&Math.abs(n.batchSize)<Math.abs(n.limit)&&(d.limit=Math.abs(n.batchSize)),d.singleBatch=!0),d.batchSize=Math.abs(n.batchSize)),n.comment&&(d.comment=n.comment),n.maxScan&&(d.maxScan=n.maxScan),n.maxTimeMS&&(d.maxTimeMS=n.maxTimeMS),n.min&&(d.min=n.min),n.max&&(d.max=n.max),n.returnKey&&(d.returnKey=n.returnKey),n.showDiskLoc&&(d.showRecordId=n.showDiskLoc),n.snapshot&&(d.snapshot=n.snapshot),n.tailable&&(d.tailable=n.tailable),n.oplogReplay&&(d.oplogReplay=n.oplogReplay),n.noCursorTimeout&&(d.noCursorTimeout=n.noCursorTimeout),n.awaitData&&(d.awaitData=n.awaitData),n.awaitdata&&(d.awaitData=n.awaitdata),n.partial&&(d.partial=n.partial),n.collation&&(d.collation=n.collation),n.explain&&(d={explain:d}),n.readConcern&&(d.readConcern=n.readConcern);var g=\"boolean\"==typeof c.serializeFunctions&&c.serializeFunctions,y=\"boolean\"==typeof c.ignoreUndefined&&c.ignoreUndefined;\"mongos\"==s.type&&l&&\"primary\"!=l.preference&&(d={$query:d,$readPreference:l.toJSON()});var b=new i(e,u,d,{numberToSkip:0,numberToReturn:1,checkKeys:!1,returnFieldSelector:null,serializeFunctions:g,ignoreUndefined:y});return b.slaveOk=l.slaveOk(),b},d=function(e,t,n,r,s,c){var l=a(n,c=c||{}),p={};for(var u in n)p[u]=n[u];var d=t.split(/\\./),f=\"boolean\"==typeof c.serializeFunctions&&c.serializeFunctions,m=\"boolean\"==typeof c.ignoreUndefined&&c.ignoreUndefined;\"mongos\"==s.type&&l&&\"primary\"!=l.preference&&(p={$query:p,$readPreference:l.toJSON()});var h=new i(e,o(\"%s.$cmd\",d.shift()),p,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:f,ignoreUndefined:m});return h.slaveOk=l.slaveOk(),h};e.exports=l},function(e){e.exports={_from:\"mongodb-core@2.1.20\",_id:\"mongodb-core@2.1.20\",_inBundle:!1,_integrity:\"sha512-IN57CX5/Q1bhDq6ShAR6gIv4koFsZP7L8WOK1S0lR0pVDQaScffSMV5jxubLsmZ7J+UdqmykKw4r9hG3XQEGgQ==\",_location:\"/mongodb-core\",_phantomChildren:{},_requested:{type:\"version\",registry:!0,raw:\"mongodb-core@2.1.20\",name:\"mongodb-core\",escapedName:\"mongodb-core\",rawSpec:\"2.1.20\",saveSpec:null,fetchSpec:\"2.1.20\"},_requiredBy:[\"/mongodb\"],_resolved:\"https://registry.npmjs.org/mongodb-core/-/mongodb-core-2.1.20.tgz\",_shasum:\"fece8dd76b59ee7d7f2d313b65322c160492d8f1\",_spec:\"mongodb-core@2.1.20\",_where:\"/Users/takodaregister/Development/LAMBDA/node_modules/mongodb\",author:{name:\"Christian Kvalheim\"},bugs:{url:\"https://github.com/christkv/mongodb-core/issues\"},bundleDependencies:!1,dependencies:{bson:\"~1.0.4\",require_optional:\"~1.0.0\"},deprecated:!1,description:\"Core MongoDB driver functionality, no bells and whistles and meant for integration not end applications\",devDependencies:{co:\"^4.5.4\",\"conventional-changelog-cli\":\"^1.3.5\",coveralls:\"^2.11.6\",\"es6-promise\":\"^3.0.2\",gleak:\"0.5.0\",integra:\"0.1.8\",jsdoc:\"3.3.0-alpha8\",mkdirp:\"0.5.0\",\"mongodb-topology-manager\":\"1.0.x\",\"mongodb-version-manager\":\"github:christkv/mongodb-version-manager#master\",nyc:\"^5.5.0\",optimist:\"latest\",request:\"2.65.0\",rimraf:\"2.2.6\",semver:\"4.1.0\"},homepage:\"https://github.com/christkv/mongodb-core\",keywords:[\"mongodb\",\"core\"],license:\"Apache-2.0\",main:\"index.js\",name:\"mongodb-core\",peerOptionalDependencies:{kerberos:\"~0.0\",\"bson-ext\":\"1.0.5\"},repository:{type:\"git\",url:\"git://github.com/christkv/mongodb-core.git\"},scripts:{changelog:\"conventional-changelog -p angular -i HISTORY.md -s\",coverage:\"nyc node test/runner.js -t functional -l && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls\",lint:\"eslint lib\",test:\"node test/runner.js -t functional\"},version:\"2.1.20\"}},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(0).format,o=n(3).EventEmitter,s=n(36),a=n(59),c=n(8).retrieveBSON,l=n(21),p=n(4),u=n(70),d=n(192),f=n(53).assign,m=n(11).clone,h=n(11).Timeout,v=n(11).Interval,g=n(11).createClientInfo,y=n(54),b=n(55),x=n(56),w=n(57),S=n(71),k=n(58),O=c(),E=\"disconnected\",C=\"connecting\",_=\"connected\",I=\"unreferenced\",T=\"destroyed\";function N(e,t){var n={disconnected:[C,T,E],connecting:[C,T,_,E],connected:[_,E,T,I],unreferenced:[I,T],destroyed:[T]}[e.state];n&&-1!=n.indexOf(t)?e.state=t:e.s.logger.error(r(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var A=1,M=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],B=function(e,t){var n=this;if(t=t||{},!Array.isArray(e))throw new p(\"seedlist must be an array\");if(0==e.length)throw new p(\"seedlist must contain at least one entry\");e.forEach(function(e){if(\"string\"!=typeof e.host||\"number\"!=typeof e.port)throw new p(\"seedlist entry must contain a host and port\")}),o.call(this),this.id=A++;var i=t.localThresholdMS||15;t.acceptableLatency&&(i=t.acceptableLatency);var s=l(\"ReplSet\",t);this.s={options:f({},t),bson:t.bson||new O([O.Binary,O.Code,O.DBRef,O.Decimal128,O.Double,O.Int32,O.Long,O.Map,O.MaxKey,O.MinKey,O.ObjectId,O.BSONRegExp,O.Symbol,O.Timestamp]),Cursor:t.cursorFactory||a,logger:s,seedlist:e,replicaSetState:new d({id:this.id,setName:t.setName,acceptableLatency:i,heartbeatFrequencyMS:t.haInterval?t.haInterval:1e4,logger:s}),connectingServers:[],haInterval:t.haInterval?t.haInterval:1e4,minHeartbeatFrequencyMS:500,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,clientInfo:g(t),authenticationContexts:[]},this.s.replicaSetState.on(\"topologyDescriptionChanged\",function(e){n.emit(\"topologyDescriptionChanged\",e)}),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(r(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new y(this.s.bson),x509:new b(this.s.bson),plain:new x(this.s.bson),gssapi:new w(this.s.bson),sspi:new S(this.s.bson),\"scram-sha-1\":new k(this.s.bson)};[\"joined\",\"left\"].forEach(function(e){n.s.replicaSetState.on(e,function(t,i){n.emit(e,t,i)})}),this.initialConnectState={connect:!1,fullsetup:!1,all:!1},this.state=E,this.haTimeoutId=null,this.authenticating=!1,this.ismaster=null,this.intervalIds=[]};function j(e){e.s.replicaSetState.hasPrimaryAndSecondary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute():e.s.replicaSetState.hasPrimary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute({executePrimary:!0}):e.s.replicaSetState.hasSecondary()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute({executeSecondary:!0})}function P(e,t,n){var i=t.length,r=null,o=function(e,t){return function(o){var s=this;if(i-=1,e.state==T||e.state==I)return this.destroy({force:!0});if(\"connect\"!=t||e.authenticating)\"connect\"==t&&e.authenticating?this.destroy({force:!0}):\"error\"==t&&(r=o);else{if(e.state==T||e.state==I)return s.destroy({force:!0});q(e,s,function(){if(e.state==T||e.state==I)return s.destroy({force:!0});if(e.s.replicaSetState.update(s)){s.lastIsMaster()&&s.lastIsMaster().ismaster&&(e.ismaster=s.lastIsMaster());for(var t=0;t<M.length;t++)s.removeAllListeners(M[t]);s.on(\"error\",z(e,\"error\")),s.on(\"close\",z(e,\"close\")),s.on(\"timeout\",z(e,\"timeout\")),s.on(\"parseError\",z(e,\"parseError\")),D(s.lastIsMaster().me,e,{}),j(e)}else s.destroy({force:!0})})}j(e),0==i&&n(r)}};if(0==i)return n();function s(t,n){setTimeout(function(){if(e.state!=T&&e.state!=I){var n=new u(f({},e.s.options,{host:t.split(\":\")[0],port:parseInt(t.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:m(e.s.clientInfo)}));n.once(\"connect\",o(e,\"connect\")),n.once(\"close\",o(e,\"close\")),n.once(\"timeout\",o(e,\"timeout\")),n.once(\"error\",o(e,\"error\")),n.once(\"parseError\",o(e,\"parseError\")),n.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),n.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),n.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),n.connect(e.s.connectOptions)}},n)}for(var a=0;a<t.length;a++)s(t[a],a)}i(B,o),Object.defineProperty(B.prototype,\"type\",{enumerable:!0,get:function(){return\"replset\"}}),Object.defineProperty(B.prototype,\"parserType\",{enumerable:!0,get:function(){return O.native?\"c++\":\"js\"}});var D=function(e,t,n){if(!n.haInterval)for(var i=0;i<t.intervalIds.length;i++)if(t.intervalIds[i].__host===e)return;var r=n.haInterval?h:v,o=n.haInterval?n.haInterval:t.s.haInterval,s=new r(function(){if(t.state!=T&&t.state!=I){var n=t.s.replicaSetState.get(e);return n?function(e,t,n){var i=(new Date).getTime();K(e,\"serverHeartbeatStarted\",{connectionId:t.name}),t.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(r,o){if(e.state==T||e.state==I)return t.destroy({force:!0}),n(r,o);var s=(new Date).getTime()-i,a=process.hrtime();t.lastUpdateTime=1e3*a[0]+Math.round(a[1]/1e3),r?(K(e,\"serverHeartbeatFailed\",{durationMS:s,failure:r,connectionId:t.name}),e.s.replicaSetState.remove(t)):(t.ismaster=o.result,t.ismaster.lastWrite&&t.ismaster.lastWrite.lastWriteDate&&(t.lastWriteDate=t.ismaster.lastWrite.lastWriteDate.getTime()),-1==t.lastIsMasterMS?t.lastIsMasterMS=s:t.lastIsMasterMS&&(t.lastIsMasterMS=.2*s+.8*t.lastIsMasterMS),e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),K(e,\"serverHeartbeatSucceeded\",{durationMS:s,reply:o.result,connectionId:t.name})),e.s.replicaSetState.updateServerMaxStaleness(t,e.s.haInterval),n(r,o)})}(t,n,function(e){t.state!=T&&t.state!=I?(t.intervalIds=t.intervalIds.filter(function(e){return e.isRunning()}),r===h?t.state==C&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=_,process.nextTick(function(){t.emit(\"connect\",t)}),R(t,{})):t.state==E&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=_,j(t),process.nextTick(function(){t.emit(\"reconnect\",t)})),t.initialConnectState.connect&&!t.initialConnectState.fullsetup&&t.s.replicaSetState.hasPrimaryAndSecondary()&&(t.initialConnectState.fullsetup=!0,t.initialConnectState.all=!0,process.nextTick(function(){t.emit(\"fullsetup\",t),t.emit(\"all\",t)}))):s.stop()}):void 0}s.stop()},o);s.start(),s.__host=e,t.intervalIds.push(s)};function R(e,t){if(e.state!=T&&e.state!=I){t=t||{};var n=Object.keys(e.s.replicaSetState.set),i=t.haInterval?h:v,r=t.haInterval?t.haInterval:e.s.haInterval;if(i===h)return P(e,e.s.replicaSetState.unknownServers,function(i){if(e.state!==T&&e.state!==I){if(!e.s.replicaSetState.hasPrimary()&&!e.s.options.secondaryOnlyConnectionAllowed)return i?e.emit(\"error\",i):(e.emit(\"error\",new p(\"no primary found in replicaset or invalid replica set name\")),e.destroy({force:!0}));if(!e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)return i?e.emit(\"error\",i):(e.emit(\"error\",new p(\"no secondary found in replicaset or invalid replica set name\")),e.destroy({force:!0}));for(var r=0;r<n.length;r++)D(n[r],e,t)}});for(var o=0;o<n.length;o++)D(n[o],e,t);var s=e.s.replicaSetState.hasPrimary()?r:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new h(function e(t){return function(){t.state!=T&&t.state!=I&&P(t,t.s.replicaSetState.unknownServers,function(){var n=t.s.replicaSetState.hasPrimary()?r:t.s.minHeartbeatFrequencyMS;t.intervalIds.push(new h(e(t),n).start())})}}(e),s).start())}}function L(e,t){for(var n=0;n<e.length;n++)if(e[n].name.toLowerCase()===t.name.toLowerCase())return!0;e.push(t)}function z(e,t){return function(){e.state!=T&&e.state!=I&&(e.s.logger.isDebug()&&e.s.logger.debug(r(\"handleEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.s.replicaSetState.remove(this),e.state!=T&&e.state!=I&&((e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()||!e.s.options.secondaryOnlyConnectionAllowed)&&e.s.replicaSetState.hasPrimary()||N(e,E),L(e.s.connectingServers,this)))}}function q(e,t,n){if(0==e.s.authenticationContexts.length)return n();if(t.lastIsMaster()&&t.lastIsMaster().arbiterOnly)return n();!function e(t,n,i){if(0==t.length)return i();var r=t.shift().slice(0);r.push(function(r){e(t,n,i)}),n.auth.apply(n,r)}(e.s.authenticationContexts.slice(0),t,n)}function U(e,t){return function(){var n=this;if(e.s.logger.isDebug()&&e.s.logger.debug(r(\"handleInitialConnectEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.state==T||e.state==I)return this.destroy({force:!0});\"connect\"==t?q(e,n,function(){if(e.state==T||e.state==I)return n.destroy({force:!0});var i=e.s.replicaSetState.update(n);if(1==i){n.lastIsMaster()&&n.lastIsMaster().ismaster&&(e.ismaster=n.lastIsMaster()),e.s.logger.isDebug()&&e.s.logger.debug(r(\"handleInitialConnectEvent %s from server %s in replset with id %s has state [%s]\",t,n.name,e.id,JSON.stringify(e.s.replicaSetState.set)));for(var o=0;o<M.length;o++)n.removeAllListeners(M[o]);n.on(\"error\",z(e,\"error\")),n.on(\"close\",z(e,\"close\")),n.on(\"timeout\",z(e,\"timeout\")),n.on(\"parseError\",z(e,\"parseError\")),function(e){var t=s.secondary.preference||s.secondary.mode,n=e.s.connectOptions.readPreference&&(e.s.connectOptions.readPreference.preference||e.s.connectOptions.readPreference.mode),i=e.state===C,r=e.s.replicaSetState.hasPrimary(),o=e.s.replicaSetState.hasSecondary(),a=e.s.options.secondaryOnlyConnectionAllowed,c=t===n;return i&&(c&&o||!c&&r)||o&&a}(e)&&(e.state=_,e.initialConnectState.connect=!0,process.nextTick(function(){e.emit(\"connect\",e)}),R(e,{}))}else{if(i instanceof p)return n.destroy({force:!0}),e.destroy({force:!0}),e.emit(\"error\",i);n.destroy({force:!0})}}):(e.emit(\"failed\",this),L(e.s.connectingServers,this),e.s.replicaSetState.remove(this)),e.initialConnectState.connect&&!e.initialConnectState.fullsetup&&e.s.replicaSetState.hasPrimaryAndSecondary()&&(e.initialConnectState.fullsetup=!0,e.initialConnectState.all=!0,process.nextTick(function(){e.emit(\"fullsetup\",e),e.emit(\"all\",e)}));for(var i=0;i<e.s.connectingServers.length;i++)e.s.connectingServers[i].equals(this)&&e.s.connectingServers.splice(i,1);0==e.s.connectingServers.length&&e.state==C&&R(e,{haInterval:1})}}function K(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}B.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},N(this,C);var n=this.s.seedlist.map(function(e){return new u(f({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:m(t.s.clientInfo)}))});if(this.s.options.socketTimeout>0&&this.s.options.socketTimeout<=this.s.options.haInterval)return t.emit(\"error\",new p(r(\"haInterval [%s] MS must be set to less than socketTimeout [%s] MS\",this.s.options.haInterval,this.s.options.socketTimeout)));K(this,\"topologyOpening\",{topologyId:this.id}),function(e,t){e.s.connectingServers=e.s.connectingServers.concat(t);var n=0;function i(t,n){setTimeout(function(){e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),t.once(\"close\",U(e,\"close\")),t.once(\"timeout\",U(e,\"timeout\")),t.once(\"parseError\",U(e,\"parseError\")),t.once(\"error\",U(e,\"error\")),t.once(\"connect\",U(e,\"connect\")),t.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),t.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),t.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)i(t.shift(),n++)}(t,n)},B.prototype.destroy=function(e){e=e||{},N(this,T),this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.replicaSetState.destroy(e),this.s.authenticationContexts=[],this.s.connectingServers.forEach(function(t){t.destroy(e)});for(var t=0;t<this.intervalIds.length;t++)this.intervalIds[t].stop(),this.intervalIds[t].stop();this.intervalIds=[],K(this,\"topologyClosed\",{topologyId:this.id})},B.prototype.unref=function(){N(this,I),this.s.replicaSetState.allServers().forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},B.prototype.lastIsMaster=function(){return this.s.options.secondaryOnlyConnectionAllowed&&!this.s.replicaSetState.hasPrimary()&&this.s.replicaSetState.hasSecondary()?this.s.replicaSetState.secondaries[0].lastIsMaster():this.s.replicaSetState.primary?this.s.replicaSetState.primary.lastIsMaster():this.ismaster},B.prototype.connections=function(){for(var e=this.s.replicaSetState.allServers(),t=[],n=0;n<e.length;n++)t=t.concat(e[n].connections());return t},B.prototype.isConnected=function(e){return e=e||{},!this.authenticating&&(e.readPreference&&e.readPreference.equals(s.secondary)?this.s.replicaSetState.hasSecondary():e.readPreference&&e.readPreference.equals(s.primary)?this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(s.primaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(s.secondaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():!(!this.s.options.secondaryOnlyConnectionAllowed||!this.s.replicaSetState.hasSecondary())||this.s.replicaSetState.hasPrimary())},B.prototype.isDestroyed=function(){return this.state==T},B.prototype.getServer=function(e){e=e||{};var t=this.s.replicaSetState.pickServer(e.readPreference);return this.s.debug&&this.emit(\"pickedServer\",e.readPreference,t),t},B.prototype.getConnection=function(e){var t=this.getServer(e);if(t)return t.getConnection()},B.prototype.getServers=function(){return this.s.replicaSetState.allServers()};var F=function(e,t,n,i,r,o){if(\"function\"==typeof r&&(o=r,r=(r={})||{}),r=r||{},null==e.s.replicaSetState.primary)return o(new p(\"no primary server found\"));e.s.replicaSetState.primary[t](n,i,r,function(t){return t&&t.message&&t.message.match(/not master/)&&e.s.replicaSetState.remove(e.s.replicaSetState.primary,{force:!0}),o.apply(void 0,arguments)})};B.prototype.insert=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==T?i(new p(r(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void F(this,\"insert\",e,t,n,i):this.s.disconnectHandler.add(\"insert\",e,t,n,i)},B.prototype.update=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==T?i(new p(r(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void F(this,\"update\",e,t,n,i):this.s.disconnectHandler.add(\"update\",e,t,n,i)},B.prototype.remove=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==T?i(new p(r(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void F(this,\"remove\",e,t,n,i):this.s.disconnectHandler.add(\"remove\",e,t,n,i)},B.prototype.command=function(e,t,n,i){if(\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==T)return i(new p(r(\"topology was destroyed\")));var o=n.readPreference?n.readPreference:s.primary;if(\"primary\"==o.preference&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,i);if(\"secondary\"==o.preference&&!this.s.replicaSetState.hasSecondary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,i);if(\"primary\"!=o.preference&&!this.s.replicaSetState.hasSecondary()&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,i);var a=this.s.replicaSetState.pickServer(o);return a instanceof u?(this.s.debug&&this.emit(\"pickedServer\",s.primary,a),null==a?i(new p(r(\"no server found that matches the provided readPreference %s\",o))):void a.command(e,t,n,i)):i(a)},B.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),i=this,o=Array.prototype.slice.call(arguments,2),s=o.pop(),a=0;if(null==this.authProviders[e]&&\"default\"!=e)return s(new p(r(\"auth provider %s does not exist\",e)));if(this.authenticating)return s(new p(\"authentication or logout allready in process\"));if(null!=i.s.disconnectHandler){if(!i.s.replicaSetState.hasPrimary()&&!i.s.options.secondaryOnlyConnectionAllowed)return i.s.disconnectHandler.add(\"auth\",t,n,{},s);if(!i.s.replicaSetState.hasSecondary()&&i.s.options.secondaryOnlyConnectionAllowed)return i.s.disconnectHandler.add(\"auth\",t,n,{},s)}this.authenticating=!0;var c=[],l=this.s.replicaSetState.allServers();function u(n){var r=[e,t].concat(o.slice(0)).concat([function(e){if(d-=1,e&&c.push({name:n.name,err:e}),0==d){if(i.authenticating=!1,c.length)return i.s.authenticationContexts.splice(a,0),s(p.create({message:\"authentication fail\",errors:c}),!1);s(null,i)}}]);n.lastIsMaster().arbiterOnly?r.pop()(null):n.auth.apply(n,r)}0==l.length&&(this.authenticating=!1,s(null,!0));var d=l.length;for(a=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(o.slice(0)));l.length>0;)u(l.shift())},B.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new p(\"authentication or logout allready in process\");this.authenticating=!0;for(var i=Object.keys(this.authProviders),o=0;o<i.length;o++)this.authProviders[i[o]].logout(e);n.s.authenticationContexts=n.s.authenticationContexts.filter(function(t){return t[1]!==e});var s=this.s.replicaSetState.allServers(),a=s.length;if(0==a)return t();var c=[];function l(t,n){t.logout(e,function(e){e&&c.push({name:t.name,err:e}),n()})}for(o=0;o<s.length;o++)l(s[o],function(){if(0==(a-=1)){if(n.authenticating=!1,c.length)return t(p.create({message:r(\"logout failed against db %s\",e),errors:c}),!1);t()}})},B.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,this,this.s.options)},e.exports=B},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(0).format,o=n(11).diff,s=n(3).EventEmitter,a=n(21),c=n(36),l=n(4),p=\"ReplicaSetNoPrimary\",u=\"ReplicaSetWithPrimary\",d=\"Unknown\",f=\"PossiblePrimary\",m=\"RSPrimary\",h=\"RSSecondary\",v=\"RSArbiter\",g=\"RSOther\",y=\"RSGhost\",b=\"Unknown\",x=function(e){e=e||{},s.call(this),this.topologyType=p,this.setName=e.setName,this.set={},this.id=e.id,this.setName=e.setName,this.logger=e.logger||a(\"ReplSet\",e),this.index=0,this.acceptableLatency=e.acceptableLatency||15,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS||1e4,this.primary=null,this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.maxElectionId=null,this.maxSetVersion=0,this.replicasetDescription={topologyType:\"Unknown\",servers:[]}};i(x,s),x.prototype.hasPrimaryAndSecondary=function(){return null!=this.primary&&this.secondaries.length>0},x.prototype.hasPrimaryOrSecondary=function(){return this.hasPrimary()||this.hasSecondary()},x.prototype.hasPrimary=function(){return null!=this.primary},x.prototype.hasSecondary=function(){return this.secondaries.length>0},x.prototype.get=function(e){for(var t=this.allServers(),n=0;n<t.length;n++)if(t[n].name.toLowerCase()===e.toLowerCase())return t[n];return null},x.prototype.allServers=function(e){e=e||{};var t=this.primary?[this.primary]:[];return t=t.concat(this.secondaries),e.ignoreArbiters||(t=t.concat(this.arbiters)),t=t.concat(this.passives)},x.prototype.destroy=function(e){this.primary&&this.primary.destroy(e),this.secondaries.forEach(function(t){t.destroy(e)}),this.arbiters.forEach(function(t){t.destroy(e)}),this.passives.forEach(function(t){t.destroy(e)}),this.ghosts.forEach(function(t){t.destroy(e)}),this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.primary=null,I(this)},x.prototype.remove=function(e,t){t=t||{};var n=e.name.toLowerCase(),i=this.primary?[this.primary]:[];i=(i=(i=i.concat(this.secondaries)).concat(this.arbiters)).concat(this.passives);for(var r=0;r<i.length;r++)if(!t.force&&i[r].equals(e)&&i[r].isConnected&&i[r].isConnected())return;this.set[n]&&(this.set[n].type=b,this.set[n].electionId=null,this.set[n].setName=null,this.set[n].setVersion=null);var o=null;this.primary&&this.primary.equals(e)&&(this.primary=null,this.topologyType=p,o=\"primary\"),o=_(e,this.secondaries)?\"secondary\":o,o=_(e,this.arbiters)?\"arbiter\":o,o=_(e,this.passives)?\"secondary\":o,_(e,this.ghosts),_(e,this.unknownServers),this.unknownServers.push(n),o&&this.emit(\"left\",o,e)},x.prototype.update=function(e){var t=e.lastIsMaster(),n=e.name.toLowerCase();if(t){var i=Array.isArray(t.hosts)?t.hosts:[];i=(i=(i=i.concat(Array.isArray(t.arbiters)?t.arbiters:[])).concat(Array.isArray(t.passives)?t.passives:[])).map(function(e){return e.toLowerCase()});for(var o=0;o<i.length;o++)-1!=this.unknownServers.indexOf(i[o])||this.set[i[o]]&&this.set[i[o]].type!=b||this.unknownServers.push(i[o].toLowerCase()),this.set[i[o]]||(this.set[i[o]]={type:b,electionId:null,setName:null,setVersion:null})}if(!t&&!O(t,e,this.unknownServers))return this.set[n]={type:b,setVersion:null,electionId:null,setName:null},this.set[n].type=b,this.set[n].electionId=t?t.electionId:t,this.set[n].setName=t?t.setName:t,this.set[n].setVersion=t?t.setVersion:t,-1==this.unknownServers.indexOf(e.name)&&this.unknownServers.push(n),!1;if(t&&\"isdbgrid\"==t.msg)return!1;if(t.setName&&t.hidden||t.setName&&!t.ismaster&&!t.secondary&&!t.arbiterOnly&&!t.passive)return this.set[n]={type:g,setVersion:null,electionId:null,setName:t.setName},this.topologyType=this.primary?u:p,t.setName&&(this.setName=t.setName),!1;if(t.isreplicaset)return this.set[n]={type:y,setVersion:null,electionId:null,setName:null},this.topologyType=this.primary?u:p,t.setName&&(this.setName=t.setName),!1;if(t&&t.ismaster&&!t.setName)return this.topologyType=this.primary?u:d,this.remove(e,{force:!0}),!1;if(t&&!t.ismaster&&!t.secondary&&!t.arbiterOnly)return this.remove(e,{force:!0}),!1;if(t.me&&t.me.toLowerCase()!=n)return this.logger.isWarn()&&this.logger.warn(r(\"the seedlist server was removed due to its address %s not matching its ismaster.me address %s\",e.name,t.me)),delete this.set[n],_(e,this.unknownServers),e.destroy(),this.primary&&!this.primary.equals(e)?this.topologyType=u:this.topologyType=p,!this.primary&&t.primary&&(this.set[t.primary.toLowerCase()]={type:f,setName:null,electionId:null,setVersion:null}),!1;if(!this.primary&&t.ismaster&&t.setName){var s=e.lastIsMaster().electionId;if(this.setName&&this.setName!=t.setName)return this.topologyType=p,new l(r(\"setName from ismaster does not match provided connection setName [%s] != [%s]\",t.setName,this.setName));if(!this.maxElectionId&&s)this.maxElectionId=s;else if(this.maxElectionId&&s){var a=C(this.maxElectionId,s),c=e.lastIsMaster().setVersion;if(1==a)return this.topologyType=p,!1;if(0==a&&c&&c<this.maxSetVersion)return this.topologyType=p,!1;this.maxSetVersion=c,this.maxElectionId=s}return-1!=t.hosts.map(function(e){return e.toLowerCase()}).indexOf(n)?(this.primary=e,this.set[n]={type:m,setVersion:t.setVersion,electionId:t.electionId,setName:t.setName},this.topologyType=u,t.setName&&(this.setName=t.setName),_(e,this.unknownServers),_(e,this.secondaries),_(e,this.passives),this.emit(\"joined\",\"primary\",e)):this.topologyType=p,I(this),!0}if(t.ismaster&&t.setName){var x=this.set[this.primary.name.toLowerCase()].electionId,w=this.set[this.primary.name.toLowerCase()].setVersion,S=this.set[this.primary.name.toLowerCase()].setName;s=e.lastIsMaster().electionId,c=e.lastIsMaster().setVersion;var k=e.lastIsMaster().setName;if(this.primary.equals(e)&&S==k)return!1;if(S&&S!=k)return this.primary.equals(e)?this.topologyType=p:this.topologyType=u,!1;if(x&&s){if(1==(a=C(x,s)))return!1;if(0==a&&w>c)return!1}else if(!x&&s&&c&&c<this.maxSetVersion)return!1;if(!this.maxElectionId&&s)this.maxElectionId=s;else if(this.maxElectionId&&s){if(1==(a=C(this.maxElectionId,s)))return!1;if(0==a&&w&&c){if(c<this.maxSetVersion)return!1}else if(c<this.maxSetVersion)return!1;this.maxElectionId=s,this.maxSetVersion=c}else this.maxSetVersion=c;return this.set[this.primary.name.toLowerCase()]={type:b,setVersion:null,electionId:null,setName:null},this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=e,this.set[n]={type:m,setVersion:t.setVersion,electionId:t.electionId,setName:t.setName},this.topologyType=u,t.setName&&(this.setName=t.setName),_(e,this.unknownServers),_(e,this.secondaries),_(e,this.passives),this.emit(\"joined\",\"primary\",e),I(this),!0}return!this.primary&&t.primary&&(this.set[t.primary.toLowerCase()]={type:f,setVersion:null,electionId:null,setName:null}),t.secondary&&t.setName&&!O(t,e,this.secondaries)&&this.setName&&this.setName==t.setName?(E(this,h,t,e,this.secondaries),this.topologyType=this.primary?u:p,t.setName&&(this.setName=t.setName),_(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==n&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),I(this),!0):t.arbiterOnly&&t.setName&&!O(t,e,this.arbiters)&&this.setName&&this.setName==t.setName?(E(this,v,t,e,this.arbiters),this.topologyType=this.primary?u:p,t.setName&&(this.setName=t.setName),_(e,this.unknownServers),this.emit(\"joined\",\"arbiter\",e),I(this),!0):t.passive&&t.setName&&!O(t,e,this.passives)&&this.setName&&this.setName==t.setName?(E(this,h,t,e,this.passives),this.topologyType=this.primary?u:p,t.setName&&(this.setName=t.setName),_(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==n&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),I(this),!0):this.set[n]&&this.set[n].type==m?(this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=null,this.topologyType=p,!1):(this.topologyType=this.primary?u:p,!1)},x.prototype.updateServerMaxStaleness=function(e,t){for(var n=0,i=0;i<this.secondaries.length;i++)n=Math.max(n,this.secondaries[i].lastWriteDate);e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&this.hasPrimary()?e.staleness=e.lastUpdateTime-e.lastWriteDate-(this.primary.lastUpdateTime-this.primary.lastWriteDate)+t:e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&(e.staleness=n-e.lastWriteDate+t)},x.prototype.updateSecondariesMaxStaleness=function(e){for(var t=0;t<this.secondaries.length;t++)this.updateServerMaxStaleness(this.secondaries[t],e)},x.prototype.pickServer=function(e){if(\"primary\"==(e=e||c.primary).preference&&null!=e.maxStalenessSeconds)return new l(\"primary readPreference incompatible with maxStalenessSeconds\");var t=this.primary?[this.primary]:[];if(t=t.concat(this.secondaries),null!=e.maxStalenessSeconds)for(var n=0;n<t.length;n++)if(t[n].ismaster.maxWireVersion<5)return new l(\"maxStalenessSeconds not supported by at least one of the replicaset members\");if(\"nearest\"==e.preference&&null==e.maxStalenessSeconds)return k(this,e);if(\"nearest\"==e.preference&&null!=e.maxStalenessSeconds)return S(this,e);var i=this.secondaries;if(e.equals(c.secondary)&&0==i.length)return new l(\"no secondary server available\");if(e.equals(c.secondaryPreferred)&&0==i.length&&null==this.primary)return new l(\"no secondary or primary server available\");if(e.equals(c.primary)&&null==this.primary)return new l(\"no primary server available\");if(e.equals(c.secondaryPreferred)||e.equals(c.secondary)){if(i.length>0&&null==e.maxStalenessSeconds){var r=k(this,e);if(r)return r}else if(i.length>0&&null!=e.maxStalenessSeconds&&(r=S(this,e)))return r;return e.equals(c.secondaryPreferred)?this.primary:null}if(e.equals(c.primaryPreferred)){if(r=null,this.primary)return this.primary;if(i.length>0&&null==e.maxStalenessSeconds?r=k(this,e):i.length>0&&null!=e.maxStalenessSeconds&&(r=S(this,e)),r)return r}return this.primary};var w=function(e,t){if(null==e.tags)return t;for(var n=[],i=Array.isArray(e.tags)?e.tags:[e.tags],r=0;r<i.length;r++)for(var o=i[r],s=0;s<t.length;s++){var a=t[s].lastIsMaster().tags||{},c=!0;for(var l in o)a[l]!=o[l]&&(c=!1);c&&n.push(t[s])}return n};function S(e,t){var n=[],i=(e.heartbeatFrequencyMS,1e3*t.maxStalenessSeconds);if(i<9e4)return new l(\"maxStalenessSeconds must be set to at least 90 seconds\");e.primary&&\"secondary\"!=t.preference&&\"secondaryPreferred\"!=t.preference&&n.push(e.primary);for(var r=0;r<e.secondaries.length;r++)n.push(e.secondaries[r]);if(e.primary&&0==n.length&&\"secondaryPreferred\"!=t.preference&&n.push(e.primary),(n=(n=w(t,n)).filter(function(e){return e.staleness<=i})).sort(function(e,t){return e.lastIsMasterMS-t.lastIsMasterMS}),0==n.length)return null;e.index=e.index%n.length;var o=n[e.index];return e.index=e.index+1,o}function k(e,t){var n=[];e.primary&&\"secondary\"!=t.preference&&\"secondaryPreferred\"!=t.preference&&n.push(e.primary);for(var i=0;i<e.secondaries.length;i++)n.push(e.secondaries[i]);0==n.length&&e.primary&&\"secondaryPreferred\"!=t.preference&&n.push(e.primary),(n=w(t,n)).sort(function(e,t){return e.lastIsMasterMS-t.lastIsMasterMS});var r=n.length>0?n[0].lastIsMasterMS:0;if(0==(n=n.filter(function(t){return t.lastIsMasterMS<=r+e.acceptableLatency})).length)return null;e.index=e.index%n.length;var o=n[e.index];return e.index=e.index+1,o}function O(e,t,n){for(var i=0;i<n.length;i++)if(n[i]&&n[i].name&&n[i].name.toLowerCase()==t.name.toLowerCase())return!0;return!1}function E(e,t,n,i,r){var o=i.name.toLowerCase();e.set[o].type=t,e.set[o].electionId=n?n.electionId:n,e.set[o].setName=n?n.setName:n,e.set[o].setVersion=n?n.setVersion:n,r.push(i)}function C(e,t){var n=new Buffer(e.toHexString(),\"hex\"),i=new Buffer(t.toHexString(),\"hex\");if(n===i)return 0;if(\"function\"==typeof Buffer.compare)return Buffer.compare(n,i);for(var r=n.length,o=i.length,s=Math.min(r,o),a=0;a<s&&n[a]===i[a];a++);return a!==s&&(r=n[a],o=i[a]),r<o?-1:o<r?1:0}function _(e,t){for(var n=0;n<t.length;n++){if(t[n].equals&&t[n].equals(e))return t.splice(n,1),!0;if(\"string\"==typeof t[n]&&t[n].toLowerCase()==e.name.toLowerCase())return t.splice(n,1),!0}return!1}function I(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\",n=e.setName;e.hasPrimaryAndSecondary()?t=\"ReplicaSetWithPrimary\":!e.hasPrimary()&&e.hasSecondary()&&(t=\"ReplicaSetNoPrimary\");var i={topologyType:t,setName:n,servers:[]};if(e.hasPrimary()){var r=e.primary.getDescription();r.type=\"RSPrimary\",i.servers.push(r)}i.servers=i.servers.concat(e.secondaries.map(function(e){var t=e.getDescription();return t.type=\"RSSecondary\",t})),i.servers=i.servers.concat(e.arbiters.map(function(e){var t=e.getDescription();return t.type=\"RSArbiter\",t})),i.servers=i.servers.concat(e.passives.map(function(e){var t=e.getDescription();return t.type=\"RSSecondary\",t}));var s=o(e.replicasetDescription,i),a={topologyId:e.id,previousDescription:e.replicasetDescription,newDescription:i,diff:s};e.emit(\"topologyDescriptionChanged\",a),e.replicasetDescription=i}}e.exports=x},function(e,t,n){\"use strict\";var i=n(0).inherits,r=n(0).format,o=n(3).EventEmitter,s=n(59),a=n(21),c=n(8).retrieveBSON,l=n(4),p=n(70),u=n(53).assign,d=n(11).clone,f=(n(11),n(11).diff),m=n(11).cloneOptions,h=n(11).createClientInfo,v=c(),g=n(54),y=n(55),b=n(56),x=n(57),w=n(71),S=n(58),k=\"disconnected\",O=\"connecting\",E=\"connected\",C=\"unreferenced\",_=\"destroyed\";function I(e,t){var n={disconnected:[O,_,k],connecting:[O,_,E,k],connected:[E,k,_,C],unreferenced:[C,_],destroyed:[_]}[e.state];n&&-1!=n.indexOf(t)?e.state=t:e.logger.error(r(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var T=1,N=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],A=function(e,t){t=t||{},this.id=T++,this.s={options:u({},t),bson:t.bson||new v([v.Binary,v.Code,v.DBRef,v.Decimal128,v.Double,v.Int32,v.Long,v.Map,v.MaxKey,v.MinKey,v.ObjectId,v.BSONRegExp,v.Symbol,v.Timestamp]),Cursor:t.cursorFactory||s,logger:a(\"Mongos\",t),seedlist:e,haInterval:t.haInterval?t.haInterval:1e4,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,localThresholdMS:t.localThresholdMS||15,clientInfo:h(t),authenticationContexts:[]},this.s.options.clientInfo=h(t),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(r(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new g(this.s.bson),x509:new y(this.s.bson),plain:new b(this.s.bson),gssapi:new x(this.s.bson),sspi:new w(this.s.bson),\"scram-sha-1\":new S(this.s.bson)},this.state=k,this.connectingProxies=[],this.connectedProxies=[],this.disconnectedProxies=[],this.authenticating=!1,this.index=0,this.haTimeoutId=null,this.ismaster=null,this.topologyDescription={topologyType:\"Unknown\",servers:[]},o.call(this)};function M(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}function B(e){return function(){e.state!=_&&(D(e.connectedProxies,e.disconnectedProxies,this),q(e),e.emit(\"left\",\"mongos\",this),e.emit(\"serverClosed\",{topologyId:e.id,address:this.name}))}}function j(e,t){return function(){var n=this;if(e.state==_)return q(e),D(e.connectingProxies,e.disconnectedProxies,this),this.destroy();if(\"connect\"==t?L(e,n,function(){if(e.ismaster=n.lastIsMaster(),\"isdbgrid\"==e.ismaster.msg){for(var t=0;t<e.connectedProxies.length;t++)if(e.connectedProxies[t].name==n.name)return D(e.connectingProxies,e.disconnectedProxies,n),q(e),n.destroy(),e.emit(\"failed\",n);for(t=0;t<N.length;t++)n.removeAllListeners(N[t]);n.on(\"error\",B(e)),n.on(\"close\",B(e)),n.on(\"timeout\",B(e)),n.on(\"parseError\",B(e)),D(e.connectingProxies,e.connectedProxies,n),e.emit(\"joined\",\"mongos\",n)}else{if(e.s.logger.isWarn()){var i=\"expected mongos proxy, but found replicaset member mongod for server %s\";e.ismaster.hosts||(i=\"expected mongos proxy, but found standalone mongod for server %s\"),e.s.logger.warn(r(i,n.name))}!function(e,t){for(var n=0;n<e.length;n++)e[n].name==t.name&&e.splice(n,1)}(e.connectingProxies,n),e.emit(\"left\",\"server\",n),e.emit(\"failed\",n)}}):(D(e.connectingProxies,e.disconnectedProxies,this),e.emit(\"left\",\"mongos\",this),e.emit(\"failed\",this)),q(e),0==e.connectingProxies.length){if(e.connectedProxies.length>0)I(e,E),e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e);else if(0==e.disconnectedProxies.length)return e.s.logger.isWarn()&&e.s.logger.warn(r(\"no mongos proxies found in seed list, did you mean to connect to a replicaset\")),e.emit(\"error\",new l(\"no mongos proxies found in seed list\"));!function e(t,n){n=n||{};t.haTimeoutId=setTimeout(function(){if(t.state!=_&&t.state!=C){t.isConnected()&&t.s.disconnectHandler&&t.s.disconnectHandler.execute();var i=t.connectedProxies.slice(0),r=i.length;if(0==i.length)return t.listeners(\"close\").length>0&&t.state==O?t.emit(\"error\",new l(\"no mongos proxy available\")):t.emit(\"close\",t),R(t,t.disconnectedProxies,function(){t.state!=_&&t.state!=C&&(t.state==O&&n.firstConnect?(t.emit(\"connect\",t),t.emit(\"fullsetup\",t),t.emit(\"all\",t)):t.isConnected()?t.emit(\"reconnect\",t):!t.isConnected()&&t.listeners(\"close\").length>0&&t.emit(\"close\",t),e(t))});for(var o=0;o<i.length;o++)s(t,i[o],function(){if(0==(r-=1)){if(t.state==_||t.state==C)return;R(t,t.disconnectedProxies,function(){t.state!=_&&t.state!=C&&e(t)})}})}function s(e,n,i){var r=(new Date).getTime();M(t,\"serverHeartbeatStarted\",{connectionId:n.name}),n.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:t.s.options.connectionTimeout||2e3},function(e,o){if(t.state==_||t.state==C)return D(t.connectedProxies,t.disconnectedProxies,n),n.destroy(),i(e,o);var s=(new Date).getTime()-r;e?(M(t,\"serverHeartbeatFailed\",{durationMS:s,failure:e,connectionId:n.name}),D(t.connectedProxies,t.disconnectedProxies,n)):(n.ismaster=o.result,n.lastIsMasterMS=s,M(t,\"serverHeartbeatSucceeded\",{durationMS:s,reply:o.result,connectionId:n.name})),i(e,o)})}},t.s.haInterval)}(e,{firstConnect:!0})}}}function P(e){for(var t=e.connectedProxies.slice(0),n=Number.MAX_VALUE,i=0;i<t.length;i++)t[i].lastIsMasterMS<n&&(n=t[i].lastIsMasterMS);if(0==(t=t.filter(function(t){if(t.lastIsMasterMS<=n+e.s.localThresholdMS&&t.isConnected())return!0})).length)return e.connectedProxies[0];var r=t[e.index%t.length];return e.index=(e.index+1)%t.length,r}function D(e,t,n){for(var i=0;i<e.length;i++)e[i].name==n.name&&e.splice(i,1);for(i=0;i<t.length;i++)t[i].name==n.name&&t.splice(i,1);t.push(n)}function R(e,t,n){var i=t.length,r=function(e,t){return function(){var r=this;if(i-=1,e.state==_||e.state==C)return D(e.connectingProxies,e.disconnectedProxies,r),this.destroy();\"connect\"!=t||e.authenticating?\"connect\"==t&&e.authenticating&&(D(e.connectingProxies,e.disconnectedProxies,r),this.destroy()):L(e,r,function(){if(e.state==_||e.state==C)return D(e.connectingProxies,e.disconnectedProxies,r),r.destroy();for(var t=0;t<N.length;t++)r.removeAllListeners(N[t]);r.on(\"error\",B(e)),r.on(\"close\",B(e)),r.on(\"timeout\",B(e)),r.on(\"parseError\",B(e)),D(e.disconnectedProxies,e.connectedProxies,r),q(e),e.emit(\"joined\",\"mongos\",r)}),0==i&&n()}};if(0==i)return n();function o(t,n){setTimeout(function(){if(e.state!=_&&e.state!=C){var n=new p(u({},e.s.options,{host:t.name.split(\":\")[0],port:parseInt(t.name.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:d(e.s.clientInfo)}));n.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),e.emit(\"serverOpening\",{topologyId:-1!=n.s.topologyId?n.s.topologyId:e.id,address:n.name}),n.once(\"connect\",r(e,\"connect\")),n.once(\"close\",r(e,\"close\")),n.once(\"timeout\",r(e,\"timeout\")),n.once(\"error\",r(e,\"error\")),n.once(\"parseError\",r(e,\"parseError\")),n.connect(e.s.connectOptions)}},n)}for(var s=0;s<t.length;s++)o(t[s],s)}function L(e,t,n){if(0==e.s.authenticationContexts.length)return n();!function e(t,n,i){if(0==t.length)return i();var r=t.shift().slice(0);r.push(function(r){e(t,n,i)}),n.auth.apply(n,r)}(e.s.authenticationContexts.slice(0),t,n)}i(A,o),Object.defineProperty(A.prototype,\"type\",{enumerable:!0,get:function(){return\"mongos\"}}),Object.defineProperty(A.prototype,\"parserType\",{enumerable:!0,get:function(){return v.native?\"c++\":\"js\"}}),A.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},I(this,O);var n=this.s.seedlist.map(function(e){return new p(u({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:d(t.s.clientInfo)}))});n.forEach(function(e){e.on(\"serverDescriptionChanged\",function(e){t.emit(\"serverDescriptionChanged\",e)})}),M(this,\"topologyOpening\",{topologyId:this.id}),function(e,t){e.connectingProxies=e.connectingProxies.concat(t);var n=0;function i(t,n){setTimeout(function(){e.emit(\"serverOpening\",{topologyId:e.id,address:t.name}),q(e),t.once(\"close\",j(e,\"close\")),t.once(\"timeout\",j(e,\"timeout\")),t.once(\"parseError\",j(e,\"parseError\")),t.once(\"error\",j(e,\"error\")),t.once(\"connect\",j(e,\"connect\")),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)i(t.shift(),n++)}(t,n)},A.prototype.lastIsMaster=function(){return this.ismaster},A.prototype.unref=function(){I(this,C),this.connectedProxies.concat(this.connectingProxies).forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},A.prototype.destroy=function(e){var t=this;I(this,_);var n=this.connectedProxies.concat(this.connectingProxies);this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.authenticationContexts=[],n.forEach(function(n){t.emit(\"serverClosed\",{topologyId:t.id,address:n.name}),n.destroy(e),D(t.connectedProxies,t.disconnectedProxies,n)}),q(t),M(this,\"topologyClosed\",{topologyId:this.id})},A.prototype.isConnected=function(){return this.connectedProxies.length>0},A.prototype.isDestroyed=function(){return this.state==_};var z=function(e,t,n,i,r,o){\"function\"==typeof r&&(o=r,r=(r={})||{}),r=r||{};var s=P(e);if(!s)return o(new l(\"no mongos proxy available\"));s[t](n,i,r,o)};function q(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\";e.setName;e.connectedProxies.length>0&&(t=\"Sharded\");var n={topologyType:t,servers:[]},i=e.disconnectedProxies.concat(e.connectingProxies);n.servers=n.servers.concat(i.map(function(e){var t=e.getDescription();return t.type=\"Unknown\",t})),n.servers=n.servers.concat(e.connectedProxies.map(function(e){var t=e.getDescription();return t.type=\"Mongos\",t}));var r=f(e.topologyDescription,n),o={topologyId:e.id,previousDescription:e.topologyDescription,newDescription:n,diff:r};r.servers.length>0&&e.emit(\"topologyDescriptionChanged\",o),e.topologyDescription=n}}A.prototype.insert=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==_?i(new l(r(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void z(this,\"insert\",e,t,n,i):i(new l(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"insert\",e,t,n,i)},A.prototype.update=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==_?i(new l(r(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void z(this,\"update\",e,t,n,i):i(new l(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"update\",e,t,n,i)},A.prototype.remove=function(e,t,n,i){return\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==_?i(new l(r(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void z(this,\"remove\",e,t,n,i):i(new l(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"remove\",e,t,n,i)},A.prototype.command=function(e,t,n,i){if(\"function\"==typeof n&&(i=n,n=(n={})||{}),this.state==_)return i(new l(r(\"topology was destroyed\")));var o=P(this);if((null==o||!o.isConnected())&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,i);if(null==o)return i(new l(\"no mongos proxy available\"));var s=m(n);s.topology=this,o.command(e,t,s,i)},A.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,this,this.s.options)},A.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),i=this,o=Array.prototype.slice.call(arguments,2),s=o.pop(),a=0;if(null==this.authProviders[e]&&\"default\"!=e)return s(new l(r(\"auth provider %s does not exist\",e)));if(this.authenticating)return s(new l(\"authentication or logout allready in process\"));if(!i.isConnected()&&null!=i.s.disconnectHandler)return i.s.disconnectHandler.add(\"auth\",t,n,{},s);this.authenticating=!0;var c=[],p=this.connectedProxies.slice(0);function u(n){var r=[e,t].concat(o.slice(0)).concat([function(e){if(d-=1,e&&c.push({name:n.name,err:e}),0==d){if(i.authenticating=!1,c.length)return i.s.authenticationContexts.splice(a,0),s(l.create({message:\"authentication fail\",errors:c}),!1);s(null,i)}}]);n.lastIsMaster().arbiterOnly||n.auth.apply(n,r)}0==p.length&&(this.authenticating=!1,s(null,!0)),a=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(o.slice(0)));for(var d=p.length;p.length>0;)u(p.shift())},A.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new l(\"authentication or logout allready in process\");this.authenticating=!0;for(var i=Object.keys(this.authProviders),o=0;o<i.length;o++)this.authProviders[i[o]].logout(e);var s=this.connectedProxies.slice(0),a=s.length;if(0==a)return t();var c=[];function p(t,n){t.logout(e,function(e){e&&c.push({name:t.name,err:e}),n()})}for(o=0;o<s.length;o++)p(s[o],function(){if(0==(a-=1)){if(n.authenticating=!1,c.length)return t(l.create({message:r(\"logout failed against db %s\",e),errors:c}),!1);t()}})},A.prototype.getServer=function(){var e=P(this);return this.s.debug&&this.emit(\"pickedServer\",null,e),e},A.prototype.getConnection=function(){var e=this.getServer();if(e)return e.getConnection()},A.prototype.connections=function(){for(var e=[],t=0;t<this.connectedProxies.length;t++)e=e.concat(this.connectedProxies[t].connections());return e},e.exports=A},function(e,t,n){var i=n(3).EventEmitter,r=n(0).inherits,o=n(26),s=n(23),a=n(76).OrderedBulkOperation,c=n(77).UnorderedBulkOperation,l=n(112),p=n(18),u=n(62),d=n(78),f={operationId:1,next:function(){return this.operationId++}},m={current:function(){return(new Date).getTime()},duration:function(e,t){return t-e}},h=[\"authenticate\",\"saslStart\",\"saslContinue\",\"getnonce\",\"createUser\",\"updateUser\",\"copydbgetnonce\",\"copydbsaslstart\",\"copydb\"],v=function(e,t,r){var v=(t=t||{}).operationIdGenerator||f,g=t.timestampGenerator||m;i.call(this),this.overloads=[];\"function\"==typeof r&&function(e){for(var t=[],n=[l,a,c,s,o,p,u,d],i=0;i<n.length;i++)n[i].define&&t.push(n[i].define.generate());e(null,t)}(r);var y=this,b=[\"command\",\"insert\",\"update\",\"remove\"],x=e.Server.prototype;b.forEach(function(t){var n=x[t];y.overloads.push({proto:x,name:t,func:n}),x[t]=function(){var i=e.Query.nextRequestId(),r=Array.prototype.slice.call(arguments,0),o=r[0],s=r[1],a=r[2]||{},c=Object.keys(s)[0],l=o.split(\".\")[0],p=o.split(\".\");p.shift(),p=p.join(\".\"),\"insert\"==t?(c=\"insert\",s={insert:p,documents:s},a.writeConcern&&Object.keys(a.writeConcern).length>0&&(s.writeConcern=a.writeConcern),s.ordered=void 0==a.ordered||a.ordered):\"update\"==t?(c=\"update\",s={update:p,updates:s},a.writeConcern&&Object.keys(a.writeConcern).length>0&&(s.writeConcern=a.writeConcern),s.ordered=void 0==a.ordered||a.ordered):\"remove\"==t&&(c=\"delete\",s={delete:p,deletes:s},a.writeConcern&&Object.keys(a.writeConcern).length>0&&(s.writeConcern=a.writeConcern),s.ordered=void 0==a.ordered||a.ordered);var u=r.pop(),d=u.operationId||v.next(),f=this.s.pool.get(),m={command:s,databaseName:l,commandName:c,requestId:i,operationId:d,connectionId:f};-1!=h.indexOf(c.toLowerCase())&&(m.commandObj={},m.commandObj[c]=!0),y.emit(\"started\",m);var b=g.current();r.push(function(e,t){var n=g.current(),r={duration:g.duration(b,n),commandName:c,requestId:i,operationId:d,connectionId:f};e||t&&t.result&&0==t.result.ok?(r.failure=e||t.result.writeErrors||t.result,-1!=h.indexOf(c.toLowerCase())&&(r.failure={}),y.emit(\"failed\",r)):s&&s.writeConcern&&0==s.writeConcern.w?(r.reply={ok:1},y.emit(\"succeeded\",r)):(r.reply=t&&t.result?t.result:t,-1!=h.indexOf(c.toLowerCase())&&(r.reply={}),y.emit(\"succeeded\",r)),u(e,t)}),n.apply(this,r)}}),b=[\"execute\"];var w=[n(76).Bulk.prototype,n(77).Bulk.prototype];w.forEach(function(e){b.forEach(function(t){var n=e[t];y.overloads.push({proto:e,name:t,func:n}),e[t]=function(){var e=Array.prototype.slice.call(arguments,0);this.operationId=v.next();var t=e.pop();if(\"function\"!=typeof t)return n.apply(this,e);e.push(function(e,n){t(e,n)}),n.apply(this,e)}})}),b=[\"_find\",\"_getmore\",\"_killcursor\"];var S={_find:\"find\",_getmore:\"getMore\",_killcursor:\"killCursors\",_explain:\"explain\"};(w=[n(18).prototype,n(23).prototype,n(26).prototype]).forEach(function(t){b.forEach(function(n){var i=t[n];y.overloads.push({proto:t,name:n,func:i}),t[n]=function(){var t=this,r=e.Query.nextRequestId(),o=v.next(),s=this.ns.split(\".\"),a=s[0];s.shift();var c=s.join(\".\"),l=this.query,p=this.s.cmd;\"_find\"==n&&(t.operationId=o),\"_getmore\"==n?(l={getMore:this.cursorState.cursorId,collection:c,batchSize:p.batchSize},p.maxTimeMS&&(l.maxTimeMS=p.maxTimeMS)):\"_killcursor\"==n?l={killCursors:c,cursors:[this.cursorState.cursorId]}:p.find?(l={find:c,filter:p.query},p.sort&&(l.sort=p.sort),p.fields&&(l.projection=p.fields),p.limit&&p.limit<0?(l.limit=Math.abs(p.limit),l.singleBatch=!0):p.limit&&(l.limit=Math.abs(p.limit)),p.skip&&(l.skip=p.skip),p.hint&&(l.hint=p.hint),p.batchSize&&(l.batchSize=p.batchSize),\"boolean\"==typeof p.returnKey&&(l.returnKey=p.returnKey),p.comment&&(l.comment=p.comment),p.min&&(l.min=p.min),p.max&&(l.max=p.max),p.maxScan&&(l.maxScan=p.maxScan),p.maxTimeMS&&(l.maxTimeMS=p.maxTimeMS),\"boolean\"==typeof p.awaitData&&(l.awaitData=p.awaitData),\"boolean\"==typeof p.snapshot&&(l.snapshot=p.snapshot),\"boolean\"==typeof p.tailable&&(l.tailable=p.tailable),\"boolean\"==typeof p.oplogReplay&&(l.oplogReplay=p.oplogReplay),\"boolean\"==typeof p.noCursorTimeout&&(l.noCursorTimeout=p.noCursorTimeout),\"boolean\"==typeof p.partial&&(l.partial=p.partial),\"boolean\"==typeof p.showDiskLoc&&(l.showRecordId=p.showDiskLoc),p.readConcern&&(l.readConcern=p.readConcern),p.explain&&(l.explain=p.explain),p.exhaust&&(l.exhaust=p.exhaust),p.explain&&(l={explain:l,verbosity:\"allPlansExecution\"},p.readConcern&&(l.readConcern=p.readConcern),n=\"_explain\")):l=p;var u=null;this.connection&&(u=this.connection),!u&&this.server&&this.server.getConnection&&(u=this.server.getConnection());var d=\"_find\"==n?Object.keys(l)[0]:S[n];l={command:l,databaseName:a,commandName:d,requestId:r,operationId:this.operationId,connectionId:u};var f=Array.prototype.slice.call(arguments,0),m=f.pop();if(\"function\"!=typeof m&&\"killCursors\"!=l.commandName){f.push(m);var h=i.apply(this,f);return new t.s.promiseLibrary(function(e,n){var i=g.current();y.emit(\"started\",l),h.then(function(){var e={duration:g.duration(i,g.current()),commandName:d,requestId:r,operationId:t.operationId,connectionId:t.server.getConnection(),reply:t.cursorState.documents};y.emit(\"succeeded\",e)}).catch(function(e){var s={duration:g.duration(i,g.current()),commandName:d,requestId:r,operationId:o,connectionId:t.server.getConnection(),failure:e};y.emit(\"failed\",s),n(e)})})}var b=g.current();if(y.emit(\"started\",l),\"killCursors\"==l.commandName&&this.server.lastIsMaster()&&this.server.lastIsMaster().maxWireVersion<4)return l={duration:g.duration(b,g.current()),commandName:d,requestId:r,operationId:t.operationId,connectionId:t.server.getConnection(),reply:[{ok:1}]},f.push(m),i.apply(this,f),y.emit(\"succeeded\",l);f.push(function(e,n){if(e){var i={duration:g.duration(b,g.current()),commandName:d,requestId:r,operationId:o,connectionId:t.server.getConnection(),failure:e};y.emit(\"failed\",i)}else\"getmore\"==d.toLowerCase()&&null==n?n={cursor:{id:t.cursorState.cursorId,ns:t.ns,nextBatch:t.cursorState.documents},ok:1}:\"find\"!=d.toLowerCase()&&\"aggregate\"!=d.toLowerCase()&&\"listcollections\"!=d.toLowerCase()||null!=n?\"killcursors\"==d.toLowerCase()&&null==n&&(n={cursorsUnknown:[t.cursorState.lastCursorId],ok:1}):n={cursor:{id:t.cursorState.cursorId,ns:t.ns,firstBatch:t.cursorState.documents},ok:1},i={duration:g.duration(b,g.current()),commandName:d,requestId:r,operationId:t.operationId,connectionId:t.server.getConnection(),reply:n&&n.result?n.result:n},y.emit(\"succeeded\",i);m&&m(e,n)}),i.apply(this,f)}})})};r(v,i),v.prototype.uninstrument=function(){for(var e=0;e<this.overloads.length;e++){var t=this.overloads[e];t.proto[t.name]=t.func}this.removeAllListeners(\"started\"),this.removeAllListeners(\"succeeded\"),this.removeAllListeners(\"failed\")},e.exports=v},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},function(e,t,n){\"use strict\";n(13).Buffer;var i=n(75);function r(){this.head=null,this.tail=null,this.length=0}e.exports=r,r.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return\"\";for(var t=this.head,n=\"\"+t.data;t=t.next;)n+=e+t.data;return n},r.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t}},function(e,t,n){e.exports=n(0).deprecate},function(e,t,n){var i=n(13),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),o(r,s),s.from=function(e,t,n){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return r(e,t,n)},s.alloc=function(e,t,n){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var i=r(e);return void 0!==t?\"string\"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return r(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i.SlowBuffer(e)}},function(e,t,n){\"use strict\";e.exports=o;var i=n(110),r=n(37);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(24),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){\"use strict\";var i=n(15),r=n(33),o=n(0).format,s=n(1).assign,a=n(201);function c(e,t){var n=/^.*?\\./,i=\".\"+e.replace(n,\"\"),r=\".\"+t.replace(n,\"\");return!!i.endsWith(r)}function l(e,t,n){var a,c;try{a=function(e,t){var n=\"\",a=\"\",c=\"\",l=\"admin\",p=r.parse(e,!0);if((null==p.hostname||\"\"==p.hostname)&&-1==e.indexOf(\".sock\"))throw new Error(\"no hostname or hostnames provided in connection string\");if(\"0\"==p.port)throw new Error(\"invalid port (zero) with hostname\");if(!isNaN(parseInt(p.port,10))&&parseInt(p.port,10)>65535)throw new Error(\"invalid port (larger than 65535) with hostname\");if(p.path&&p.path.length>0&&\"/\"!=p.path[0]&&-1==e.indexOf(\".sock\"))throw new Error(\"missing delimiting slash between hosts and options\");if(p.query)for(var u in p.query){if(-1!=u.indexOf(\"::\"))throw new Error(\"double colon in host identifier\");if(\"\"==p.query[u])throw new Error(\"query parameter \"+u+\" is an incomplete value pair\")}if(p.auth){var d=p.auth.split(\":\");if(-1!=e.indexOf(p.auth)&&d.length>2)throw new Error(\"Username with password containing an unescaped colon\");if(-1!=e.indexOf(p.auth)&&-1!=p.auth.indexOf(\"@\"))throw new Error(\"Username containing an unescaped at-sign\")}for(var f=e.split(\"?\").shift().split(\",\"),m=[],h=0;h<f.length;h++){var v=f[h];-1!=v.indexOf(\"mongodb\")?-1!=v.indexOf(\"@\")?m.push(v.split(\"@\").pop()):m.push(v.substr(\"mongodb://\".length)):-1!=v.indexOf(\"/\")?m.push(v.split(\"/\").shift()):-1==v.indexOf(\"/\")&&m.push(v.trim())}for(h=0;h<m.length;h++){var g=r.parse(o(\"mongodb://%s\",m[h].trim()));if(g.path&&-1!=g.path.indexOf(\":\"))throw g.path.split(\"/\").length>1?new Error(\"slash in host identifier\"):new Error(\"double colon in host identifier\")}-1!=e.indexOf(\"?\")?(c=e.substr(e.indexOf(\"?\")+1),n=e.substring(\"mongodb://\".length,e.indexOf(\"?\"))):n=e.substring(\"mongodb://\".length);-1!=n.indexOf(\"@\")&&(a=n.split(\"@\")[0],n=n.split(\"@\")[1]);if(-1!=n.indexOf(\".sock\")){if(-1!=n.indexOf(\".sock/\")){if(-1!=(l=n.split(\".sock/\")[1]).indexOf(\"/\")){if(2==l.split(\"/\").length&&0==l.split(\"/\")[1].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}n=n.split(\"/\",n.indexOf(\".sock\")+\".sock\".length)}}else if(-1!=n.indexOf(\"/\")){if(n.split(\"/\").length>2){if(0==n.split(\"/\")[2].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}l=n.split(\"/\")[1],n=n.split(\"/\")[0]}var y,b={},x=a||\"\",w=x.split(\":\",2);w[0]=decodeURIComponent(w[0]),w[1]&&(w[1]=decodeURIComponent(w[1]));2==w.length&&(b.auth={user:w[0],password:w[1]});t&&null!=t.auth&&(b.auth=t.auth);var S={socketOptions:{}},k={read_preference_tags:[]},O={socketOptions:{}},E={socketOptions:{}};if(b.server_options=S,b.db_options=k,b.rs_options=O,b.mongos_options=E,e.match(/\\.sock/)){var C=e.substring(e.indexOf(\"mongodb://\")+\"mongodb://\".length,e.lastIndexOf(\".sock\")+\".sock\".length);-1!=C.indexOf(\"@\")&&(C=C.split(\"@\")[1]),y=[{domain_socket:C}]}else{var _={};y=n.split(\",\").map(function(e){var t,n,i;if(i=/\\[([^\\]]+)\\](?:\\:(.+))?/.exec(e))t=i[1],n=parseInt(i[2],10)||27017;else{var r=e.split(\":\",2);t=r[0]||\"localhost\",n=null!=r[1]?parseInt(r[1],10):27017,-1!=t.indexOf(\"?\")&&(t=t.split(/\\?/)[0])}return _[t+\"_\"+n]?null:(_[t+\"_\"+n]=1,{host:t,port:n})}).filter(function(e){return null!=e})}b.dbName=l||\"admin\",(c||\"\").split(/[&;]/).forEach(function(e){if(e){var t=e.split(\"=\"),n=t[0],r=t[1];switch(n){case\"slaveOk\":case\"slave_ok\":S.slave_ok=\"true\"==r,k.slaveOk=\"true\"==r;break;case\"maxPoolSize\":case\"poolSize\":S.poolSize=parseInt(r,10),O.poolSize=parseInt(r,10);break;case\"appname\":b.appname=decodeURIComponent(r);break;case\"autoReconnect\":case\"auto_reconnect\":S.auto_reconnect=\"true\"==r;break;case\"minPoolSize\":throw new Error(\"minPoolSize not supported\");case\"maxIdleTimeMS\":throw new Error(\"maxIdleTimeMS not supported\");case\"waitQueueMultiple\":throw new Error(\"waitQueueMultiple not supported\");case\"waitQueueTimeoutMS\":throw new Error(\"waitQueueTimeoutMS not supported\");case\"uuidRepresentation\":throw new Error(\"uuidRepresentation not supported\");case\"ssl\":if(\"prefer\"==r){S.ssl=r,O.ssl=r,E.ssl=r;break}S.ssl=\"true\"==r,O.ssl=\"true\"==r,E.ssl=\"true\"==r;break;case\"sslValidate\":S.sslValidate=\"true\"==r,O.sslValidate=\"true\"==r,E.sslValidate=\"true\"==r;break;case\"replicaSet\":case\"rs_name\":O.rs_name=r;break;case\"reconnectWait\":O.reconnectWait=parseInt(r,10);break;case\"retries\":O.retries=parseInt(r,10);break;case\"readSecondary\":case\"read_secondary\":O.read_secondary=\"true\"==r;break;case\"fsync\":k.fsync=\"true\"==r;break;case\"journal\":k.j=\"true\"==r;break;case\"safe\":k.safe=\"true\"==r;break;case\"nativeParser\":case\"native_parser\":k.native_parser=\"true\"==r;break;case\"readConcernLevel\":k.readConcern={level:r};break;case\"connectTimeoutMS\":S.socketOptions.connectTimeoutMS=parseInt(r,10),O.socketOptions.connectTimeoutMS=parseInt(r,10),E.socketOptions.connectTimeoutMS=parseInt(r,10);break;case\"socketTimeoutMS\":S.socketOptions.socketTimeoutMS=parseInt(r,10),O.socketOptions.socketTimeoutMS=parseInt(r,10),E.socketOptions.socketTimeoutMS=parseInt(r,10);break;case\"w\":k.w=parseInt(r,10),isNaN(k.w)&&(k.w=r);break;case\"authSource\":k.authSource=r;break;case\"gssapiServiceName\":k.gssapiServiceName=r;break;case\"authMechanism\":if(\"GSSAPI\"==r)if(null==b.auth){var o=decodeURIComponent(x);if(-1==o.indexOf(\"@\"))throw new Error(\"GSSAPI requires a provided principal\");b.auth={user:o,password:null}}else b.auth.user=decodeURIComponent(b.auth.user);else\"MONGODB-X509\"==r&&(b.auth={user:decodeURIComponent(x)});if(\"GSSAPI\"!=r&&\"MONGODB-X509\"!=r&&\"MONGODB-CR\"!=r&&\"DEFAULT\"!=r&&\"SCRAM-SHA-1\"!=r&&\"PLAIN\"!=r)throw new Error(\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\");k.authMechanism=r;break;case\"authMechanismProperties\":var s={};r.split(\",\").forEach(function(e){var t=e.split(\":\");s[t[0]]=t[1]}),k.authMechanismProperties=s,\"string\"==typeof s.SERVICE_NAME&&(k.gssapiServiceName=s.SERVICE_NAME),\"string\"==typeof s.SERVICE_REALM&&(k.gssapiServiceRealm=s.SERVICE_REALM),\"string\"==typeof s.CANONICALIZE_HOST_NAME&&(k.gssapiCanonicalizeHostName=\"true\"==s.CANONICALIZE_HOST_NAME);break;case\"wtimeoutMS\":k.wtimeout=parseInt(r,10);break;case\"readPreference\":if(!i.isValid(r))throw new Error(\"readPreference must be either primary/primaryPreferred/secondary/secondaryPreferred/nearest\");k.readPreference=r;break;case\"maxStalenessSeconds\":k.maxStalenessSeconds=parseInt(r,10);break;case\"readPreferenceTags\":var a={};if(null==(r=decodeURIComponent(r))||\"\"==r){k.read_preference_tags.push(a);break}for(var c=r.split(/\\,/),l=0;l<c.length;l++){var p=c[l].trim().split(/\\:/);a[p[0]]=p[1]}k.read_preference_tags.push(a)}}}),0===k.read_preference_tags.length&&(k.read_preference_tags=null);if(!(-1!=k.w&&0!=k.w||1!=k.journal&&1!=k.fsync&&1!=k.safe))throw new Error(\"w set to -1 or 0 cannot be combined with safe/w/journal/fsync\");k.readPreference||(k.readPreference=\"primary\");return k=s(k,t),b.servers=y,b}(e,t)}catch(e){c=e}return c?n(c,null):n(null,a)}e.exports=function(e,t,n){\"function\"==typeof t&&(n=t,t={}),t=t||{};var i=r.parse(e,!0);if(\"mongodb:\"!==i.protocol&&\"mongodb+srv:\"!==i.protocol)return n(new Error(\"invalid schema, expected mongodb or mongodb+srv\"));if(\"mongodb+srv:\"===i.protocol){if(i.hostname.split(\".\").length<3)return n(new Error(\"uri does not have hostname, domainname and tld\"));if(i.domainLength=i.hostname.split(\".\").length,i.pathname&&i.pathname.match(\",\"))return n(new Error(\"invalid uri, cannot contain multiple hostnames\"));if(i.port)return n(new Error(\"Ports not accepted with mongodb+srv\"));var o=\"_mongodb._tcp.\"+i.host;a.resolveSrv(o,function(e,r){if(e)return n(e);if(0===r.length)return n(new Error(\"No addresses found at host\"));for(var o=0;o<r.length;o++)if(!c(r[o].name,i.hostname,i.domainLength))return n(new Error(\"srv record does not share hostname with parent uri\"));var s=i.auth?\"mongodb://\"+i.auth+\"@\":\"mongodb://\",p=r.map(function(e,t){return 0===t?s+e.name+\":\"+e.port:e.name+\":\"+e.port}).join(\",\")+\"/\",u=[];(t.ssl||i.search)&&(t.ssl||!i.search||i.search.match(\"ssl\"))||u.push(\"ssl=true\"),i.search&&u.push(i.search.replace(\"?\",\"\")),a.resolveTxt(i.host,function(e,i){if(e&&\"ENODATA\"!==e.code)return n(e);if(e&&\"ENODATA\"===e.code&&(i=null),i){if(i.length>1)return n(new Error(\"multiple text records not allowed\"));if(!(i=(i=i[0]).length>1?i.join(\"\"):i[0]).includes(\"authSource\")&&!i.includes(\"replicaSet\"))return n(new Error(\"text record must only set `authSource` or `replicaSet`\"));u.push(i)}u.length&&(p+=\"?\"+u.join(\"&\")),l(p,t,n)})})}else l(e,t,n)}},function(e,t){e.exports=require(\"dns\")},function(e,t,n){var i=n(3).EventEmitter,r=n(203),o=n(204),s=n(1).shallowClone,a=n(1).toError,c=n(0),l={bucketName:\"fs\",chunkSizeBytes:261120};function p(e,t){if(i.apply(this),this.setMaxListeners(0),t&&\"object\"==typeof t){t=s(t);for(var r=Object.keys(l),o=0;o<r.length;++o)t[r[o]]||(t[r[o]]=l[r[o]])}else t=l;this.s={db:e,options:t,_chunksCollection:e.collection(t.bucketName+\".chunks\"),_filesCollection:e.collection(t.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:e.s.promiseLibrary||(\"function\"==typeof global.Promise?global.Promise:n(6).Promise)}}function u(e,t,n){e.s._filesCollection.deleteOne({_id:t},function(i,r){if(i)return n(i);e.s._chunksCollection.deleteMany({files_id:t},function(e){return e?n(e):r.result.n?void n():n(new Error(\"FileNotFound: no file with id \"+t+\" found\"))})})}function d(e,t,n,i){var r={_id:t},o={$set:{filename:n}};e.s._filesCollection.updateOne(r,o,function(e,n){return e?i(e):n.result.n?void i():i(a(\"File with id \"+t+\" not found\"))})}function f(e,t){e.s._filesCollection.drop(function(n){if(n)return t(n);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}e.exports=p,c.inherits(p,i),p.prototype.openUploadStream=function(e,t){return(t=t?s(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new o(this,e,t)},p.prototype.openUploadStreamWithId=function(e,t,n){return(n=n?s(n):{}).chunkSizeBytes||(n.chunkSizeBytes=this.s.options.chunkSizeBytes),n.id=e,new o(this,t,n)},p.prototype.openDownloadStream=function(e,t){var n={_id:e};return t={start:t&&t.start,end:t&&t.end},new r(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,n,t)},p.prototype.delete=function(e,t){if(\"function\"==typeof t)return u(this,e,t);var n=this;return new this.s.promiseLibrary(function(t,i){u(n,e,function(e,n){e?i(e):t(n)})})},p.prototype.find=function(e,t){e=e||{},t=t||{};var n=this.s._filesCollection.find(e);return null!=t.batchSize&&n.batchSize(t.batchSize),null!=t.limit&&n.limit(t.limit),null!=t.maxTimeMS&&n.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&n.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&n.skip(t.skip),null!=t.sort&&n.sort(t.sort),n},p.prototype.openDownloadStreamByName=function(e,t){var n={uploadDate:-1},i=null;t&&null!=t.revision&&(t.revision>=0?(n={uploadDate:1},i=t.revision):i=-t.revision-1);var o={filename:e};return t={sort:n,skip:i,start:t&&t.start,end:t&&t.end},new r(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,o,t)},p.prototype.rename=function(e,t,n){if(\"function\"==typeof n)return d(this,e,t,n);var i=this;return new this.s.promiseLibrary(function(n,r){d(i,e,t,function(e,t){e?r(e):n(t)})})},p.prototype.drop=function(e){if(\"function\"==typeof e)return f(this,e);var t=this;return new this.s.promiseLibrary(function(e,n){f(t,function(t,i){t?n(t):e(i)})})}},function(e,t,n){var i=n(9),r=n(0);function o(e,t,n,r,o){this.s={bytesRead:0,chunks:e,cursor:null,expected:0,files:t,filter:r,init:!1,expectedEnd:0,file:null,options:o,readPreference:n},i.Readable.call(this)}function s(e){if(e.s.init)throw new Error(\"You cannot change options after the stream has enteredflowing mode!\")}function a(e,t){e.emit(\"error\",t)}e.exports=o,r.inherits(o,i.Readable),o.prototype._read=function(){var e=this;this.destroyed||function(e,t){if(e.s.file)return t();e.s.init||(!function(e){var t={};e.s.readPreference&&(t.readPreference=e.s.readPreference);e.s.options&&e.s.options.sort&&(t.sort=e.s.options.sort);e.s.options&&e.s.options.skip&&(t.skip=e.s.options.skip);e.s.files.findOne(e.s.filter,t,function(t,n){if(t)return a(e,t);if(!n){var i=e.s.filter._id?e.s.filter._id.toString():e.s.filter.filename,r=\"FileNotFound: file \"+i+\" was not found\",o=new Error(r);return o.code=\"ENOENT\",a(e,o)}if(n.length<=0)e.push(null);else if(e.destroyed)e.emit(\"close\");else{e.s.bytesToSkip=function(e,t,n){if(n&&null!=n.start){if(n.start>t.length)throw new Error(\"Stream start (\"+n.start+\") must not be more than the length of the file (\"+t.length+\")\");if(n.start<0)throw new Error(\"Stream start (\"+n.start+\") must not be negative\");if(null!=n.end&&n.end<n.start)throw new Error(\"Stream start (\"+n.start+\") must not be greater than stream end (\"+n.end+\")\");return e.s.bytesRead=Math.floor(n.start/t.chunkSize)*t.chunkSize,e.s.expected=Math.floor(n.start/t.chunkSize),n.start-e.s.bytesRead}}(e,n,e.s.options);var s={files_id:n._id};if(e.s.options&&null!=e.s.options.start){var c=Math.floor(e.s.options.start/n.chunkSize);c>0&&(s.n={$gte:c})}e.s.cursor=e.s.chunks.find(s).sort({n:1}),e.s.readPreference&&e.s.cursor.setReadPreference(e.s.readPreference),e.s.expectedEnd=Math.ceil(n.length/n.chunkSize),e.s.file=n,e.s.bytesToTrim=function(e,t,n,i){if(i&&null!=i.end){if(i.end>t.length)throw new Error(\"Stream end (\"+i.end+\") must not be more than the length of the file (\"+t.length+\")\");if(i.start<0)throw new Error(\"Stream end (\"+i.end+\") must not be negative\");var r=null!=i.start?Math.floor(i.start/t.chunkSize):0;return n.limit(Math.ceil(i.end/t.chunkSize)-r),e.s.expectedEnd=Math.ceil(i.end/t.chunkSize),Math.ceil(i.end/t.chunkSize)*t.chunkSize-i.end}}(e,n,e.s.cursor,e.s.options),e.emit(\"file\",n)}})}(e),e.s.init=!0);e.once(\"file\",function(){t()})}(e,function(){!function(e){if(e.destroyed)return;e.s.cursor.next(function(t,n){if(!e.destroyed){if(t)return a(e,t);if(!n)return e.push(null),e.s.cursor.close(function(t){if(t)return a(e,t);e.emit(\"close\")});var i=e.s.file.length-e.s.bytesRead,r=e.s.expected++,o=Math.min(e.s.file.chunkSize,i);if(n.n>r){var s=\"ChunkIsMissing: Got unexpected n: \"+n.n+\", expected: \"+r;return a(e,new Error(s))}if(n.n<r)return s=\"ExtraChunk: Got unexpected n: \"+n.n+\", expected: \"+r,a(e,new Error(s));var c=Buffer.isBuffer(n.data)?n.data:n.data.buffer;if(c.length!==o)return i<=0?(s=\"ExtraChunk: Got unexpected n: \"+n.n,a(e,new Error(s))):(s=\"ChunkIsWrongSize: Got unexpected length: \"+c.length+\", expected: \"+o,a(e,new Error(s)));if(e.s.bytesRead+=c.length,0===c.length)return e.push(null);var l=null,p=null;null!=e.s.bytesToSkip&&(l=e.s.bytesToSkip,e.s.bytesToSkip=0),r===e.s.expectedEnd&&null!=e.s.bytesToTrim&&(p=e.s.bytesToTrim),e.s.options.end&&e.s.options.end-e.s.bytesToSkip<c.length&&(p=e.s.options.end-e.s.bytesToSkip),null==l&&null==p||(c=c.slice(l||0,p||c.length)),e.push(c)}})}(e)})},o.prototype.start=function(e){return s(this),this.s.options.start=e,this},o.prototype.end=function(e){return s(this),this.s.options.end=e,this},o.prototype.abort=function(e){var t=this;this.push(null),this.destroyed=!0,this.s.cursor?this.s.cursor.close(function(n){t.emit(\"close\"),e&&e(n)}):(this.s.init||t.emit(\"close\"),e&&e())}},function(e,t,n){var i=n(2),r=n(20),o=n(9),s=n(0),a=26;function c(e,t,n){if(n=n||{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=t,this.files=e.s._filesCollection,this.options=n,this.done=!1,this.id=n.id?n.id:i.BSON.ObjectId(),this.chunkSizeBytes=this.options.chunkSizeBytes,this.bufToStore=new Buffer(this.chunkSizeBytes),this.length=0,this.md5=r.createHash(\"md5\"),this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1,promiseLibrary:this.bucket.s.promiseLibrary},!this.bucket.s.calledOpenUploadStream){this.bucket.s.calledOpenUploadStream=!0;var o=this;!function(e,t){e.files.findOne({},{_id:1},function(n,i){return n?t(n):i?t():void e.files.listIndexes().toArray(function(n,i){if(n){if(n.code===a){var r={filename:1,uploadDate:1};return void e.files.createIndex(r,{background:!1},function(n){if(n)return t(n);u(e,t)})}return t(n)}var o=!1;if(i.forEach(function(e){var t=Object.keys(e.key);2===t.length&&1===e.key.filename&&1===e.key.uploadDate&&(o=!0)}),o)u(e,t);else{r={filename:1,uploadDate:1};var s=f(e);s.background=!1,e.files.createIndex(r,s,function(n){if(n)return t(n);u(e,t)})}})})}(this,function(){o.bucket.s.checkedIndexes=!0,o.bucket.emit(\"index\")})}}function l(e,t,n){if(!e.state.errored){if(e.state.errored=!0,n)return n(t);e.emit(\"error\",t)}}function p(e,t,n){return{_id:i.BSON.ObjectId(),files_id:e,n:t,data:n}}function u(e,t){e.chunks.listIndexes().toArray(function(n,i){if(n){if(n.code===a){var r={files_id:1,n:1};return void e.chunks.createIndex(r,{background:!1,unique:!0},function(e){if(e)return t(e);t()})}return t(n)}var o=!1;if(i.forEach(function(e){e.key&&(2===Object.keys(e.key).length&&1===e.key.files_id&&1===e.key.n&&(o=!0))}),o)t();else{r={files_id:1,n:1};var s=f(e);s.background=!1,s.unique=!0,e.chunks.createIndex(r,s,function(e){if(e)return t(e);t()})}})}function d(e,t){if(e.done)return!0;if(e.state.streamEnd&&0===e.state.outstandingRequests&&!e.state.errored){e.done=!0;var n=function(e,t,n,i,r,o,s,a){var c={_id:e,length:t,chunkSize:n,uploadDate:new Date,md5:i,filename:r};o&&(c.contentType=o);s&&(c.aliases=s);a&&(c.metadata=a);return c}(e.id,e.length,e.chunkSizeBytes,e.md5.digest(\"hex\"),e.filename,e.options.contentType,e.options.aliases,e.options.metadata);return!v(e,t)&&(e.files.insert(n,f(e),function(i){if(i)return l(e,i,t);e.emit(\"finish\",n)}),!0)}return!1}function f(e){var t={};return e.options.writeConcern&&(t.w=e.options.writeConcern.w,t.wtimeout=e.options.writeConcern.wtimeout,t.j=e.options.writeConcern.j),t}function m(e,t){return e.bucket.s.checkedIndexes?t(!1):(e.bucket.once(\"index\",function(){t(!0)}),!0)}function h(e,t){if(0===e.pos)return d(e,t);++e.state.outstandingRequests;var n=new Buffer(e.pos);e.bufToStore.copy(n,0,0,e.pos),e.md5.update(n);var i=p(e.id,e.n,n);if(v(e,t))return!1;e.chunks.insert(i,f(e),function(t){if(t)return l(e,t);--e.state.outstandingRequests,d(e)})}function v(e,t){return!!e.state.aborted&&(\"function\"==typeof t&&t(new Error(\"this stream has been aborted\")),!0)}e.exports=c,s.inherits(c,o.Writable),c.prototype.write=function(e,t,n){var i=this;return m(this,function(){return function(e,t,n,i){if(v(e,i))return!1;var r=Buffer.isBuffer(t)?t:new Buffer(t,n);if(e.length+=r.length,e.pos+r.length<e.chunkSizeBytes)return r.copy(e.bufToStore,e.pos),e.pos+=r.length,i&&i(),!0;var o=r.length,s=e.chunkSizeBytes-e.pos,a=Math.min(s,r.length),c=0;for(;o>0;){var u=r.length-o;if(r.copy(e.bufToStore,e.pos,u,u+a),e.pos+=a,0===(s-=a)){e.md5.update(e.bufToStore);var m=p(e.id,e.n,e.bufToStore);if(++e.state.outstandingRequests,++c,v(e,i))return!1;e.chunks.insert(m,f(e),function(t){if(t)return l(e,t);--e.state.outstandingRequests,--c||(e.emit(\"drain\",m),i&&i(),d(e))}),s=e.chunkSizeBytes,e.pos=0,++e.n}o-=a,a=Math.min(s,o)}return!1}(i,e,t,n)})},c.prototype.abort=function(e){if(this.state.streamEnd){var t=new Error(\"Cannot abort a stream that has already completed\");return\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t)}if(this.state.aborted)return t=new Error(\"Cannot call abort() on a stream twice\"),\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t);this.state.aborted=!0,this.chunks.deleteMany({files_id:this.id},function(t){\"function\"==typeof e&&e(t)})},c.prototype.end=function(e,t,n){var i=this;\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),v(this,n)||(this.state.streamEnd=!0,n&&this.once(\"finish\",function(e){n(null,e)}),e?this.write(e,t,function(){h(i)}):m(this,function(){h(i)}))}},,,,,,function(e,t,n){const i=n(95)();var r=n(121).MongoClient;const o=n(98);i.get(\"/\",function(e,t){r.connect(\"mongodb://lsands:Sandy427!@ds137291.mlab.com:37291/s_garden\",(e,n)=>{n.collection(\"s_garden\").find({}).toArray(function(e,i){console.log(i),t.json(i),n.close()})})}),e.exports.handler=o(i)}]));","extractedComments":[]}